var Ft=Object.defineProperty;var Mt=(s,i,t)=>i in s?Ft(s,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[i]=t;var e=(s,i,t)=>(Mt(s,typeof i!="symbol"?i+"":i,t),t);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(a){if(a.ep)return;a.ep=!0;const r=t(a);fetch(a.href,r)}})();class Gt{constructor(i){e(this,"width",1024);e(this,"height",512);e(this,"canvas");e(this,"ctx");e(this,"getCanvas",()=>this.canvas);e(this,"getCtx",()=>this.ctx);this.canvas=document.createElement("canvas"),this.canvas.id="canvas-background";const t=this.canvas.getContext("2d");if(t===null)throw new Error("Context not found");this.ctx=t,this.canvas.width=this.width,this.canvas.height=this.height,i.appendChild(this.canvas)}}class bt{constructor(i){e(this,"canvasBorder");e(this,"canvasContainer");e(this,"getCanvasContainer",()=>this.canvasContainer);this.canvasBorder=document.createElement("div"),this.canvasBorder.id="canvas-border",this.canvasBorder.classList.add("box-shadow"),this.canvasContainer=document.createElement("div"),this.canvasContainer.id="canvas-container",this.canvasBorder.appendChild(this.canvasContainer),i.appendChild(this.canvasBorder)}}const mt=s=>({x:s.offsetX,y:s.offsetY}),ot=s=>{const i=G.getTileRows(),{x:t,y:n}=mt(s);let a=null;return i.forEach(r=>{r.forEach(o=>{t>=o.x&&t<=o.x+o.width&&n>=o.y&&n<=o.y+o.height&&(a=o)})}),a},ut=s=>{const i=G.getTileRows(),{x:t,y:n}=mt(s);let a=null;return i.forEach(r=>{r.forEach(o=>{t>=o.x&&t<=o.x+o.width&&n>=o.y&&n<=o.y+o.height&&(a=o)})}),a};class gt{constructor(i,t,n){e(this,"id");e(this,"x");e(this,"y");e(this,"width",64);e(this,"height",64);e(this,"sWidth",64);e(this,"sHeight",this.sWidth);e(this,"dWidth",64);e(this,"dHeight",this.dWidth);e(this,"dX");e(this,"dY");e(this,"drawGrid",()=>{h.ctxBackground.lineWidth=.1,h.ctxBackground.strokeStyle="black",h.ctxBackground.font=" 10px sans-serif",h.ctxBackground.fillStyle="white",h.ctxBackground.beginPath(),h.ctxBackground.strokeRect(this.x,this.y,this.width,this.height),h.ctxBackground.fillText(`${this.id}`,this.x+5,this.y+10),h.ctxBackground.fillText(`X:${this.x}-${this.x+64}`,this.x+5,this.y+30),h.ctxBackground.fillText(`Y:${this.y} ${this.y+64}`,this.x+5,this.y+50)});this.id=i,this.x=t,this.y=n,this.dX=t,this.dY=n}}const qe=s=>s[Math.floor(Math.random()*s.length)],it=({x:s,y:i})=>{const t=s+32,n=i+64/2;return{x:t,y:n}},pe=({imageScale:s,sourceSize:i,translateCorrection:t})=>-((s*i-i)/2)+t;class b extends gt{constructor(t,n,a){super(t,n,a);e(this,"hasTower",!1);e(this,"towerBp",null);e(this,"image");e(this,"sX");e(this,"sY");e(this,"towerBpImage",null);e(this,"tileGrasCoords",[{sx:0*this.sWidth,sy:0*this.sHeight},{sx:0*this.sWidth,sy:1*this.sHeight},{sx:1*this.sWidth,sy:0*this.sHeight},{sx:1*this.sWidth,sy:1*this.sHeight},{sx:2*this.sWidth,sy:0*this.sHeight},{sx:2*this.sWidth,sy:1*this.sHeight},{sx:3*this.sWidth,sy:0*this.sHeight},{sx:3*this.sWidth,sy:1*this.sHeight}]);e(this,"getImgConfig",()=>qe(this.tileGrasCoords));e(this,"drawImg",()=>{this.image!==null&&h.ctxBackground.drawImage(this.image,this.sX,this.sY,this.sWidth,this.sHeight,this.dX,this.dY,this.dWidth,this.dHeight)});e(this,"setHasTower",()=>this.hasTower=!0);e(this,"setTowerBp",t=>{this.towerBp=t});e(this,"drawTowerBp",()=>{if(this.towerBp!==null){const{config:t}=this.towerBp,n=P.imageController.getImage(t.bluePrint.id);h.ctxGame.drawImage(n,this.dX+pe({imageScale:t.imageScale,sourceSize:t.sWidth,translateCorrection:t.imageTranslateCorrection.x}),this.dY+pe({imageScale:t.imageScale,sourceSize:t.sHeight,translateCorrection:t.imageTranslateCorrection.y}),t.imageScale*t.sWidth,t.imageScale*t.sHeight);const a=it({x:this.x,y:this.y});h.ctxGame.beginPath(),h.ctxGame.arc(a.x,a.y,t.range,0,Math.PI*2),h.ctxGame.fillStyle="rgba(225,225,225,0.1)",h.ctxGame.fill()}});e(this,"updateBG",()=>{this.drawImg()});e(this,"update",()=>{this.towerBp!==null&&this.drawTowerBp()});this.image=P.imageController.getImage("textures"),this.sX=this.getImgConfig().sx,this.sY=this.getImgConfig().sy}}class ft extends gt{constructor(t,n,a,r){super(t,n,a);e(this,"sX");e(this,"sY");e(this,"horizontalTilePathsCoords",[{sx:2*this.sWidth,sy:2*this.sHeight},{sx:3*this.sWidth,sy:2*this.sHeight}]);e(this,"verticalTilePathsCoords",[{sx:1*this.sWidth,sy:2*this.sHeight},{sx:1*this.sWidth,sy:3*this.sHeight}]);e(this,"cornerTilePathCoords",{sx:0*this.sWidth,sy:2*this.sHeight});e(this,"direction");e(this,"getImgConfig",()=>{let t;switch(this.direction){case"horizontal":t=qe(this.horizontalTilePathsCoords);break;case"vertical":t=qe(this.verticalTilePathsCoords);break;default:t=this.cornerTilePathCoords}return t});e(this,"drawImg",()=>{const t=P.imageController.getImage("textures");h.ctxBackground.drawImage(t,this.sX,this.sY,this.sWidth,this.sHeight,this.dX,this.dY,this.dWidth,this.dHeight)});e(this,"updateBG",()=>{this.drawImg()});this.direction=r,this.sX=this.getImgConfig().sx,this.sY=this.getImgConfig().sy}}class Bt{constructor(i){e(this,"element");e(this,"scaleInTransformIn",[{transform:"translate(-50%, -50%) scale(0.5)"},{transform:"translate(-50%, -50%) scale(1)"}]);e(this,"scaleInTransformOut",[{transform:"translate(-50%, -50%) scale(1)"},{transform:"translate(-50%, -50%) scale(0.5)"}]);e(this,"scaleInTiming",100);e(this,"remove",()=>{this.element.animate(this.scaleInTransformOut,this.scaleInTiming),setTimeout(()=>{this.element.remove()},this.scaleInTiming)});this.element=document.createElement("h2"),this.element.id="info-message",this.element.innerHTML=i,document.body.appendChild(this.element),this.element.animate(this.scaleInTransformIn,this.scaleInTiming),setTimeout(()=>{this.remove()},1e3)}}class Ot{constructor(i){e(this,"width",1024);e(this,"height",512);e(this,"canvas");e(this,"ctx");e(this,"previousTileForHover",null);e(this,"getCanvas",()=>this.canvas);e(this,"getCtx",()=>this.ctx);e(this,"mouseMoveCallback",i=>{this.showTowerBpOnTile(i)});e(this,"mouseLeaveCallback",i=>{this.resetPreviousTileForHover()});e(this,"clickCallback",i=>{this.showTowerRange(i),this.placeTowerOnTile(i)});e(this,"showTowerBpOnTile",i=>{const t=A.menu.getSelectedTower();if(t===null)return;const n=ut(i);this.previousTileForHover!==n&&(this.previousTileForHover instanceof b&&this.previousTileForHover.setTowerBp(null),n instanceof b&&!n.hasTower&&(n.setTowerBp(t),h.body.removeAllClassesFromBody(),n.update()),(n instanceof b&&!n.towerBp||n instanceof ft)&&h.body.addTowerMouseCursor(t),this.previousTileForHover=n)});e(this,"resetPreviousTileForHover",()=>{this.previousTileForHover instanceof b&&(this.previousTileForHover.setTowerBp(null),this.previousTileForHover.updateBG()),this.previousTileForHover=null});e(this,"placeTowerOnTile",i=>{const t=A.menu.getSelectedTower();if(t===null)return;if(A.gold.getCurrentGold()<t.price){new Bt("Not enough Gold!");return}const a=ot(i);a instanceof b&&!a.hasTower&&(A.towers.createTower(a.x,a.y,t),A.gold.reduceGold(t.price),a.setHasTower(),a.setTowerBp(null),a.updateBG(),A.menu.setSelectedTower(null),h.body.removeAllClassesFromBody())});e(this,"showTowerRange",i=>{const t=ot(i);if(t instanceof b&&t.hasTower&&A.menu.getSelectedTower()===null){const n=A.towers.getTowerForTile(t.x,t.y);n==null||n.setShowRange(!0)}});this.canvas=document.createElement("canvas"),this.canvas.id="canvas-game";const t=this.canvas.getContext("2d");if(t===null)throw new Error("Context not found");this.ctx=t,this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.addEventListener("mousemove",this.mouseMoveCallback),this.canvas.addEventListener("mouseleave",this.mouseLeaveCallback),this.canvas.addEventListener("click",this.clickCallback),i.appendChild(this.canvas)}}class Lt{constructor(){e(this,"body");e(this,"contextmenuCallback",i=>{i.preventDefault(),A.resetEventListeners()});e(this,"clickCallback",i=>{A.towers.hideTowerRange()});e(this,"mouseMoveCallback",i=>{this.showTowerMouseCursor(i)});e(this,"showTowerMouseCursor",i=>{const t=A.menu.getSelectedTower(),n=ut(i);t!==null&&(n instanceof b&&n.towerBp===null||n===null)&&this.addTowerMouseCursor(t)});e(this,"addTowerMouseCursor",i=>{this.body.classList.add(i.id)});e(this,"removeAllClassesFromBody",()=>{this.body.className=""});const i=document.querySelector("body");if(i===null)throw new Error("Body not found");this.body=i,this.body.addEventListener("contextmenu",this.contextmenuCallback),this.body.addEventListener("click",this.clickCallback,!0),this.body.addEventListener("mousemove",this.mouseMoveCallback)}}class Xt{constructor(){e(this,"gameContainer");e(this,"guiContainer");e(this,"scaleInTransform",[{transform:"scale(0.9)"},{transform:"scale(1)"}]);e(this,"scaleInTiming",150);e(this,"getGuiContainer",()=>this.guiContainer);const i=document.getElementById("game-container");if(i===null)throw new Error("game-container not found");this.gameContainer=i,this.guiContainer=document.createElement("div"),this.guiContainer.id="gui-container",this.gameContainer.appendChild(this.guiContainer),this.guiContainer.animate(this.scaleInTransform,this.scaleInTiming)}}class Nt{constructor(i){e(this,"menuBorder");e(this,"menuContainer");e(this,"menuTowersContainer");e(this,"menuTowersContainerInner");e(this,"menuGameStatsContainer");e(this,"getMenuContainer",()=>this.menuContainer);e(this,"getMenuTowersContainer",()=>this.menuTowersContainer);e(this,"addChildToMenuTowersContainer",i=>{this.menuTowersContainerInner.appendChild(i)});e(this,"addMenuItemGold",i=>{this.menuGameStatsContainer.appendChild(i)});e(this,"addMenuItemPlayerHealth",i=>{this.menuGameStatsContainer.appendChild(i)});this.menuBorder=document.createElement("div"),this.menuBorder.id="menu-border",this.menuBorder.classList.add("box-shadow"),this.menuContainer=document.createElement("div"),this.menuContainer.id="menu-container",this.menuTowersContainer=document.createElement("div"),this.menuTowersContainer.id="menu-towers-container",this.menuTowersContainerInner=document.createElement("div"),this.menuTowersContainerInner.id="menu-towers-container-inner",this.menuGameStatsContainer=document.createElement("div"),this.menuGameStatsContainer.id="menu-game-stats-container",this.menuTowersContainer.appendChild(this.menuTowersContainerInner),this.menuBorder.appendChild(this.menuContainer),this.menuContainer.appendChild(this.menuGameStatsContainer),this.menuContainer.appendChild(this.menuTowersContainer),i.appendChild(this.menuBorder)}}class Dt{constructor(){e(this,"toggleTilesInfoButton");e(this,"toggleGrid",()=>{G.drawGrid(),gtag("event","click",{event_category:"button",event_label:"toggle grid"})});const i=document.querySelector("#toggle-tiles-info");if(i===null)throw new Error("toggleTilesInfoButton not found");this.toggleTilesInfoButton=i,this.toggleTilesInfoButton.addEventListener("click",this.toggleGrid)}}class jt{constructor(){e(this,"guiContainer");e(this,"canvasContainer");e(this,"canvasBackground");e(this,"canvasGame");e(this,"ctxBackground");e(this,"ctxGame");e(this,"menuContainer");e(this,"body");this.guiContainer=new Xt,this.canvasContainer=new bt(this.guiContainer.getGuiContainer());const i=new Gt(this.canvasContainer.getCanvasContainer());this.canvasBackground=i.getCanvas(),this.ctxBackground=i.getCtx();const t=new Ot(this.canvasContainer.getCanvasContainer());this.canvasGame=t.getCanvas(),this.ctxGame=t.getCtx(),this.menuContainer=new Nt(this.guiContainer.getGuiContainer()),new Dt,this.body=new Lt}}const S=(s,i)=>{const t=performance.now();return!s||t-s>=i};var $e=(s=>(s.IDLE="idle",s.MOVE="move",s))($e||{}),y=(s=>(s.IDLE="idle",s.ATTACK="attack",s.STUNNED="stunned",s))(y||{}),g=(s=>(s.LEFT="left",s.RIGHT="right",s))(g||{}),M=(s=>(s.ARCANE_ARCHER="arcaneArcher",s.FIRE_MAGE="fireMage",s.Lightning_MAGE="lightningMage",s.DEMON_MAGE="demonMage",s))(M||{}),he=(s=>(s.ARCANE_ARCHER="arcaneArcherProjectile",s.FIRE_MAGE="fireMageProjectile",s.LIGHTNING_MAGE="lightningMageProjectile",s.DEMON_MAGE="demonMageProjectile",s))(he||{}),wt=(s=>(s.ICICLE="icicle",s))(wt||{}),st=(s=>(s.FREEZE_TOWER="freezeTower",s.FIRE_EXPLOSION="fireExplosion",s))(st||{}),ce=(s=>(s.ARCANE_ARCHER="arcaneArcherBp",s.FIRE_MAGE="fireMageBp",s.LIGHTNING_MAGE="lightningMageBp",s.DEMON_MAGE="demonMageBp",s))(ce||{}),Le=(s=>(s[s.WON=0]="WON",s[s.LOST=1]="LOST",s))(Le||{});class Yt{constructor(){e(this,"currentEnemies",[]);e(this,"allEnemiesRemoved",!0);e(this,"updateEnemies",()=>{this.currentEnemies.forEach(i=>i.update())});e(this,"remove",i=>{this.currentEnemies=this.currentEnemies.filter(t=>t.id!==i)});e(this,"getEnemyById",i=>this.currentEnemies.find(t=>t.id===i));e(this,"getCurrentEnemies",()=>this.currentEnemies);e(this,"setCurrentEnemies",i=>{this.currentEnemies=i,this.allEnemiesRemoved=!1});e(this,"currentEnemiesPush",i=>{this.currentEnemies.push(i)});e(this,"update",()=>{this.updateEnemies(),this.currentEnemies.length===0&&(this.allEnemiesRemoved=!0)})}}const H=(s,i,t)=>{const n=document.createElement("p");n.classList.add("tower-stats-text");const a=document.createElement("span");if(a.innerHTML=i,n.appendChild(a),t!==void 0){const r=document.createElement("span");r.innerHTML=t,n.appendChild(r)}s.appendChild(n)};class Rt{constructor(i,t){e(this,"container");e(this,"getContainer",()=>this.container);this.container=document.createElement("div"),this.container.classList.add("tower-stats-container","box-shadow","gold-info"),H(this.container,"Gold increase per round"),H(this.container,`+ ${i}% of current gold`),H(this.container,`+ ${t} static gold`),H(this.container,""),H(this.container,"Bounty gold per kill"),H(this.container,"Each kill grants a bounty gold. The bounty amount gets decreased for every corner waypoint the enemy has passed.")}}class pt{constructor(i,t){e(this,"menuItem");e(this,"textElement");e(this,"update",i=>{this.textElement.innerText=i});e(this,"getElement",()=>this.menuItem);this.menuItem=document.createElement("div"),this.menuItem.classList.add("menu-item-stats"),this.menuItem.id=`menu-item-${i}`,this.textElement=document.createElement("span"),this.textElement.classList.add("menu-item-stats-content"),this.textElement.innerText=t,this.menuItem.appendChild(this.textElement),h.menuContainer.addMenuItemPlayerHealth(this.menuItem)}}class kt{constructor(){e(this,"menuItem");e(this,"startGold",100);e(this,"currentGold",this.startGold);e(this,"collectedBountyGoldPerRound",0);e(this,"percentageGoldIncreasePerRound",0);e(this,"infoScreen");e(this,"showInfoScreen",!1);e(this,"staticGoldIncrease",50);e(this,"percentageGoldIncrease",10);e(this,"reduceGold",i=>{this.currentGold-=i,this.update()});e(this,"increaseGoldAfterRound",()=>{this.percentageGoldIncreasePerRound=Math.round(this.percentageGoldIncrease/100*this.currentGold),this.currentGold=Math.round(this.currentGold+this.staticGoldIncrease+this.percentageGoldIncreasePerRound),this.update()});e(this,"increaseGoldAfterKillEnemy",i=>{this.collectedBountyGoldPerRound+=i,this.currentGold+=i,this.update()});e(this,"resetDynamicGoldIncreasePerRound",()=>{this.collectedBountyGoldPerRound=0,this.percentageGoldIncreasePerRound=0});e(this,"showInfo",()=>{this.showInfoScreen||(this.menuItem.getElement().appendChild(this.infoScreen.getContainer()),this.showInfoScreen=!0)});e(this,"removeInfo",()=>{this.menuItem.getElement().removeChild(this.infoScreen.getContainer()),this.showInfoScreen=!1});this.menuItem=new pt("gold",this.currentGold.toString()),this.menuItem.getElement().addEventListener("mouseover",this.showInfo),this.menuItem.getElement().addEventListener("mouseleave",this.removeInfo),this.infoScreen=new Rt(this.percentageGoldIncrease,this.staticGoldIncrease)}getCurrentGold(){return this.currentGold}getCollectedBountyGoldPerRound(){return this.collectedBountyGoldPerRound}getPercentageGoldIncreasePerRound(){return this.percentageGoldIncreasePerRound}update(){this.menuItem.update(this.currentGold.toString())}}class vt{constructor({children:i,onTimeout:t,onClose:n,lifeTime:a}){e(this,"container");e(this,"closeButton");e(this,"lifeTime");e(this,"timeOutId");e(this,"onTimeout");e(this,"onClose");e(this,"scaleInTransformIn",[{transform:"translate(-50%, -50%) scale(0.5)"},{transform:"translate(-50%, -50%) scale(1)"}]);e(this,"scaleInTransformOut",[{transform:"translate(-50%, -50%) scale(1)"},{transform:"translate(-50%, -50%) scale(0.5)"}]);e(this,"scaleInTiming",100);e(this,"remove",()=>{this.container.animate(this.scaleInTransformOut,this.scaleInTiming),setTimeout(()=>{this.container.remove()},this.scaleInTiming)});this.lifeTime=a,this.onTimeout=t,this.onClose=n,this.container=document.createElement("div"),this.container.id="modal-pop-in-container",this.container.classList.add("box-shadow"),this.closeButton=document.createElement("button"),this.closeButton.id="modal-pop-in-container__close-button",this.closeButton.addEventListener("click",()=>{clearTimeout(this.timeOutId),this.remove(),this.onClose?this.onClose():this.onTimeout()}),this.container.appendChild(this.closeButton),this.container.appendChild(i),h.body.body.appendChild(this.container),this.container.animate(this.scaleInTransformIn,this.scaleInTiming),a&&(this.timeOutId=setTimeout(()=>{this.remove(),this.onTimeout()},this.lifeTime))}}class xt{constructor(i){e(this,"endScreen");e(this,"headline");e(this,"resultElement");e(this,"result");e(this,"buttonContainer");e(this,"playButton");e(this,"wonText","You won!");e(this,"lostText","You lost all your lifes!");e(this,"scaleInTransform",[{transform:"translate(-50%, -50%) scale(0.5)"},{transform:"translate(-50%, -50%) scale(1)"}]);e(this,"scaleInTiming",100);this.result=i,this.endScreen=document.createElement("div"),this.headline=document.createElement("h2"),this.headline.id="end-screen-headline",this.headline.innerHTML="GAME OVER",this.resultElement=document.createElement("h2"),this.resultElement.id="end-screen-result",this.resultElement.innerHTML=this.result===Le.WON?this.wonText:this.lostText,this.buttonContainer=document.createElement("div"),this.buttonContainer.id="end-screen-button-container",this.playButton=document.createElement("button"),this.playButton.id="play-again-button",this.playButton.classList.add("box-shadow","play-button"),this.playButton.innerText="Play again",this.playButton.addEventListener("click",()=>{gtag("event","click",{event_category:"button",event_label:"Play again"}),location.reload()}),this.buttonContainer.appendChild(this.playButton),this.endScreen.appendChild(this.headline),this.endScreen.appendChild(this.resultElement),this.endScreen.appendChild(this.buttonContainer),new vt({children:this.endScreen,onTimeout:()=>location.reload()})}}class Wt{constructor(i){e(this,"tower");e(this,"container");e(this,"getContainer",()=>this.container);this.tower=i,this.container=document.createElement("div"),this.container.classList.add("tower-stats-container","box-shadow"),H(this.container,i.config.name);const t=document.createElement("p");t.classList.add("tower-stats-description"),t.innerText=i.config.description,this.container.appendChild(t),H(this.container,"Damage:",i.config.damage.toString()),H(this.container,"Range:",i.config.range.toString()),H(this.container,"Attack speed:",i.config.attackSpeed.toString()),H(this.container,"Price:",i.price.toString())}}class Vt{constructor(i,t){e(this,"tower");e(this,"container");e(this,"element");e(this,"innerElement");e(this,"selectTowerCallback");e(this,"showTowerStats",!1);e(this,"stats");e(this,"clickHandler",()=>{this.selectTowerCallback(this.tower)});e(this,"showStats",()=>{this.showTowerStats||(this.container.appendChild(this.stats.getContainer()),this.showTowerStats=!0)});e(this,"removeStats",()=>{this.container.removeChild(this.stats.getContainer()),this.showTowerStats=!1});this.tower=i,this.selectTowerCallback=t,this.container=document.createElement("div"),this.container.classList.add("menu-item-container"),this.element=document.createElement("div"),this.element.classList.add("menu-item-tower"),this.innerElement=document.createElement("div"),this.innerElement.classList.add("menu-item-tower__inner"),this.innerElement.id=i.id,this.element.addEventListener("click",this.clickHandler),this.container.addEventListener("mouseover",this.showStats),this.container.addEventListener("mouseleave",this.removeStats),this.element.appendChild(this.innerElement),this.container.appendChild(this.element),h.menuContainer.addChildToMenuTowersContainer(this.container),this.stats=new Wt(this.tower)}}function Ut(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Kt(s){if(s.__esModule)return s;var i=s.default;if(typeof i=="function"){var t=function n(){return this instanceof n?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};t.prototype=i.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(s).forEach(function(n){var a=Object.getOwnPropertyDescriptor(s,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return s[n]}})}),t}var fe,zt=new Uint8Array(16);function It(){if(!fe&&(fe=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!fe))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fe(zt)}const Qt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Xe(s){return typeof s=="string"&&Qt.test(s)}var w=[];for(var We=0;We<256;++We)w.push((We+256).toString(16).substr(1));function Ne(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(w[s[i+0]]+w[s[i+1]]+w[s[i+2]]+w[s[i+3]]+"-"+w[s[i+4]]+w[s[i+5]]+"-"+w[s[i+6]]+w[s[i+7]]+"-"+w[s[i+8]]+w[s[i+9]]+"-"+w[s[i+10]]+w[s[i+11]]+w[s[i+12]]+w[s[i+13]]+w[s[i+14]]+w[s[i+15]]).toLowerCase();if(!Xe(t))throw TypeError("Stringified UUID is invalid");return t}var ht,Ve,Ue=0,Ke=0;function Jt(s,i,t){var n=i&&t||0,a=i||new Array(16);s=s||{};var r=s.node||ht,o=s.clockseq!==void 0?s.clockseq:Ve;if(r==null||o==null){var c=s.random||(s.rng||It)();r==null&&(r=ht=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),o==null&&(o=Ve=(c[6]<<8|c[7])&16383)}var l=s.msecs!==void 0?s.msecs:Date.now(),m=s.nsecs!==void 0?s.nsecs:Ke+1,u=l-Ue+(m-Ke)/1e4;if(u<0&&s.clockseq===void 0&&(o=o+1&16383),(u<0||l>Ue)&&s.nsecs===void 0&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ue=l,Ke=m,Ve=o,l+=122192928e5;var p=((l&268435455)*1e4+m)%4294967296;a[n++]=p>>>24&255,a[n++]=p>>>16&255,a[n++]=p>>>8&255,a[n++]=p&255;var E=l/4294967296*1e4&268435455;a[n++]=E>>>8&255,a[n++]=E&255,a[n++]=E>>>24&15|16,a[n++]=E>>>16&255,a[n++]=o>>>8|128,a[n++]=o&255;for(var F=0;F<6;++F)a[n+F]=r[F];return i||Ne(a)}function Tt(s){if(!Xe(s))throw TypeError("Invalid UUID");var i,t=new Uint8Array(16);return t[0]=(i=parseInt(s.slice(0,8),16))>>>24,t[1]=i>>>16&255,t[2]=i>>>8&255,t[3]=i&255,t[4]=(i=parseInt(s.slice(9,13),16))>>>8,t[5]=i&255,t[6]=(i=parseInt(s.slice(14,18),16))>>>8,t[7]=i&255,t[8]=(i=parseInt(s.slice(19,23),16))>>>8,t[9]=i&255,t[10]=(i=parseInt(s.slice(24,36),16))/1099511627776&255,t[11]=i/4294967296&255,t[12]=i>>>24&255,t[13]=i>>>16&255,t[14]=i>>>8&255,t[15]=i&255,t}function Zt(s){s=unescape(encodeURIComponent(s));for(var i=[],t=0;t<s.length;++t)i.push(s.charCodeAt(t));return i}var qt="6ba7b810-9dad-11d1-80b4-00c04fd430c8",$t="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Ct(s,i,t){function n(a,r,o,c){if(typeof a=="string"&&(a=Zt(a)),typeof r=="string"&&(r=Tt(r)),r.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+a.length);if(l.set(r),l.set(a,r.length),l=t(l),l[6]=l[6]&15|i,l[8]=l[8]&63|128,o){c=c||0;for(var m=0;m<16;++m)o[c+m]=l[m];return o}return Ne(l)}try{n.name=s}catch{}return n.DNS=qt,n.URL=$t,n}function _t(s){if(typeof s=="string"){var i=unescape(encodeURIComponent(s));s=new Uint8Array(i.length);for(var t=0;t<i.length;++t)s[t]=i.charCodeAt(t)}return ei(ti(ii(s),s.length*8))}function ei(s){for(var i=[],t=s.length*32,n="0123456789abcdef",a=0;a<t;a+=8){var r=s[a>>5]>>>a%32&255,o=parseInt(n.charAt(r>>>4&15)+n.charAt(r&15),16);i.push(o)}return i}function Et(s){return(s+64>>>9<<4)+14+1}function ti(s,i){s[i>>5]|=128<<i%32,s[Et(i)-1]=i;for(var t=1732584193,n=-271733879,a=-1732584194,r=271733878,o=0;o<s.length;o+=16){var c=t,l=n,m=a,u=r;t=v(t,n,a,r,s[o],7,-680876936),r=v(r,t,n,a,s[o+1],12,-389564586),a=v(a,r,t,n,s[o+2],17,606105819),n=v(n,a,r,t,s[o+3],22,-1044525330),t=v(t,n,a,r,s[o+4],7,-176418897),r=v(r,t,n,a,s[o+5],12,1200080426),a=v(a,r,t,n,s[o+6],17,-1473231341),n=v(n,a,r,t,s[o+7],22,-45705983),t=v(t,n,a,r,s[o+8],7,1770035416),r=v(r,t,n,a,s[o+9],12,-1958414417),a=v(a,r,t,n,s[o+10],17,-42063),n=v(n,a,r,t,s[o+11],22,-1990404162),t=v(t,n,a,r,s[o+12],7,1804603682),r=v(r,t,n,a,s[o+13],12,-40341101),a=v(a,r,t,n,s[o+14],17,-1502002290),n=v(n,a,r,t,s[o+15],22,1236535329),t=x(t,n,a,r,s[o+1],5,-165796510),r=x(r,t,n,a,s[o+6],9,-1069501632),a=x(a,r,t,n,s[o+11],14,643717713),n=x(n,a,r,t,s[o],20,-373897302),t=x(t,n,a,r,s[o+5],5,-701558691),r=x(r,t,n,a,s[o+10],9,38016083),a=x(a,r,t,n,s[o+15],14,-660478335),n=x(n,a,r,t,s[o+4],20,-405537848),t=x(t,n,a,r,s[o+9],5,568446438),r=x(r,t,n,a,s[o+14],9,-1019803690),a=x(a,r,t,n,s[o+3],14,-187363961),n=x(n,a,r,t,s[o+8],20,1163531501),t=x(t,n,a,r,s[o+13],5,-1444681467),r=x(r,t,n,a,s[o+2],9,-51403784),a=x(a,r,t,n,s[o+7],14,1735328473),n=x(n,a,r,t,s[o+12],20,-1926607734),t=I(t,n,a,r,s[o+5],4,-378558),r=I(r,t,n,a,s[o+8],11,-2022574463),a=I(a,r,t,n,s[o+11],16,1839030562),n=I(n,a,r,t,s[o+14],23,-35309556),t=I(t,n,a,r,s[o+1],4,-1530992060),r=I(r,t,n,a,s[o+4],11,1272893353),a=I(a,r,t,n,s[o+7],16,-155497632),n=I(n,a,r,t,s[o+10],23,-1094730640),t=I(t,n,a,r,s[o+13],4,681279174),r=I(r,t,n,a,s[o],11,-358537222),a=I(a,r,t,n,s[o+3],16,-722521979),n=I(n,a,r,t,s[o+6],23,76029189),t=I(t,n,a,r,s[o+9],4,-640364487),r=I(r,t,n,a,s[o+12],11,-421815835),a=I(a,r,t,n,s[o+15],16,530742520),n=I(n,a,r,t,s[o+2],23,-995338651),t=T(t,n,a,r,s[o],6,-198630844),r=T(r,t,n,a,s[o+7],10,1126891415),a=T(a,r,t,n,s[o+14],15,-1416354905),n=T(n,a,r,t,s[o+5],21,-57434055),t=T(t,n,a,r,s[o+12],6,1700485571),r=T(r,t,n,a,s[o+3],10,-1894986606),a=T(a,r,t,n,s[o+10],15,-1051523),n=T(n,a,r,t,s[o+1],21,-2054922799),t=T(t,n,a,r,s[o+8],6,1873313359),r=T(r,t,n,a,s[o+15],10,-30611744),a=T(a,r,t,n,s[o+6],15,-1560198380),n=T(n,a,r,t,s[o+13],21,1309151649),t=T(t,n,a,r,s[o+4],6,-145523070),r=T(r,t,n,a,s[o+11],10,-1120210379),a=T(a,r,t,n,s[o+2],15,718787259),n=T(n,a,r,t,s[o+9],21,-343485551),t=O(t,c),n=O(n,l),a=O(a,m),r=O(r,u)}return[t,n,a,r]}function ii(s){if(s.length===0)return[];for(var i=s.length*8,t=new Uint32Array(Et(i)),n=0;n<i;n+=8)t[n>>5]|=(s[n/8]&255)<<n%32;return t}function O(s,i){var t=(s&65535)+(i&65535),n=(s>>16)+(i>>16)+(t>>16);return n<<16|t&65535}function si(s,i){return s<<i|s>>>32-i}function De(s,i,t,n,a,r){return O(si(O(O(i,s),O(n,r)),a),t)}function v(s,i,t,n,a,r,o){return De(i&t|~i&n,s,i,a,r,o)}function x(s,i,t,n,a,r,o){return De(i&n|t&~n,s,i,a,r,o)}function I(s,i,t,n,a,r,o){return De(i^t^n,s,i,a,r,o)}function T(s,i,t,n,a,r,o){return De(t^(i|~n),s,i,a,r,o)}var ni=Ct("v3",48,_t);const ai=ni;function ri(s,i,t){s=s||{};var n=s.random||(s.rng||It)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,i){t=t||0;for(var a=0;a<16;++a)i[t+a]=n[a];return i}return Ne(n)}function oi(s,i,t,n){switch(s){case 0:return i&t^~i&n;case 1:return i^t^n;case 2:return i&t^i&n^t&n;case 3:return i^t^n}}function ze(s,i){return s<<i|s>>>32-i}function hi(s){var i=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){var n=unescape(encodeURIComponent(s));s=[];for(var a=0;a<n.length;++a)s.push(n.charCodeAt(a))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);for(var r=s.length/4+2,o=Math.ceil(r/16),c=new Array(o),l=0;l<o;++l){for(var m=new Uint32Array(16),u=0;u<16;++u)m[u]=s[l*64+u*4]<<24|s[l*64+u*4+1]<<16|s[l*64+u*4+2]<<8|s[l*64+u*4+3];c[l]=m}c[o-1][14]=(s.length-1)*8/Math.pow(2,32),c[o-1][14]=Math.floor(c[o-1][14]),c[o-1][15]=(s.length-1)*8&4294967295;for(var p=0;p<o;++p){for(var E=new Uint32Array(80),F=0;F<16;++F)E[F]=c[p][F];for(var L=16;L<80;++L)E[L]=ze(E[L-3]^E[L-8]^E[L-14]^E[L-16],1);for(var de=t[0],Ae=t[1],me=t[2],ue=t[3],ke=t[4],ge=0;ge<80;++ge){var rt=Math.floor(ge/20),Pt=ze(de,5)+oi(rt,Ae,me,ue)+ke+i[rt]+E[ge]>>>0;ke=ue,ue=me,me=ze(Ae,30)>>>0,Ae=de,de=Pt}t[0]=t[0]+de>>>0,t[1]=t[1]+Ae>>>0,t[2]=t[2]+me>>>0,t[3]=t[3]+ue>>>0,t[4]=t[4]+ke>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var ci=Ct("v5",80,hi);const li=ci,di="00000000-0000-0000-0000-000000000000";function Ai(s){if(!Xe(s))throw TypeError("Invalid UUID");return parseInt(s.substr(14,1),16)}const mi=Object.freeze(Object.defineProperty({__proto__:null,NIL:di,parse:Tt,stringify:Ne,v1:Jt,v3:ai,v4:ri,v5:li,validate:Xe,version:Ai},Symbol.toStringTag,{value:"Module"})),ui=Kt(mi);function nt(s,i){if(!s||!i||!s.length||!i.length)throw new Error("Bad alphabet");this.srcAlphabet=s,this.dstAlphabet=i}nt.prototype.convert=function(s){var i,t,n,a={},r=this.srcAlphabet.length,o=this.dstAlphabet.length,c=s.length,l=typeof s=="string"?"":[];if(!this.isValid(s))throw new Error('Number "'+s+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return s;for(i=0;i<c;i++)a[i]=this.srcAlphabet.indexOf(s[i]);do{for(t=0,n=0,i=0;i<c;i++)t=t*r+a[i],t>=o?(a[n++]=parseInt(t/o,10),t=t%o):n>0&&(a[n++]=0);c=n,l=this.dstAlphabet.slice(t,t+1).concat(l)}while(n!==0);return l};nt.prototype.isValid=function(s){for(var i=0;i<s.length;++i)if(this.srcAlphabet.indexOf(s[i])===-1)return!1;return!0};var gi=nt,fi=gi;function le(s,i){var t=new fi(s,i);return function(n){return t.convert(n)}}le.BIN="01";le.OCT="01234567";le.DEC="0123456789";le.HEX="0123456789abcdef";var wi=le;const{v4:Qe}=ui,we=wi,Je="123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",pi="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!#$%&'()*+-./:<=>?@[]^_`{|}~",vi={consistentLength:!0};let Ze;const ct=(s,i,t)=>{const n=i(s.toLowerCase().replace(/-/g,""));return!t||!t.consistentLength?n:n.padStart(t.shortIdLength,t.paddingChar)},xi=(s,i)=>{const n=i(s).padStart(32,"0").match(/(\w{8})(\w{4})(\w{4})(\w{4})(\w{12})/);return[n[1],n[2],n[3],n[4],n[5]].join("-")},Ii=s=>Math.ceil(Math.log(2**128)/Math.log(s));var Ti=(()=>{const s=(i,t)=>{const n=i||Je,a={...vi,...t};if([...new Set(Array.from(n))].length!==n.length)throw new Error("The provided Alphabet has duplicate characters resulting in unreliable results");const r=Ii(n.length),o={shortIdLength:r,consistentLength:a.consistentLength,paddingChar:n[0]},c=we(we.HEX,n),l=we(n,we.HEX),m=()=>ct(Qe(),c,o),u={new:m,generate:m,uuid:Qe,fromUUID:p=>ct(p,c,o),toUUID:p=>xi(p,l),alphabet:n,maxLength:r};return Object.freeze(u),u};return s.constants={flickrBase58:Je,cookieBase90:pi},s.uuid=Qe,s.generate=()=>(Ze||(Ze=s(Je).generate),Ze()),s})();const f=Ut(Ti),lt=(s,i)=>Math.hypot(s.x-i.x,s.y-i.y);class je{constructor(i,t,n,a){e(this,"id");e(this,"x");e(this,"y");e(this,"tileMiddle");e(this,"range");e(this,"attackSpeed");e(this,"attackSpeedThrottleTime");e(this,"image");e(this,"sWidth");e(this,"sHeight");e(this,"dWidth");e(this,"dHeight");e(this,"imageTranslateX");e(this,"imageTranslateY");e(this,"imgConfig");e(this,"frameIteration",0);e(this,"frameIterationThrottleTime",100);e(this,"cancelAttackAnimantionAllowed");e(this,"projectileImg");e(this,"projectileWidth");e(this,"projectileHeight");e(this,"projectiles",[]);e(this,"stunns",[]);e(this,"state",y.IDLE);e(this,"animationDirection",g.LEFT);e(this,"showRange",!1);e(this,"updateImgConfig",!1);e(this,"newAnimationCycle",!0);e(this,"sX",null);e(this,"sY",null);e(this,"frames",null);e(this,"flipOffsetFrames",null);e(this,"lastFrameIteration",null);e(this,"lastAttack",null);e(this,"currentTarget",null);e(this,"targetFallbackCoordinates",null);e(this,"getImgConfigForState",()=>{let i;switch(this.state){case y.IDLE:i=this.imgConfig.idle;break;default:i=this.imgConfig.attack}return i});e(this,"setImageConfig",()=>{const{animationStartRight:i,animationStartLeft:t,frames:n,animationIterationCircleTime:a,flipOffsetFrames:r}=this.getImgConfigForState();this.sX=this.animationDirection===g.RIGHT?i.sx:t.sx,this.sY=this.animationDirection===g.RIGHT?i.sy:t.sy,this.frames=n,this.flipOffsetFrames=r,this.frameIterationThrottleTime=a/this.frames});e(this,"setSxFrame",()=>{if(this.frames===null||this.flipOffsetFrames===null)throw new Error("Frames or flipOffsetFrames is null");this.animationDirection===g.RIGHT?this.sX=this.frameIteration*this.sWidth:this.sX=(this.frames+this.flipOffsetFrames)*this.sWidth-(this.frameIteration+1)*this.sWidth});e(this,"shoot",()=>{this.lastAttack=performance.now()});e(this,"setFrameIteration",()=>{if(this.frames===null)throw new Error("Frames is null");this.frameIteration<this.frames-1?this.frameIteration++:(this.frameIteration=0,this.newAnimationCycle=!0,this.state===y.ATTACK&&(this.state=y.IDLE,this.setImageConfig(),this.targetFallbackCoordinates=null))});e(this,"drawImg",()=>{this.sX!==null&&this.sY!==null&&h.ctxGame.drawImage(this.image,this.sX,this.sY,this.sWidth,this.sHeight,this.x+this.imageTranslateX,this.y+this.imageTranslateY,this.dWidth,this.dHeight)});e(this,"idleAnimation",()=>{this.drawImg()});e(this,"setStateAndCurrentTarget",i=>{this.currentTarget=i,!(i===null&&this.state===y.ATTACK&&!this.cancelAttackAnimantionAllowed)&&(this.newAnimationCycle=!0,this.frameIteration=0,i===null?(this.state=y.IDLE,this.setImageConfig()):(this.targetFallbackCoordinates={x:i.x,y:i.y},this.state=y.ATTACK,this.setAnimationDirection(),this.setImageConfig()))});e(this,"findNextTarget",()=>{let i=null,t=1/0;return A.enemies.getCurrentEnemies().forEach(n=>{const a=lt(this.tileMiddle,{x:n.x,y:n.y});a<=this.range&&a<=t&&(t=a,i=n)}),i});e(this,"checkAndSetClosestEnemyInRange",()=>{if(this.currentTargetIsInRage())this.setStateAndCurrentTarget(this.currentTarget);else{const i=this.findNextTarget();i!==null&&this.setStateAndCurrentTarget(i)}});e(this,"currentTargetIsInRage",()=>this.currentTarget?!(lt(this.tileMiddle,{x:this.currentTarget.x,y:this.currentTarget.y})>this.range):!1);e(this,"setAnimationDirection",()=>{if(this.currentTarget===null)throw new Error("No current target");this.currentTarget.x<=this.x?this.animationDirection===g.RIGHT&&(this.animationDirection=g.LEFT,this.updateImgConfig=!0):this.animationDirection===g.LEFT&&(this.animationDirection=g.RIGHT,this.updateImgConfig=!0)});e(this,"attackAnimation",()=>{this.drawImg()});e(this,"updateProjectiles",()=>{this.projectiles.forEach(i=>i.update())});e(this,"removeProjectile",i=>{this.projectiles=this.projectiles.filter(t=>t.id!==i)});e(this,"removeTarget",()=>{this.setStateAndCurrentTarget(null)});e(this,"drawRange",()=>{h.ctxGame.beginPath(),h.ctxGame.arc(this.tileMiddle.x,this.tileMiddle.y,this.range,0,Math.PI*2),h.ctxGame.fillStyle="rgba(225,225,225,0.1)",h.ctxGame.fill()});e(this,"setShowRange",i=>{this.showRange=i});e(this,"shootAtAttackAnimationFrame",(i,t)=>{S(this.lastAttack,this.attackSpeedThrottleTime)&&this.frameIteration===i&&(this.shoot(),this.projectiles.push(t()))});e(this,"updateFrames",()=>{this.newAnimationCycle===!0?(this.setSxFrame(),this.lastFrameIteration=performance.now(),this.newAnimationCycle=!1):S(this.lastFrameIteration,this.frameIterationThrottleTime)&&(this.setFrameIteration(),this.setSxFrame(),this.lastFrameIteration=performance.now())});e(this,"addStun",i=>{this.stunns.push(i),this.state=y.STUNNED});e(this,"resetAfterStun",()=>{this.setStateAndCurrentTarget(null)});e(this,"updateStunns",()=>{this.stunns.forEach(t=>t.update());const i=performance.now();this.stunns.forEach(t=>{i-t.freezeStart>=t.duration&&(this.stunns=this.stunns.filter(n=>n.id!==t.id))})});this.id=i,this.x=t,this.y=n,this.tileMiddle=it({x:t,y:n}),this.range=a.range,this.attackSpeed=a.attackSpeed,this.attackSpeedThrottleTime=60/this.attackSpeed*1e3,this.cancelAttackAnimantionAllowed=a.cancelAttackAnimantionAllowed,this.image=P.imageController.getImage(a.id),this.sWidth=a.sWidth,this.sHeight=a.sHeight,this.dWidth=a.imageScale*a.sWidth,this.dHeight=a.imageScale*a.sHeight,this.imageTranslateX=pe({imageScale:a.imageScale,sourceSize:a.sWidth,translateCorrection:a.imageTranslateCorrection.x}),this.imageTranslateY=pe({imageScale:a.imageScale,sourceSize:a.sHeight,translateCorrection:a.imageTranslateCorrection.y}),this.imgConfig=a.frameConfig,this.setImageConfig(),this.projectileImg=P.imageController.getImage(a.projectile.id),this.projectileWidth=a.projectile.width,this.projectileHeight=a.projectile.height}update({shootAtFrame:i,getProjectile:t,cancelProjectile:n}){this.state===y.STUNNED&&(this.drawImg(),n?this.projectiles=[]:this.updateProjectiles()),this.state===y.ATTACK&&(this.updateFrames(),this.attackAnimation(),this.shootAtAttackAnimationFrame(i,t),this.updateProjectiles()),this.state===y.IDLE&&(this.updateFrames(),this.idleAnimation(),S(this.lastAttack,this.attackSpeedThrottleTime)&&this.checkAndSetClosestEnemyInRange(),this.updateProjectiles()),this.showRange&&this.drawRange(),this.updateStunns()}}const j=(s,i,t,n)=>{const a=n-i,r=t-s;let o=Math.atan2(a,r);return o*=180/Math.PI,o},_e=({center:s,radius:i,target:t})=>Math.sqrt(Math.pow(t.x-s.x,2)+Math.pow(t.y-s.y,2))<=i;class Ci{constructor(i,t,n,a,r,o,c){e(this,"id");e(this,"x");e(this,"y");e(this,"radius");e(this,"damage");e(this,"damageOverTimeThrottleTime");e(this,"towerSourceId");e(this,"affectedEnemies",[]);e(this,"isAffectedEnemy",i=>this.affectedEnemies.find(t=>t.enemy===i));e(this,"updateEnemiesInsideArea",()=>{A.enemies.getCurrentEnemies().forEach(i=>{if(_e({center:{x:this.x,y:this.y},radius:this.radius,target:{x:i.x,y:i.y}})&&!this.isAffectedEnemy(i))this.affectedEnemies.push({enemy:i,damageHitTime:null});else if(!_e({center:{x:this.x,y:this.y},radius:this.radius,target:{x:i.x,y:i.y}})&&this.isAffectedEnemy(i)){const t=this.affectedEnemies.map(n=>n.enemy).indexOf(i);this.affectedEnemies.splice(t,1)}}),this.affectedEnemies.forEach(i=>{if(!A.enemies.getCurrentEnemies().includes(i.enemy)){const t=this.affectedEnemies.indexOf(i);this.affectedEnemies.splice(t,1)}})});e(this,"damageEnemies",()=>{this.affectedEnemies.forEach(i=>{(i.damageHitTime===null||S(i.damageHitTime,this.damageOverTimeThrottleTime))&&(i.enemy.reduceHealth(this.damage,this.towerSourceId),i.damageHitTime=performance.now())})});e(this,"update",()=>{this.updateEnemiesInsideArea(),this.damageEnemies()});this.id=i,this.x=t,this.y=n,this.radius=a,this.damage=r,this.damageOverTimeThrottleTime=o,this.towerSourceId=c}}class Ei{constructor(i,t,n,a,r,o,c,l,m,u){e(this,"id");e(this,"x");e(this,"y");e(this,"damage");e(this,"duration");e(this,"image");e(this,"sWidth",74);e(this,"sHeight",44);e(this,"dWidth",74);e(this,"dHeight",44);e(this,"sY",0);e(this,"target");e(this,"animationDirection");e(this,"angle");e(this,"removeProjectile");e(this,"towerSourceId");e(this,"damageOverTimeArea");e(this,"damageOverTimeThrottleTime",400);e(this,"damageOverTimeRadius",20);e(this,"frameIteration",0);e(this,"frames",8);e(this,"sX",null);e(this,"frameIterationThrottleTime");e(this,"lastFrameIteration",null);e(this,"setFrameIteration",()=>{this.frameIteration++});e(this,"setSxFrame",()=>{this.animationDirection===g.RIGHT?this.sX=this.frameIteration*this.sWidth:this.sX=this.frames*this.sWidth-(this.frameIteration+1)*this.sWidth});e(this,"getHandPosition",()=>this.animationDirection===g.RIGHT?[this.x+20,this.y-5]:[this.x-20,this.y-5]);e(this,"draw",()=>{if(this.sX===null||this.sY===null)throw new Error("sX or sY is null");if(this.frameIteration===this.frames)throw new Error("frameIteration is equal to frames");h.ctxGame.save(),h.ctxGame.translate(...this.getHandPosition()),h.ctxGame.rotate(this.angle*(Math.PI/180)),h.ctxGame.drawImage(this.image,this.sX,this.sY,this.sWidth,this.sHeight,0,-25,this.dWidth,this.dHeight),h.ctxGame.restore()});e(this,"updatedamageOverTimeArea",()=>{this.damageOverTimeArea.update()});e(this,"updateFrames",()=>{if(this.lastFrameIteration===null)this.setSxFrame(),this.lastFrameIteration=performance.now();else if(S(this.lastFrameIteration,this.frameIterationThrottleTime)){if(this.setFrameIteration(),this.frameIteration===this.frames)return this.removeProjectile(this.id),!1;this.setSxFrame(),this.lastFrameIteration=performance.now()}return!0});e(this,"update",()=>{this.updateFrames()!==!1&&(this.draw(),this.updatedamageOverTimeArea())});this.id=i,this.x=t,this.y=n,this.damage=a,this.duration=r,this.frameIterationThrottleTime=this.duration/this.frames,this.image=o,this.target=c,this.animationDirection=l,this.angle=j(this.x,this.y,this.target.x,this.target.y),this.removeProjectile=m,this.towerSourceId=u,this.damageOverTimeArea=new Ci(f.generate(),this.target.x,this.target.y,this.damageOverTimeRadius,this.damage,this.damageOverTimeThrottleTime,this.towerSourceId)}}const dt=800,X=class X extends je{constructor(t,n,a){super(t,n,a,X.config);e(this,"id");e(this,"getProjectile",()=>{if(this.targetFallbackCoordinates===null)throw new Error("No current target");return new Ei(f.generate(),this.tileMiddle.x,this.tileMiddle.y,X.config.damage,X.config.frameConfig.attack.animationIterationCircleTime,this.projectileImg,this.currentTarget||this.targetFallbackCoordinates,this.animationDirection,this.removeProjectile,this.id)});e(this,"update",()=>{super.update({shootAtFrame:0,getProjectile:this.getProjectile,cancelProjectile:!0})});this.id=t}};e(X,"config",{id:M.FIRE_MAGE,name:"Fire Mage",description:`Burns a small area for ${dt/1e3}sec. Slow enemies can get multiple damage ticks.`,range:100,attackSpeed:40,damage:35,sWidth:64,sHeight:64,imageScale:1,imageTranslateCorrection:{x:0,y:0},frameConfig:{idle:{frames:4,animationIterationCircleTime:500,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:448,sy:128}},attack:{frames:4,animationIterationCircleTime:dt,flipOffsetFrames:0,animationStartRight:{sx:0,sy:64},animationStartLeft:{sx:448,sy:192}}},cancelAttackAnimantionAllowed:!1,projectile:{id:he.FIRE_MAGE,width:40,height:5},bluePrint:{id:ce.FIRE_MAGE}});let ne=X;const Ye=({distance:s,angle:i})=>s*Math.cos(i*Math.PI/180),Re=({distance:s,angle:i})=>s*Math.sin(i*Math.PI/180),at=({x:s,y:i},{x:t,y:n})=>(s-t-1)*(s-t+1)<=0&&(i-n-1)*(i-n+1)<=0;class yt{constructor(i,t,n,a,r,{img:o,width:c,height:l},m,u,p){e(this,"id");e(this,"x");e(this,"y");e(this,"damage");e(this,"targetEnemy");e(this,"removeProjectile");e(this,"towerSourceId");e(this,"speed");e(this,"image");e(this,"width");e(this,"height");e(this,"draw",()=>{const i=j(this.x,this.y,this.targetEnemy.x,this.targetEnemy.y);h.ctxGame.save(),h.ctxGame.translate(this.x,this.y),h.ctxGame.rotate(i*(Math.PI/180)),h.ctxGame.drawImage(this.image,-this.width,-this.height),h.ctxGame.restore()});e(this,"move",()=>{const i=j(this.x,this.y,this.targetEnemy.x,this.targetEnemy.y),t=Math.abs(this.targetEnemy.x-this.x);this.x+=Ye({distance:t-this.speed<0?t:this.speed,angle:i});const n=Math.abs(this.targetEnemy.y-this.y);this.y+=Re({distance:n-this.speed<0?n:this.speed,angle:i}),at({x:this.x,y:this.y},{x:this.targetEnemy.x,y:this.targetEnemy.y})&&this.collide()});e(this,"collide",()=>{this.removeProjectile(this.id),this.targetEnemy.reduceHealth(this.damage,this.towerSourceId)});e(this,"update",()=>{this.move(),this.draw()});this.id=i,this.x=t,this.y=n,this.damage=a,this.speed=r,this.image=o,this.width=c,this.height=l,this.targetEnemy=m,this.removeProjectile=u,this.towerSourceId=p}}const te=class te extends je{constructor(t,n,a){super(t,n,a,te.config);e(this,"id");e(this,"projectileSpeed",20);e(this,"getProjectile",()=>{if(this.currentTarget===null)throw new Error("No current target");return new yt(f.generate(),this.tileMiddle.x,this.tileMiddle.y,te.config.damage,this.projectileSpeed,{img:this.projectileImg,width:this.projectileWidth,height:this.projectileHeight},this.currentTarget,this.removeProjectile,this.id)});e(this,"update",()=>{super.update({shootAtFrame:6,getProjectile:this.getProjectile})});this.id=t}};e(te,"config",{id:M.ARCANE_ARCHER,name:"Arcane Archer",description:"Shoots a magic arrow that deals damage to a single enemy.",range:250,attackSpeed:100,damage:5,sWidth:64,sHeight:64,imageScale:1.1,imageTranslateCorrection:{x:0,y:5},frameConfig:{idle:{frames:4,animationIterationCircleTime:600,flipOffsetFrames:4,animationStartRight:{sx:0,sy:320},animationStartLeft:{sx:448,sy:832}},attack:{frames:7,animationIterationCircleTime:400,flipOffsetFrames:1,animationStartRight:{sx:0,sy:192},animationStartLeft:{sx:448,sy:704}}},cancelAttackAnimantionAllowed:!0,projectile:{id:he.ARCANE_ARCHER,width:40,height:5},bluePrint:{id:ce.ARCANE_ARCHER}});let ae=te;class St{constructor(i,t,n,a,r,o){e(this,"id");e(this,"x");e(this,"y");e(this,"radius");e(this,"damage");e(this,"towerSourceId");e(this,"enemiesInsideArea",[]);e(this,"setEnemiesInsideArea",()=>{this.enemiesInsideArea=A.enemies.getCurrentEnemies().filter(i=>_e({center:{x:this.x,y:this.y},radius:this.radius,target:{x:i.x,y:i.y}}))});e(this,"damageEnemiesInsideArea",()=>{this.enemiesInsideArea.forEach(i=>{i.reduceHealth(this.damage,this.towerSourceId)})});e(this,"getEnemiesInsideArea",()=>this.enemiesInsideArea);this.id=i,this.x=t,this.y=n,this.radius=a,this.damage=r,this.towerSourceId=o,this.setEnemiesInsideArea(),this.damageEnemiesInsideArea()}}class yi{constructor(i,t){e(this,"id");e(this,"slowStart");e(this,"slowPercentage");e(this,"slowDuration");this.id=f.generate(),this.slowStart=performance.now(),this.slowPercentage=i,this.slowDuration=t}}class Si extends St{constructor(t,n,a,r,o,c){super(t,n,a,r,o,c);e(this,"slowEnemiesInsideArea",()=>{this.getEnemiesInsideArea().forEach(t=>{t.addSlow(new yi(30,2e3))})});this.slowEnemiesInsideArea()}}class Hi{constructor(i,t,n,a,r,o,c,l){e(this,"id");e(this,"x");e(this,"y");e(this,"damage");e(this,"image");e(this,"sWidth",150);e(this,"sHeight",192);e(this,"dWidth",150);e(this,"dHeight",192);e(this,"sY",0);e(this,"dX");e(this,"dY");e(this,"removeProjectile");e(this,"towerSourceId");e(this,"radius",70);e(this,"frameIteration",0);e(this,"frames",7);e(this,"animationIterationCircleTime",600);e(this,"sX",null);e(this,"frameIterationThrottleTime",this.animationIterationCircleTime/this.frames);e(this,"lastFrameIteration",null);e(this,"setFrameIteration",()=>{this.frameIteration++});e(this,"setSxFrame",()=>{this.sX=this.frameIteration*this.sWidth});e(this,"draw",()=>{if(this.sX===null||this.sY===null)throw new Error("sX or sY is null");if(this.frameIteration===this.frames)throw new Error("frameIteration is equal to frames");h.ctxGame.drawImage(this.image,this.sX,this.sY,this.sWidth,this.sHeight,this.dX-this.dWidth/2,this.dY-this.dHeight/1.35,this.dWidth,this.dHeight)});e(this,"updateFrames",()=>{if(this.lastFrameIteration===null)this.setSxFrame(),this.lastFrameIteration=performance.now();else if(S(this.lastFrameIteration,this.frameIterationThrottleTime)){if(this.setFrameIteration(),this.frameIteration===this.frames)return this.removeProjectile(this.id),!1;this.setSxFrame(),this.lastFrameIteration=performance.now()}return!0});e(this,"update",()=>{this.updateFrames()!==!1&&this.draw()});this.id=i,this.x=t,this.y=n,this.damage=a,this.image=r,this.dX=o.x,this.dY=o.y,this.removeProjectile=c,this.towerSourceId=l,new Si(f.generate(),this.dX,this.dY,this.radius,this.damage,this.towerSourceId)}}const ie=class ie extends je{constructor(t,n,a){super(t,n,a,ie.config);e(this,"id");e(this,"getProjectile",()=>{if(this.targetFallbackCoordinates===null)throw new Error("No current target");return new Hi(f.generate(),this.tileMiddle.x,this.tileMiddle.y,ie.config.damage,this.projectileImg,this.currentTarget||this.targetFallbackCoordinates,this.removeProjectile,this.id)});e(this,"update",()=>{super.update({shootAtFrame:10,getProjectile:this.getProjectile})});this.id=t}};e(ie,"config",{id:M.Lightning_MAGE,name:"Lightning Mage",description:"Summons a lightning bolt to damage and slow enemies for 30% in an area.",range:200,attackSpeed:30,damage:10,sWidth:64,sHeight:64,imageScale:1.2,imageTranslateCorrection:{x:0,y:-5},frameConfig:{idle:{frames:8,animationIterationCircleTime:800,flipOffsetFrames:8,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:960,sy:128}},attack:{frames:16,animationIterationCircleTime:1e3,flipOffsetFrames:0,animationStartRight:{sx:0,sy:64},animationStartLeft:{sx:960,sy:192}}},cancelAttackAnimantionAllowed:!1,projectile:{id:he.LIGHTNING_MAGE,width:40,height:5},bluePrint:{id:ce.LIGHTNING_MAGE}});let re=ie;class Pi{constructor({id:i,targetEnemy:t,remove:n,damage:a,towerSourceId:r}){e(this,"id");e(this,"x");e(this,"y");e(this,"remove");e(this,"radius",70);e(this,"damage");e(this,"towerSourceId");e(this,"image");e(this,"sWidth",192);e(this,"sHeight",128);e(this,"imageScale",1);e(this,"imageTranslateCorrection",{x:-(this.sWidth*this.imageScale)/2,y:-((this.sHeight+40)*this.imageScale)/2});e(this,"frameIteration",0);e(this,"frames",10);e(this,"sX",null);e(this,"duration",800);e(this,"frameIterationThrottleTime",this.duration/this.frames);e(this,"lastFrameIteration",null);e(this,"setFrameIteration",()=>{this.frameIteration++});e(this,"setSxFrame",()=>{this.sX=this.frameIteration*this.sWidth});e(this,"draw",()=>{if(this.sX===null)throw new Error("sX or sY is null");if(this.frameIteration===this.frames)throw new Error("frameIteration is equal to frames");h.ctxGame.drawImage(this.image,this.sX,0,this.sWidth,this.sHeight,this.x+this.imageTranslateCorrection.x,this.y+this.imageTranslateCorrection.y,this.sWidth*this.imageScale,this.sHeight*this.imageScale)});e(this,"updateFrames",()=>{if(this.lastFrameIteration===null)this.setSxFrame(),this.lastFrameIteration=performance.now();else if(S(this.lastFrameIteration,this.frameIterationThrottleTime)){if(this.setFrameIteration(),this.frameIteration===this.frames)return this.remove(this.id),!1;this.setSxFrame(),this.lastFrameIteration=performance.now()}return!0});e(this,"update",()=>{this.updateFrames()!==!1&&this.draw()});this.id=i,this.x=t.x,this.y=t.y,this.remove=n,this.damage=a,this.towerSourceId=r,this.image=P.imageController.getImage(st.FIRE_EXPLOSION),new St(f.generate(),this.x,this.y,this.radius,this.damage,this.towerSourceId)}}class Fi extends yt{constructor({id:t,x:n,y:a,damage:r,speed:o,imgConfig:c,targetEnemy:l,removeProjectile:m,towerSourceId:u,explosion:p}){super(t,n,a,r,o,c,l,m,u);e(this,"explosion");e(this,"collide",()=>{this.removeProjectile(this.id),this.explosion.add(new Pi({id:f.generate(),targetEnemy:this.targetEnemy,remove:this.explosion.remove,damage:this.damage,towerSourceId:this.towerSourceId}))});e(this,"update",()=>{this.move(),this.draw()});this.explosion=p}}const se=class se extends je{constructor(t,n,a){super(t,n,a,se.config);e(this,"id");e(this,"projectileSpeed",15);e(this,"fireExplosions",[]);e(this,"getProjectile",()=>{if(this.currentTarget===null)throw new Error("No current target");return new Fi({id:f.generate(),x:this.tileMiddle.x+this.getProjectileStartPositionX(),y:this.tileMiddle.y,damage:se.config.damage,speed:this.projectileSpeed,imgConfig:{img:this.projectileImg,width:this.projectileWidth,height:this.projectileHeight},targetEnemy:this.currentTarget,removeProjectile:this.removeProjectile,towerSourceId:this.id,explosion:{add:this.addFireExplosion,remove:this.removeFireExplosion}})});e(this,"getProjectileStartPositionX",()=>this.animationDirection===g.RIGHT?40:-40);e(this,"addFireExplosion",t=>{this.fireExplosions.push(t)});e(this,"removeFireExplosion",t=>{this.fireExplosions=this.fireExplosions.filter(n=>n.id!==t)});e(this,"updateFireExplosions",()=>{this.fireExplosions.forEach(t=>{t.update()})});e(this,"update",()=>{super.update({shootAtFrame:6,getProjectile:this.getProjectile}),this.updateFireExplosions()});this.id=t}};e(se,"config",{id:M.DEMON_MAGE,name:"Demon Mage",description:"Shoots a magic missile that explodes on impact, dealing damage in an area.",range:200,attackSpeed:40,damage:45,sWidth:160,sHeight:128,imageScale:.9,imageTranslateCorrection:{x:-50,y:-50},frameConfig:{idle:{frames:8,animationIterationCircleTime:800,flipOffsetFrames:4,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:1760,sy:256}},attack:{frames:12,animationIterationCircleTime:1e3,flipOffsetFrames:0,animationStartRight:{sx:0,sy:128},animationStartLeft:{sx:1760,sy:384}}},cancelAttackAnimantionAllowed:!0,projectile:{id:he.DEMON_MAGE,width:74,height:13},bluePrint:{id:ce.DEMON_MAGE}});let oe=se;const xe=class xe{constructor(){e(this,"selectedTower",null);e(this,"getSelectedTower",()=>this.selectedTower);e(this,"setSelectedTower",i=>{this.selectedTower=i});e(this,"selectTower",i=>{this.setSelectedTower(i),h.body.removeAllClassesFromBody(),i!==null&&h.body.addTowerMouseCursor(i)});xe.towers.forEach(i=>{new Vt(i,this.selectTower)})}};e(xe,"towers",[{id:ae.config.id,config:ae.config,price:40},{id:re.config.id,config:re.config,price:120},{id:ne.config.id,config:ne.config,price:150},{id:oe.config.id,config:oe.config,price:300}]);let et=xe;class Mi{constructor(){e(this,"startHealth",100);e(this,"currentHealth",this.startHealth);e(this,"menuItem");e(this,"getCurrentHealth",()=>this.currentHealth);e(this,"reduceHealth",(i=5)=>{this.currentHealth-=i,this.update()});e(this,"update",()=>{this.menuItem.update(this.currentHealth.toString())});this.menuItem=new pt("health",this.currentHealth.toString())}}class Gi{constructor({name:i,health:t,bountyGold:n,speed:a,maxSlowPercentage:r,special:o}){e(this,"container");e(this,"getContainer",()=>this.container);e(this,"createInfo",i=>{const t=document.createElement("p");t.innerText=i,this.container.appendChild(t)});e(this,"createStats",(i,t)=>{const n=document.createElement("p");n.classList.add("enemy-stats-text");const a=document.createElement("span");a.classList.add("enemy-stats-key"),a.innerText=i,n.appendChild(a);const r=document.createElement("span");r.innerText=t,n.appendChild(r),this.container.appendChild(n)});this.container=document.createElement("div"),this.container.id="spawn-enemies-container";const c=document.createElement("h2");c.id="spawn-enemies-headline",c.innerText="Next Wave",this.container.appendChild(c),this.createInfo(i),o&&this.createInfo(`Special: ${o.description}`),this.createStats("Health:",t.toString()),this.createStats("Bounty Gold:",n.toString()),this.createStats("Speed:",a.toString()),this.createStats("Max slow:",`${r.toString()}%`)}}class bi{constructor(i){e(this,"countdownElement");e(this,"countdownTime");e(this,"getContainer",()=>this.countdownElement);e(this,"getCountdownTime",()=>this.countdownTime);e(this,"startCountdown",()=>{const i=setInterval(()=>{this.countdownTime--,this.countdownElement.innerText=this.countdownTime.toString(),this.countdownTime===0&&clearInterval(i)},1e3)});this.countdownTime=i,this.countdownElement=document.createElement("p"),this.countdownElement.id="countdown",this.countdownElement.innerText=this.countdownTime.toString(),this.startCountdown()}}class Bi{constructor({children:i}){e(this,"container");e(this,"scaleInTransformOut",[{transform:"translateX(0)"},{transform:"translateX(-100%)"}]);e(this,"scaleInTimingOut",300);e(this,"scaleInTransformIn",[{transform:"translateX(-100%)"},{transform:"translateX(0)"}]);e(this,"scaleInTimingIn",300);e(this,"close",()=>{this.container.animate(this.scaleInTransformOut,this.scaleInTimingOut),setTimeout(()=>{this.container.remove()},this.scaleInTimingOut)});this.container=document.createElement("div"),this.container.id="toast",this.container.classList.add("box-shadow"),this.container.appendChild(i),document.body.appendChild(this.container),this.container.animate(this.scaleInTransformIn,this.scaleInTimingIn)}}class Oi{constructor(i){e(this,"game");e(this,"waveIsScheduled",!1);e(this,"modalLifeTime",1e4);e(this,"spawnEnemies",()=>{const{currentEnemies:i,config:t}=this.game.waves.createEnemyWave(),n=()=>{this.game.enemies.setCurrentEnemies(i),this.waveIsScheduled=!1,this.game.gold.resetDynamicGoldIncreasePerRound()},a=new Gi(t).getContainer(),r=new bi(this.modalLifeTime/1e3);a.appendChild(r.getContainer());const o=()=>{const c=new Bi({children:r.getContainer()}),l=setInterval(()=>{r.getCountdownTime()===0&&(c.close(),n(),clearInterval(l))},100)};new vt({children:a,onTimeout:n,onClose:o,lifeTime:this.modalLifeTime})});e(this,"update",()=>{if(!this.waveIsScheduled&&this.game.enemies.allEnemiesRemoved){if(this.game.waves.wasLastWave){this.game.stopGame(),new xt(Le.WON);return}this.game.waves.waveIndex>0&&this.game.gold.increaseGoldAfterRound(),setTimeout(()=>{this.spawnEnemies()},300),this.waveIsScheduled=!0}});this.game=i}}const Li=(s,i,t)=>{switch(s){case M.ARCANE_ARCHER:return new ae(f.generate(),i,t);case M.FIRE_MAGE:return new ne(f.generate(),i,t);case M.Lightning_MAGE:return new re(f.generate(),i,t);case M.DEMON_MAGE:return new oe(f.generate(),i,t);default:throw new Error("Tower not found")}};class Xi{constructor(){e(this,"towers",[]);e(this,"updateTowers",()=>{this.towers.forEach(i=>i.update())});e(this,"resetTowerTarget",i=>{this.towers.forEach(t=>{var n;((n=t.currentTarget)==null?void 0:n.id)===i&&t.removeTarget()})});e(this,"createTower",(i,t,n)=>{this.towers.push(Li(n.id,i,t))});e(this,"getTowerForTile",(i,t)=>this.towers.find(n=>n.x===i&&n.y===t));e(this,"getTowerById",i=>this.towers.find(t=>t.id===i));e(this,"hideTowerRange",()=>{this.towers.forEach(i=>i.setShowRange(!1))});e(this,"update",()=>{this.updateTowers()})}}const Ni=s=>Math.floor(Math.random()*s);class C{constructor(i,t,n,a){e(this,"id");e(this,"x");e(this,"y");e(this,"image");e(this,"frameConfig");e(this,"sWidth");e(this,"sHeight");e(this,"imageTranslateX");e(this,"imageTranslateY");e(this,"dWidth");e(this,"dHeight");e(this,"health");e(this,"currentHealth");e(this,"speed");e(this,"maxSlowPercentage");e(this,"bountyGold");e(this,"state",$e.MOVE);e(this,"animationDirection",g.RIGHT);e(this,"frameIteration",null);e(this,"frames",null);e(this,"flipOffsetFrames",null);e(this,"sX",null);e(this,"sY",null);e(this,"frameIterationThrottleTime",null);e(this,"lastFrameIteration",null);e(this,"nodeTarget");e(this,"pathNodes");e(this,"angle");e(this,"nodesIndex",0);e(this,"slows",[]);e(this,"getImgConfigForState",()=>{switch(this.state){case $e.MOVE:return this.frameConfig.move;default:return this.frameConfig.move}});e(this,"setImageConfig",()=>{const{animationStartRight:i,animationStartLeft:t,frames:n,animationIterationCircleTime:a,flipOffsetFrames:r}=this.getImgConfigForState();this.sY=this.animationDirection===g.RIGHT?i.sy:t.sy,this.frames=n,this.flipOffsetFrames=r,this.frameIterationThrottleTime=a/this.frames,this.frameIteration=Ni(this.frames)});e(this,"setFrameIteration",()=>{if(this.frames===null||this.frameIteration===null)throw new Error("frames or frameIteration is null");this.frameIteration<this.frames-1?this.frameIteration++:this.frameIteration=0});e(this,"setSxFrame",()=>{if(this.frames===null||this.flipOffsetFrames===null||this.frameIteration===null)throw new Error("frames or flipOffsetFrames or frameIteration is null");this.animationDirection===g.RIGHT?this.sX=this.frameIteration*this.sWidth:this.sX=(this.frames+this.flipOffsetFrames)*this.sWidth-(this.frameIteration+1)*this.sWidth});e(this,"draw",()=>{if(this.sX===null||this.sY===null)throw new Error("sX or sY is null");if(this.frameIteration===this.frames)throw new Error("frameIteration is equal to frames");h.ctxGame.drawImage(this.image,this.sX,this.sY,this.sWidth,this.sHeight,this.x-this.imageTranslateX,this.y-this.imageTranslateY,this.dWidth,this.dHeight);const i=.6,t=3,n=5,a=(this.dWidth-this.dWidth*i)/2;h.ctxGame.fillStyle="#7d0e0e",h.ctxGame.fillRect(this.x-this.imageTranslateX+a,this.y-this.imageTranslateY-n,this.dWidth*i,t),h.ctxGame.fillStyle="#0a5a0a",h.ctxGame.fillRect(this.x-this.imageTranslateX+a,this.y-this.imageTranslateY-n,this.dWidth*(this.currentHealth/this.health)*i,t)});e(this,"addSlow",i=>{this.slows.push(i)});e(this,"updateSlows",()=>{const i=performance.now();this.slows.forEach(t=>{i-t.slowStart>=t.slowDuration&&(this.slows=this.slows.filter(n=>n.id!==t.id))})});e(this,"getCurrentSpeed",()=>{if(this.slows.length===0)return this.speed;const i=this.slows.reduce((n,a)=>n+a.slowPercentage,0),t=i>this.maxSlowPercentage?this.maxSlowPercentage:i;return this.speed*((100-t)/100)});e(this,"move",()=>{const i=this.getCurrentSpeed(),t=Math.abs(this.nodeTarget.x-this.x);this.x+=Ye({distance:t-i<0?t:i,angle:this.angle});const n=Math.abs(this.nodeTarget.y-this.y);this.y+=Re({distance:n-i<0?n:i,angle:this.angle}),at({x:this.x,y:this.y},{x:this.nodeTarget.x,y:this.nodeTarget.y})&&(this.updateNodeTarget(),this.updateAnimationDirection(),this.setImageConfig(),this.reduceBountyGold())});e(this,"updateNodeTarget",()=>{if(this.nodesIndex++,this.pathNodes.length===this.nodesIndex){A.playerHealth.reduceHealth(),A.enemies.remove(this.id),A.towers.resetTowerTarget(this.id);return}this.nodeTarget=this.pathNodes[this.nodesIndex],this.angle=j(this.x,this.y,this.nodeTarget.x,this.nodeTarget.y)});e(this,"updateAnimationDirection",()=>{if((this.x-this.nodeTarget.x-1)*(this.x-this.nodeTarget.x+1)<=0){this.animationDirection=Math.random()<.5?g.RIGHT:g.LEFT;return}this.x<this.nodeTarget.x&&(this.animationDirection=g.RIGHT),this.x>this.nodeTarget.x&&(this.animationDirection=g.LEFT)});e(this,"updateFrames",()=>{if(this.lastFrameIteration===null)this.setSxFrame(),this.lastFrameIteration=performance.now();else{if(this.frameIterationThrottleTime===null)throw new Error("frameIterationThrottleTime is null");S(this.lastFrameIteration,this.frameIterationThrottleTime)&&(this.setFrameIteration(),this.setSxFrame(),this.lastFrameIteration=performance.now())}});e(this,"reduceBountyGold",()=>{this.bountyGold=Math.round(this.bountyGold*.9)});e(this,"reduceHealth",(i,t)=>{this.currentHealth-=i,this.currentHealth<=0&&A.enemies.getEnemyById(this.id)!==void 0&&(A.gold.increaseGoldAfterKillEnemy(this.bountyGold),A.enemies.remove(this.id),A.towers.resetTowerTarget(this.id))});e(this,"setNodeIndex",i=>{this.nodesIndex=i});e(this,"update",()=>{this.updateFrames(),this.updateSlows(),this.move(),this.draw()});this.id=i,this.x=t,this.y=n,this.image=P.imageController.getEnemyImage(a.id),this.sWidth=a.sWidth,this.sHeight=a.sHeight,this.dWidth=a.imageScale*a.sWidth,this.dHeight=a.imageScale*a.sHeight,this.imageTranslateX=a.sWidth/2-a.imageTranslateCorrection.x,this.imageTranslateY=a.sHeight/2-a.imageTranslateCorrection.y,this.frameConfig=a.frameConfig,this.health=a.health,this.currentHealth=this.health,this.speed=a.speed,this.maxSlowPercentage=a.maxSlowPercentage,this.bountyGold=a.bountyGold,this.setImageConfig(),this.pathNodes=G.getPathNodes(),this.nodeTarget=this.pathNodes[this.nodesIndex],this.angle=j(this.x,this.y,this.nodeTarget.x,this.nodeTarget.y)}}const Ie=class Ie extends C{constructor(i,t,n){super(i,t,n,Ie.config)}};e(Ie,"config",{id:"skeletonShield",name:"Shielded Skeleton",health:10,speed:2,maxSlowPercentage:60,sWidth:64,sHeight:64,imageScale:.8,imageTranslateCorrection:{x:5,y:-10},frameConfig:{move:{frames:4,animationIterationCircleTime:500,flipOffsetFrames:0,animationStartRight:{sx:0,sy:64},animationStartLeft:{sx:192,sy:384}}},bountyGold:5});let Y=Ie;const Te=class Te extends C{constructor(i,t,n){super(i,t,n,Te.config)}};e(Te,"config",{id:"mushroom",name:"Mad Mushroom",health:25,speed:2,maxSlowPercentage:60,sWidth:64,sHeight:64,imageScale:1,imageTranslateCorrection:{x:0,y:-20},frameConfig:{move:{frames:8,animationIterationCircleTime:500,flipOffsetFrames:0,animationStartRight:{sx:0,sy:64},animationStartLeft:{sx:192,sy:320}}},bountyGold:5});let R=Te;const Ce=class Ce extends C{constructor(i,t,n){super(i,t,n,Ce.config)}};e(Ce,"config",{id:"goblin",name:"Greedy Goblin",health:35,speed:3,maxSlowPercentage:60,sWidth:64,sHeight:64,imageScale:1.1,imageTranslateCorrection:{x:-5,y:-25},frameConfig:{move:{frames:8,animationIterationCircleTime:500,flipOffsetFrames:0,animationStartRight:{sx:0,sy:64},animationStartLeft:{sx:192,sy:320}}},bountyGold:5});let k=Ce;const Ee=class Ee extends C{constructor(i,t,n){super(i,t,n,Ee.config)}};e(Ee,"config",{id:"fireWorm",name:"Fire Worm",health:50,speed:2,maxSlowPercentage:60,sWidth:64,sHeight:64,imageScale:1,imageTranslateCorrection:{x:0,y:-10},frameConfig:{move:{frames:9,animationIterationCircleTime:500,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:512,sy:192}}},bountyGold:5});let W=Ee;const Ht=s=>Math.random()<=s/100,ye=class ye extends C{constructor(i,t,n){super(i,t,n,ye.config)}};e(ye,"config",{id:"skeletonGuard",name:"Skeleton Guard",health:120,speed:2,maxSlowPercentage:50,sWidth:22,sHeight:33,imageScale:1.6,imageTranslateCorrection:{x:-5,y:-30},frameConfig:{move:{frames:13,animationIterationCircleTime:500,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:264,sy:33}}},bountyGold:5});let tt=ye;class At{constructor({id:i,x:t,y:n,index:a,removeSpawn:r}){e(this,"id");e(this,"x");e(this,"y");e(this,"index");e(this,"removeSpawn");e(this,"image",P.imageController.getEnemyImage("skeletonGuardSpawn"));e(this,"sWidth",33);e(this,"sHeight",32);e(this,"imageScale",1.6);e(this,"dWidth",this.imageScale*this.sWidth);e(this,"dHeight",this.imageScale*this.sHeight);e(this,"imageTranslateCorrection",{x:-30,y:-45});e(this,"frames",10);e(this,"frameIteration",0);e(this,"animationIterationCircleTime",1e3);e(this,"sX",null);e(this,"sY",0);e(this,"frameIterationThrottleTime",this.animationIterationCircleTime/this.frames);e(this,"lastFrameIteration",null);e(this,"setFrameIteration",()=>{this.frameIteration++});e(this,"setSxFrame",()=>{this.sX=this.frameIteration*this.sWidth});e(this,"updateFrames",()=>{if(this.lastFrameIteration===null)this.setSxFrame(),this.lastFrameIteration=performance.now();else if(S(this.lastFrameIteration,this.frameIterationThrottleTime)){if(this.setFrameIteration(),this.frameIteration===this.frames){const i=new tt(f.generate(),this.x,this.y);return i.setNodeIndex(this.index-1),i.updateNodeTarget(),i.updateAnimationDirection(),i.setImageConfig(),A.enemies.currentEnemiesPush(i),this.removeSpawn(this.id),!1}this.setSxFrame(),this.lastFrameIteration=performance.now()}return!0});e(this,"draw",()=>{if(this.sX===null)throw new Error("sX  is null");if(this.frameIteration===this.frames)throw new Error("frameIteration is equal to frames");h.ctxGame.drawImage(this.image,this.sX,this.sY,this.sWidth,this.sHeight,this.x+this.imageTranslateCorrection.x,this.y+this.imageTranslateCorrection.y,this.dWidth,this.dHeight)});e(this,"update",()=>{this.updateFrames()!==!1&&this.draw()});this.id=i,this.x=t,this.y=n,this.index=a,this.removeSpawn=r}}const N=class N extends C{constructor(t,n,a){super(t,n,a,N.config);e(this,"spawnMinionDistance",80);e(this,"spawnInFront",!0);e(this,"lastPosition",{x:this.x,y:this.y,nodeTarget:this.nodeTarget,nodeIndex:this.nodesIndex});e(this,"spawnedMinions",[]);e(this,"reduceHealth",(t,n)=>{this.handleSpawnMinion(),this.currentHealth-=t,this.currentHealth<=0&&(A.enemies.remove(this.id),A.gold.increaseGoldAfterKillEnemy(this.bountyGold),A.towers.resetTowerTarget(this.id))});e(this,"handleSpawnMinion",()=>{var t;if(((t=N.config.special)==null?void 0:t.value)===void 0)throw new Error("Demon.config.special.value is undefined");if(Ht(N.config.special.value)){if(this.nodesIndex===0){this.spawnMinionInFront();return}if(this.nodesIndex===this.pathNodes.length-1){this.spawnMinionBehind();return}this.spawnInFront?this.spawnMinionInFront():this.spawnMinionBehind(),this.spawnInFront=!this.spawnInFront}});e(this,"spawnMinionBehind",()=>{const t=new At({id:f.generate(),x:this.lastPosition.x,y:this.lastPosition.y,index:this.lastPosition.nodeIndex,removeSpawn:this.removeSpawnedMinion});this.spawnedMinionsPush(t)});e(this,"spawnMinionInFront",()=>{const t=Math.abs(this.nodeTarget.x-this.x),n=Math.abs(this.nodeTarget.y-this.y),a=this.x+Ye({distance:t-this.spawnMinionDistance<0?t:this.spawnMinionDistance,angle:this.angle}),r=this.y+Re({distance:n-this.spawnMinionDistance<0?n:this.spawnMinionDistance,angle:this.angle}),o=new At({id:f.generate(),x:a,y:r,index:this.nodesIndex,removeSpawn:this.removeSpawnedMinion});this.spawnedMinionsPush(o)});e(this,"calculateLastPosition",()=>{(Math.abs(this.x-this.lastPosition.x)>this.spawnMinionDistance||Math.abs(this.y-this.lastPosition.y)>this.spawnMinionDistance)&&(this.lastPosition={x:this.x,y:this.y,nodeTarget:this.nodeTarget,nodeIndex:this.nodesIndex})});e(this,"spawnedMinionsPush",t=>{this.spawnedMinions.push(t)});e(this,"updateSpawnedMinions",()=>{this.spawnedMinions.forEach(t=>{t.update()})});e(this,"removeSpawnedMinion",t=>{this.spawnedMinions=this.spawnedMinions.filter(n=>n.id!==t)});e(this,"update",()=>{this.updateFrames(),this.updateSlows(),this.move(),this.calculateLastPosition(),this.draw(),this.updateSpawnedMinions()})}};e(N,"config",{id:"demon",name:"Demon",health:2500,speed:1.5,maxSlowPercentage:60,special:{description:"Chance to spawn minions",value:40},sWidth:110,sHeight:110,imageScale:.8,imageTranslateCorrection:{x:15,y:-25},frameConfig:{move:{frames:12,animationIterationCircleTime:1e3,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:1210,sy:110}}},bountyGold:300});let V=N;const Se=class Se extends C{constructor(i,t,n){super(i,t,n,Se.config)}};e(Se,"config",{id:"chainedGolem",name:"Chained Golem",health:180,speed:1.3,maxSlowPercentage:60,sWidth:64,sHeight:64,imageScale:1.1,imageTranslateCorrection:{x:-2,y:-12},frameConfig:{move:{frames:7,animationIterationCircleTime:800,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:384,sy:64}}},bountyGold:10});let U=Se;const He=class He extends C{constructor(i,t,n){super(i,t,n,He.config)}};e(He,"config",{id:"terrorWolf",name:"Terror Wolf",health:170,speed:2.5,maxSlowPercentage:60,sWidth:64,sHeight:64,imageScale:1,imageTranslateCorrection:{x:0,y:-5},frameConfig:{move:{frames:8,animationIterationCircleTime:500,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:448,sy:64}}},bountyGold:10});let K=He;const Pe=class Pe extends C{constructor(i,t,n){super(i,t,n,Pe.config)}};e(Pe,"config",{id:"bloodyBat",name:"Bloody Bat",health:200,speed:2,maxSlowPercentage:60,sWidth:64,sHeight:64,imageScale:1.2,imageTranslateCorrection:{x:-5,y:-10},frameConfig:{move:{frames:8,animationIterationCircleTime:500,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:448,sy:64}}},bountyGold:10});let z=Pe;const Fe=class Fe extends C{constructor(i,t,n){super(i,t,n,Fe.config)}};e(Fe,"config",{id:"evilWitch",name:"Evil Witch",health:240,speed:2,maxSlowPercentage:60,sWidth:64,sHeight:64,imageScale:1.3,imageTranslateCorrection:{x:-8,y:-20},frameConfig:{move:{frames:8,animationIterationCircleTime:500,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:448,sy:64}}},bountyGold:15});let Q=Fe;const Me=class Me extends C{constructor(i,t,n){super(i,t,n,Me.config)}};e(Me,"config",{id:"skeletonArcher",name:"Skeleton Archer",health:100,speed:2,maxSlowPercentage:60,sWidth:64,sHeight:64,imageScale:1,imageTranslateCorrection:{x:0,y:-10},frameConfig:{move:{frames:8,animationIterationCircleTime:500,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:448,sy:64}}},bountyGold:10});let J=Me;class Di{constructor({id:i,target:t}){e(this,"id");e(this,"target");e(this,"duration",2500);e(this,"freezeStart");e(this,"image");e(this,"sWidth",32);e(this,"sHeight",32);e(this,"imageScale",1.5);e(this,"imageTranslateCorrection",{x:(64-this.sWidth*this.imageScale)/2,y:0});e(this,"frameIteration",0);e(this,"frames",15);e(this,"sX",null);e(this,"frameIterationThrottleTime",this.duration/this.frames);e(this,"lastFrameIteration",null);e(this,"setFrameIteration",()=>{this.frameIteration++});e(this,"setSxFrame",()=>{this.sX=this.frameIteration*this.sWidth});e(this,"draw",()=>{if(this.sX===null)throw new Error("sX or sY is null");if(this.frameIteration===this.frames)throw new Error("frameIteration is equal to frames");h.ctxGame.drawImage(this.image,this.sX,0,this.sWidth,this.sHeight,this.target.x+this.imageTranslateCorrection.x,this.target.y,this.sWidth*this.imageScale,this.sHeight*this.imageScale)});e(this,"updateFrames",()=>{if(this.lastFrameIteration===null)this.setSxFrame(),this.lastFrameIteration=performance.now();else if(S(this.lastFrameIteration,this.frameIterationThrottleTime)){if(this.setFrameIteration(),this.frameIteration===this.frames)return!1;this.setSxFrame(),this.lastFrameIteration=performance.now()}return!0});e(this,"update",()=>{this.updateFrames()!==!1&&this.draw()});this.id=i,this.target=t,this.freezeStart=performance.now(),this.image=P.imageController.getImage(st.FREEZE_TOWER),setTimeout(()=>{this.target.resetAfterStun()},this.duration)}}class ji{constructor({id:i,x:t,y:n,target:a,speed:r,removeProjectile:o}){e(this,"id");e(this,"x");e(this,"y");e(this,"target");e(this,"targetMiddleX");e(this,"targetMiddleY");e(this,"speed");e(this,"removeProjectile");e(this,"angle");e(this,"image");e(this,"sWidth");e(this,"sHeight");e(this,"frameIteration",0);e(this,"frames",10);e(this,"animationIterationCircleTime",800);e(this,"sX",null);e(this,"sY",0);e(this,"frameIterationThrottleTime",this.animationIterationCircleTime/this.frames);e(this,"lastFrameIteration",null);e(this,"setFrameIteration",()=>{this.frameIteration<this.frames-1?this.frameIteration++:this.frameIteration=0});e(this,"setSxFrame",()=>{this.sX=this.frameIteration*this.sWidth});e(this,"updateFrames",()=>{this.lastFrameIteration===null?(this.setSxFrame(),this.lastFrameIteration=performance.now()):S(this.lastFrameIteration,this.frameIterationThrottleTime)&&(this.setFrameIteration(),this.setSxFrame(),this.lastFrameIteration=performance.now())});e(this,"draw",()=>{if(this.sX===null)throw new Error("sX is null");h.ctxGame.save(),h.ctxGame.translate(this.x,this.y),h.ctxGame.rotate(this.angle*(Math.PI/180)),h.ctxGame.drawImage(this.image,this.sX,this.sY,this.sWidth,this.sHeight,0-20,0-this.sHeight/2,this.sWidth,this.sHeight),h.ctxGame.restore()});e(this,"move",()=>{const i=Math.abs(this.targetMiddleX-this.x);this.x+=Ye({distance:i-this.speed<0?i:this.speed,angle:this.angle});const t=Math.abs(this.targetMiddleY-this.y);this.y+=Re({distance:t-this.speed<0?t:this.speed,angle:this.angle}),at({x:this.x,y:this.y},{x:this.targetMiddleX,y:this.targetMiddleY})&&this.collide()});e(this,"collide",()=>{this.removeProjectile(this.id),this.target.addStun(new Di({id:f.generate(),target:this.target}))});e(this,"update",()=>{this.move(),this.updateFrames(),this.draw()});this.id=i,this.x=t,this.y=n,this.target=a,this.speed=r,this.removeProjectile=o;const{x:c,y:l}=it({x:this.target.x,y:this.target.y});this.targetMiddleX=c,this.targetMiddleY=l,this.angle=j(this.x,this.y,this.targetMiddleX,this.targetMiddleY),this.image=P.imageController.getImage(wt.ICICLE),this.sWidth=48,this.sHeight=32}}const D=class D extends C{constructor(t,n,a){super(t,n,a,D.config);e(this,"projectiles",[]);e(this,"reduceHealth",(t,n)=>{var a;if(((a=D.config.special)==null?void 0:a.value)===void 0)throw new Error("FrostGuardian.config.special.value is undefined");Ht(D.config.special.value)&&this.shootProjectile(n),this.currentHealth-=t,this.currentHealth<=0&&(A.enemies.remove(this.id),A.gold.increaseGoldAfterKillEnemy(this.bountyGold),A.towers.resetTowerTarget(this.id))});e(this,"removeProjectile",t=>{this.projectiles=this.projectiles.filter(n=>n.id!==t)});e(this,"shootProjectile",t=>{const n=A.towers.getTowerById(t);if(!n)throw new Error(`Tower with id ${t} not found`);this.projectiles.push(new ji({id:f.generate(),x:this.x,y:this.y,target:n,speed:5,removeProjectile:this.removeProjectile}))});e(this,"updateProjectiles",()=>{this.projectiles.forEach(t=>t.update())});e(this,"update",()=>{this.updateFrames(),this.updateSlows(),this.move(),this.draw(),this.updateProjectiles()})}};e(D,"config",{id:"frostGuardian",name:"Frost Guardian",health:1500,speed:1.5,maxSlowPercentage:60,special:{description:"Chance to freeze tower",value:40},sWidth:128,sHeight:128,imageScale:.8,imageTranslateCorrection:{x:12,y:-15},frameConfig:{move:{frames:10,animationIterationCircleTime:1e3,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:1152,sy:128}}},bountyGold:300});let Z=D;const Ge=class Ge extends C{constructor(i,t,n){super(i,t,n,Ge.config)}};e(Ge,"config",{id:"skeletonCat",name:"Skeleton Cat",health:260,speed:2,maxSlowPercentage:60,sWidth:64,sHeight:64,imageScale:1.2,imageTranslateCorrection:{x:-7,y:-20},frameConfig:{move:{frames:8,animationIterationCircleTime:600,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:448,sy:64}}},bountyGold:15});let q=Ge;const be=class be extends C{constructor(i,t,n){super(i,t,n,be.config)}};e(be,"config",{id:"skeletonWarrior",name:"Skeleton Warrior",health:310,speed:1.5,maxSlowPercentage:60,sWidth:64,sHeight:64,imageScale:1.1,imageTranslateCorrection:{x:-4,y:-15},frameConfig:{move:{frames:11,animationIterationCircleTime:500,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:640,sy:64}}},bountyGold:15});let $=be;const Be=class Be extends C{constructor(i,t,n){super(i,t,n,Be.config)}};e(Be,"config",{id:"necromancer",name:"Necromancer",health:360,speed:2,maxSlowPercentage:60,sWidth:64,sHeight:64,imageScale:1,imageTranslateCorrection:{x:0,y:-15},frameConfig:{move:{frames:10,animationIterationCircleTime:500,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:576,sy:64}}},bountyGold:15});let _=Be;const Oe=class Oe extends C{constructor(i,t,n){super(i,t,n,Oe.config)}};e(Oe,"config",{id:"deathWorm",name:"Death Worm",health:750,speed:1.2,maxSlowPercentage:0,special:{description:"Immune to slow effects"},sWidth:224,sHeight:128,imageScale:.6,imageTranslateCorrection:{x:45,y:0},frameConfig:{move:{frames:11,animationIterationCircleTime:2e3,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:1280,sy:128}}},bountyGold:100});let ee=Oe;const B=class B{constructor(){e(this,"waveIndex",0);e(this,"wasLastWave",!1);e(this,"createEnemyWave",()=>{if(this.waveIndex>=B.waves.length)throw new Error("No more waves available");const{className:i,unitCount:t,config:n}=B.waves[this.waveIndex],a=[],r=60;for(let o=0;o<t;o++){const{x:c,y:l}=B.startingPosition,m=c-o*r;a.push(new i(f.generate(),m,l))}return this.waveIndex++,this.waveIndex>=B.waves.length&&(this.wasLastWave=!0),{currentEnemies:a,config:n}})}};e(B,"waves",[{id:Y.config.id,className:Y,config:Y.config,unitCount:20},{id:R.config.id,className:R,config:R.config,unitCount:20},{id:k.config.id,className:k,config:k.config,unitCount:20},{id:W.config.id,className:W,config:W.config,unitCount:20},{id:ee.config.id,className:ee,config:ee.config,unitCount:1},{id:J.config.id,className:J,config:J.config,unitCount:20},{id:U.config.id,className:U,config:U.config,unitCount:20},{id:K.config.id,className:K,config:K.config,unitCount:20},{id:z.config.id,className:z,config:z.config,unitCount:20},{id:Z.config.id,className:Z,config:Z.config,unitCount:1},{id:Q.config.id,className:Q,config:Q.config,unitCount:20},{id:q.config.id,className:q,config:q.config,unitCount:20},{id:$.config.id,className:$,config:$.config,unitCount:20},{id:_.config.id,className:_,config:_.config,unitCount:20},{id:V.config.id,className:V,config:V.config,unitCount:1}]),e(B,"startingPosition",{x:-30,y:160});let ve=B;ve.waves.map(s=>s.config.name);class Yi{constructor(){e(this,"stop",!1);e(this,"lastAnimationTimestamp",null);e(this,"fps",60);e(this,"intervalInMiliseconds",1e3/this.fps);e(this,"menu");e(this,"towers");e(this,"enemies");e(this,"waves");e(this,"gold");e(this,"playerHealth");e(this,"round");e(this,"resetEventListeners",()=>{G.tileGras.forEach(i=>{i.setTowerBp(null),i.updateBG()}),this.towers.hideTowerRange(),this.menu.setSelectedTower(null),h.body.removeAllClassesFromBody()});e(this,"runGame",i=>{if(this.stop){console.log("end");return}i?S(this.lastAnimationTimestamp,this.intervalInMiliseconds)&&(this.lastAnimationTimestamp=i,this.update()):this.update(),requestAnimationFrame(this.runGame)});e(this,"stopGame",()=>{this.stop=!0});e(this,"update",()=>{if(this.playerHealth.getCurrentHealth()<=0){this.stopGame(),new xt(Le.LOST);return}h.ctxGame.clearRect(0,0,h.canvasGame.width,h.canvasGame.height),this.enemies.update(),this.towers.update(),G.update(),this.round.update()});this.menu=new et,this.towers=new Xi,this.enemies=new Yt,this.waves=new ve,this.gold=new kt,this.playerHealth=new Mi,this.round=new Oi(this),G.createTileGrid(),G.buildTileImg(),this.runGame()}}const d=async s=>{const i=new Image(64,64);return i.src=s,await i.decode(),i},Ri="/tower-defense/assets/arcaneArcher-93169575.png",ki="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAFCAYAAAA3zK6FAAAAAXNSR0IArs4c6QAAAFpJREFUKJFjYBjkgBFd4FnCr/8MDAwM4nosEAUG3xgYGBgYmJx4MNRSA/zt+/ef0eAbTvNxWgpzKAMDwrEYmqGOJwT+X+DCEHt56Q+cLa7HwoDLkYM+BAc9AADKMh8EGHHFLAAAAABJRU5ErkJggg==",Wi="data:image/png;base64,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",Vi="/tower-defense/assets/textures-3afee45f.png",Ui="/tower-defense/assets/fireMage-0977364e.png",Ki="/tower-defense/assets/fireMageProjectile-1200d795.png",zi="/tower-defense/assets/fireMageBp-4c064c7f.png",Qi="/tower-defense/assets/lightningMage-e144c4dc.png",Ji="/tower-defense/assets/lightningMageProjectile-8810b3c2.png",Zi="/tower-defense/assets/lightningMageBp-138d9d4b.png",qi="/tower-defense/assets/demonMage-b9db26b8.png",$i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEoAAAANCAYAAAAOjfilAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TpaIVQTOIOGSoLtpFpTjWKhShQqgVWnUwH/2CJg1Jiouj4Fpw8GOx6uDirKuDqyAIfoC4ujgpukiJ/0sKLWI8OO7Hu3uPu3cA16gomtUVBzTdNtPJhJDNrQqhV/SBxyBimJAUy5gTxRR8x9c9Amy9i7Is/3N/jn41bylAQCCOK4ZpE28QxzZtg/E+Ma+UJJX4nHjSpAsSPzJd9viNcdFljmXyZiY9T8wTC8UOljtYKZka8QxxRNV0yueyHquMtxhrlZrSuid7YTivrywzneYokljEEkQIkFFDGRXYiNKqk2IhTfsJH/+I6xfJJZOrDIUcC6hCg+T6wf7gd7dWYXrKSwongO4Xx/kYA0K7QLPuON/HjtM8AYLPwJXe9lcbwOwn6fW2FjkCBraBi+u2Ju8BlzvA8JMhmZIrBWlyhQLwfkbflAOGboHeNa+31j5OH4AMdZW6AQ4OgfEiZa/7vLuns7d/z7T6+wEIAXLiNWll+QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+cLFQ4OIpb/VkYAAADGSURBVEjHY2AYBUQBxpHgyf+tlv8xPF59nHHYBtRTZ1MMD0s5sRDWmPGVoJK//OfgbBYWFsZBFVDYPI4PYA0UIgKBUMDgAsgBxjjoPE5sIMzgJjmwiAkcXIHFSG3Pk5Ut8HkaWY6C7EQJYGFhYWSkJDAoShH4ALbAoWPA4AyoAU1NxGYjmBoc8rQKJKICitZlFFmFNBFZ8S//OQbmj0ZUCUSiy6iBrvHIzd7USGE0q/XoEaDSe08zEmpMDrt21FBqmY8CIgEA0IFTDNKxetAAAAAASUVORK5CYII=",_i="data:image/png;base64,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",es="/tower-defense/assets/skeletonShield-d1002680.png",ts="/tower-defense/assets/mushroom-14731a48.png",is="/tower-defense/assets/goblin-5ef62492.png",ss="data:image/png;base64,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",ns="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUoAAAAgCAYAAAB0MTGNAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw1AUhU9TpaItDu0g4pChOtlFRRxrFYpQIdQKrTqYvPQPmhiSFBdHwbXg4M9i1cHFWVcHV0EQ/AFxdXFSdJES70sKLWJ8cHkf571zuO8+QGjWmGb1JAFNt81sOiXmCyti6BUDCCFKFZGZZcxKUga+6+seAb7fJXiW/70/V0QtWgwIiMRJZpg28Trx9KZtcN4njrGKrBKfE4+b1CDxI9cVj984l10WeGbMzGXniGPEYrmLlS5mFVMjniKOq5pO+ULeY5XzFmetVmftPvkLw0V9eYnrVCNIYwGLkCBCQR1V1GAjQbtOioUsnad8/MOuXyKXQq4qGDnmsQENsusH/4Pfs7VKkxNeUjgF9L44zscoENoFWg3H+T52nNYJEHwGrvSOf6MJzHyS3uho8SNgcBu4uO5oyh5wuQMMPRmyKbtSkEoolYD3M/qmAhC9BfpXvbm1z3H6AORoVpkb4OAQGCtT9prPu/u65/bvnfb8fgAp1XKJIQq0zwAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+cLChElMXsxSXUAAAeoSURBVHja7Z0/SCRJFMZfLyaTT7Jxo9AMXLYcMyMLh7IXDcKimcgaDNzObjA7bGByl1xiIHMG3tzBBN6JmYMgE50oB6K7LGaCDLh27HGYG/YFu6+vpqzqru6uf471QNRh2fq2qt6vvnrVXQvgwsUjjucvXkZOg9ORpuGJSxUXpiaiS0wHqYcyJg6ULlwyur5wOlI0OFC6eFQx7QeR0+B0ZNUw5VJn8l3byeG+Z8NE/ByOPOdcnIt7iGPiQOli4hOBbPcmHBnRYYMGpyO/Brf1doBS3rZpp2CDo7ZBg9ORX4MDpQQI2LJ1wTqLTj2rK+1odaUd4c8mkkVEw8nhvoft0e3K0GGDhiz97nRk0+BAOQGuDeNzOPJ0FcaPh4OoXm9EV2EIvW4TjoeD6CoM70GCnogyE0BUg0pI26CB1HJ3exkhtI+Hg+gx6yC14NfxcBDl0eBAOWHuVhckd/dOxz6rVQMAANje2RSa7EWTQoaGojps0EBrmV9YA4R2rRqAKLRV6cA+0a0DteB4kOOTBkuWBgfKCXCVdLuynRsdtWoAvW4zt9uVoS2PBtkJmVeD7L5I0yICbZk6yMjaPzLnLa0l7fMkDe7UO0fgoy626KEHFvWdHO57z1+8jFRB8+hgPf651enD0cE6lMpDrf/2rBoQUjLHz4Z+sCl63SbML6zlArbsaHX6sbOd8f1Y2+pKO8qixznKHKGzFpgUogcIupLDhgR97BqODtZjcCO0TUer07diPMifs0LbgTLnVvepH8BNOFK+zU2CJO8z1SD/8HHE/J3+XGU4DclaRKCtYp6gDhLYtOvW3ScyFg+39c4BSdY2Dre5OjQcDwfRT+t/xtsJ/H3G97X0wVxj0SML4nONRe0LBa1hd+8U6IOVSddwd3sZscBQqwbw4eMo/m6qT7D9XrdpZPGgteDikUeLBy4Kh86aJZ4qYt0FV8f5hTWY8f2xLYUuXaS7TdvSqNBEwwoTolSueLI10HDCNnRqYOlgOUsdOnh9YnpO0HMTAVmrBsy+SNNgpaNkneLaDEoVBwS8qFUDrmsxUSynAbG60o6SElNlv5DfVUWpXPFIMODPmIQ6NLBATWpi6ajXG9HZ2VD6mLCAfXd7GVGuLUoDtmw99ILR6vQLtf8gtt4qT24fYtCniiaL5TohxXNzuOVdXpqNt3sqtsDYPpls+BlPQ73eYDq/f/+5VgLM1ZV2ROsgYalSBw1tEWATmqQ7W5nz0kr48Gp9tsNSh6tkreBJq6VqTbi1oQHBc7cqtpylcsVjPVyMJQkWHPJoYIGSdtciGhAUskoAtJ4sOmSOB6mDnhfo8rC2LmtMeDqyzEuEdZLjthY8DpbZalM8YOqANy8xVYObBBcvMbCWKwNSSXDSvWgkQZulA4B96KYKlDoXDVZ/ZFk4aS0OlBMAS3oCkKeb+DmdPJPgKvO6OdmHGHmcnMoDHdbfrXvhYo0Nz1HynpCQDcqkeclaPB/kYc60H0Q34Qie+kEMRltu6BEJlYc7rEdSsA6jqjaXVB+kkwG1fH2/N8qyahftFzI5ANQebrGgY4MG2jmiFt066Dkhq1aYZfHgzcs8BzpWgvKp/+UfdxOOQPY7sZMQZCKQ7gEnQq/bHHMaMsDNO+0tlSseCxD0qi0LkjwXRYIp63VvRfrBhIasTt/kHNW1aLCgTWso0r7Vp95kYk/7QXTxaSC8qk6yqyRD14kv3dcsWJCAkO0cSUCJwFJXMiY57+0//oZnG1sRAMD5xbU2WNAaAACebWxF5xfX99pXOU95fdF6/9ZTMSZpC1iREAYlqzam8o0M2kH+vvkzV5eJN0PIlRJfFaP7RAcseduL7Z1NMAEL3a5BBBK6QRXPkVffjWkw4iopDVkvg1ChQ5UGel7IBLXQu953t5fMe93wck7ZJGdts3n1Dd2vrZGXkPa6TVhemo2fY2RpUf3e9Vxj0SuVK16r0wf8YoHElos8VAGSl5wmtZbKFa/1/q2HkNY9Jqjh/OIaeBp09odJHUXnQuFLMZaXZrXWQxAGGHghqErbTbvqqzC8dykpglPkUlAVQa7QeJtzb2Mr/ioyPvj3Zf3ztA4Zl3aIwjINVDoXDhMOjm5ftwYd+SjavowF40kRSLU6/TGnpwOWJKTwJhAS1io1iJza7e6dAg2Jd6/faPm/i7d3Nj3yxhiTjsp0cpgEFg1zHSfPWUpFtu8EbIxMhzn0SeZVGI49v6cysB3yiiSEAt0+CaWLT4O4NsIqZucJ1kWtqI93tdVs/XsACa9piQb5YC3eKlS0Zpp2iJKUIDoT1VS7Ni0WJmvIaQ/mm2i/6GI1lRdSCAh0lQhR8n1SmSefrOubyLcOyGuUAP6H1TffLgIAwLvXb5S4FB6sVYAqS5B9P+MXg0WWE+fH7CZNbzddqHOyU6KDzQISeVEp+zLM9S8Uz+HokiYdtouv7CGsSTeHJYKvTg5++e3XwpOeds8krMmDnF63yb0bMissk/qBdXNM2narKKxZky9L+49xm2e6RmlKgwlXm+aoc4NS9I0XFiB+aP8IAACnZ38JN4jb4qREzbIyk7CuVQPmTTr0HY1p7Yu4WrJPyKvPENwyJodIP+iClOrn1CYZUi7sGYu8jyb9B/7D/4AB3ijOAAAAAElFTkSuQmCC",as="/tower-defense/assets/chainedGolem-2ff6cf62.png",rs="data:image/png;base64,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",os="data:image/png;base64,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",hs="/tower-defense/assets/evilWitch-8c3bc86a.png",cs="/tower-defense/assets/fireWorm-a9e32668.png",ls="/tower-defense/assets/skeletonArcher-698be829.png",ds="/tower-defense/assets/skeletonWarrior-a6477903.png",As="/tower-defense/assets/necromancer-9be49f10.png",ms="data:image/png;base64,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",us="/tower-defense/assets/demon-e8dd8c44.png",gs="/tower-defense/assets/frostGuardian-b8fd95ac.png",fs="/tower-defense/assets/deathWorm-3b814359.png";class ws{constructor(){e(this,"getAssets",async()=>({skeletonShield:await d(es),mushroom:await d(ts),goblin:await d(is),skeletonGuard:await d(ss),skeletonGuardSpawn:await d(ns),chainedGolem:await d(as),terrorWolf:await d(rs),bloodyBat:await d(os),evilWitch:await d(hs),fireWorm:await d(cs),skeletonArcher:await d(ls),skeletonWarrior:await d(ds),necromancer:await d(As),skeletonCat:await d(ms),demon:await d(us),frostGuardian:await d(gs),deathWorm:await d(fs)}))}}const ps="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAAgCAYAAADKS6uVAAAAAXNSR0IArs4c6QAABXVJREFUeJztnD1vHUUUhg8otgVGCklk4soCCvoUiC4SSCAhUVuRKCiQAgb/Bf8LywEkCgqkCFFQIKVwEYkOUVDQUUBkUWAsAy7cJJFCYR1zMndmdmZ3Z2c2eZ7qeufe63f3zjvvfO2KAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA+Hn48MGj2hqGMHf9AADwlEKAwRyZe72du34AAHhKIcAAgIYAAAB682ys8Oj4cOvo+HDL/l1e0nBU91z0WuaqW2Q+9WMIc/p9Yv5tufOIf+swV905tPb7PBMq6BK5c7Ky5zv+2asvBr9zClIv7i/PveDV/9bzq1H9sYbrwoWlQefual+7cvVW6Hxyrr/VHNPonlvO+Vida1eu3oqVi4i8892JV7/y84evnf9v1ZWqJ/f9VqNPuy3X1yH9VrfVk6ulz2csXT64dPHy3vbB6cLxufj30sXLC9f/h/v3O/1bkr7+3d1YPT8+tA3pS0n/TkUp/5Yk+s9ilefHu395P/PGmy899ncNQ7uVyT2PUPj6iBl6aCPpQ7XaiuTq3zlZ2dtcX5Jv/nwgIiKb60vnZXpMmfL6pxrg2o1vz6//2o23z8pu70vo2B/7n1YNBZE084ao0RiJLNYbX2gpr3/1u4i05V+r95+Tvz/R17HzEDkLYmXqQLb+1Y6g1S6y6F8bwC5TBrLrX7d9S/HvvTs35eV3v3isrFb9t7Tq3+wAjoWvjxYMrRwdH25pz1NDyw2sruO1etj6W6h5lVgIW5Mrta+/Na+SEsL2WE1DX/vy18FTt1PpD/lX5KzR19C1qF/V4635NxS+djTfSofUEvLv9eXlrO+pNUIWyfNvrKxmh7o1/2ZNQeeGr49Sho5NodjKb4/3DWF7fGz9KSNfl64QdjUruxuroxi6z8jXJTeEpzS06s/tOadSIpBj/rUe9PnZDWFfmTKlf2MjX3c6PRbCltr+zQ1g9zzH0F/Kv7Gye3dunr8u3alo2b/eD5YK3xBq6r6VyafXnXoOrZmOEcJDR8cpa0eh8FVyQjjUCPQxQkrDqfpzvzuVMa5/qAGynbfvP/ra+3ltYET8nQXfcfv3e5+/LyJlwkxx/TskhEPvLenfWPjqlHPIq74y3/tq+DcngO3Uuu875uZfd+q9bxD39W/In265r8wyxL9ZI+DY9INI/5MYYwQTqkihSpTaGKU0RGOMYHw9aLfcN30eC+VUhk6rhwyQs/YeayCV0LmWXBZw68+QEP7pg1cWRjAiZaZFU/2rdOk/ur2/sL435hp9in9DIexbv/b5O+Thqf0bW/ONEQrgGv51ByB9/Duk45BKl39z80vD1jLEv9lrwGOEcI01AN80dN8QrrXDT+R//aHefddoV6TuOrY1se3928ZFj7sNzvXl5eo7XT/+7d9HOSFsDbu7sSrbB6eTrUOWCGGRuv71hbBdy04J4Rb82yeEtw9OZXN9qRn/+todS6gNas2/sfwaO3Bdet1mkhvCtRbdQ7uhc0O49i5W7Z32DeGpN564PepYTzolhGsa1pIyHV3asH3p8q/i83Fr/rUhHNtIJlIvcEW6/ZsawlNvvMrxb0oIt1D/RdKmo909DiJl/Zv0xX1GwrW3nnfdTxhrhETq3/qSeh92KIRr7/YUiW9I6QphX+iWuO3LR1cDJNK9JtZKoyOSPxIWab/+awjrlLhL6/p3Tlb2Wrn9yNLHv2PuhxmDJ82/IiKzfDqNT/Mc9bvHaulJJaZxiP4Wnt40h+vvA/9OD/5tj9b0Zz8pSCS80QBgbEo+eawUUzx5rA+p/p3qyWOlqPHkMQCAJ5oWRsAAAAAAAAAA0AUjeAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmC//AceoSZ76eCiRAAAAAElFTkSuQmCC",vs="data:image/png;base64,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",xs="/tower-defense/assets/fireExplosion-753bfe6e.png";class Is{constructor(){e(this,"textures",null);e(this,"arcaneArcher",null);e(this,"arcaneArcherProjectile",null);e(this,"arcaneArcherBp",null);e(this,"fireMage",null);e(this,"fireMageProjectile",null);e(this,"fireMageBp",null);e(this,"lightningMage",null);e(this,"lightningMageProjectile",null);e(this,"lightningMageBp",null);e(this,"demonMage",null);e(this,"demonMageProjectile",null);e(this,"demonMageBp",null);e(this,"enemyAssets",null);e(this,"icicle",null);e(this,"freezeTower",null);e(this,"fireExplosion",null);e(this,"loadImages",async()=>{this.textures=await d(Vi),this.arcaneArcher=await d(Ri),this.arcaneArcherProjectile=await d(ki),this.arcaneArcherBp=await d(Wi),this.fireMage=await d(Ui),this.fireMageProjectile=await d(Ki),this.fireMageBp=await d(zi),this.lightningMage=await d(Qi),this.lightningMageProjectile=await d(Ji),this.lightningMageBp=await d(Zi),this.demonMage=await d(qi),this.demonMageProjectile=await d($i),this.demonMageBp=await d(_i),this.enemyAssets=await new ws().getAssets(),this.icicle=await d(ps),this.freezeTower=await d(vs),this.fireExplosion=await d(xs)});e(this,"getImage",i=>{const t=this[i];if(t===null)throw new Error("Images not loaded yet");return t});e(this,"getEnemyImage",i=>{if(this.enemyAssets===null)throw new Error("Enemy assets not loaded yet");return this.enemyAssets[i]})}}class Ts{constructor(){e(this,"columLength",8);e(this,"rowLength",16);e(this,"tileWdith",64);e(this,"tileHeight",this.tileWdith);e(this,"tilesTotal",this.columLength*this.rowLength);e(this,"pathConfiguration",[{id:32,direction:"horizontal"},{id:33,direction:"horizontal"},{id:34,direction:"corner"},{id:50,direction:"vertical"},{id:66,direction:"vertical"},{id:82,direction:"vertical"},{id:98,direction:"corner"},{id:99,direction:"horizontal"},{id:100,direction:"horizontal"},{id:101,direction:"corner"},{id:85,direction:"vertical"},{id:69,direction:"vertical"},{id:53,direction:"vertical"},{id:37,direction:"vertical"},{id:21,direction:"corner"},{id:22,direction:"horizontal"},{id:23,direction:"horizontal"},{id:24,direction:"horizontal"},{id:25,direction:"horizontal"},{id:26,direction:"corner"},{id:42,direction:"vertical"},{id:58,direction:"vertical"},{id:74,direction:"corner"},{id:73,direction:"horizontal"},{id:72,direction:"corner"},{id:88,direction:"vertical"},{id:104,direction:"corner"},{id:105,direction:"horizontal"},{id:106,direction:"horizontal"},{id:107,direction:"horizontal"},{id:108,direction:"horizontal"},{id:109,direction:"corner"},{id:93,direction:"vertical"},{id:77,direction:"vertical"},{id:61,direction:"vertical"},{id:45,direction:"vertical"},{id:29,direction:"vertical"},{id:13,direction:"vertical"}]);e(this,"pathEndPoint",{x:864,y:-32});e(this,"tileRows",[]);e(this,"tilePaths",[]);e(this,"tileGras",[]);e(this,"debug",!1);e(this,"getTileX",i=>i%this.rowLength*this.tileWdith);e(this,"getTileY",()=>this.tileRows.length*this.tileWdith);e(this,"createTileGrid",()=>{for(let i=0,t=[];i<this.tilesTotal;i++){const n=this.pathConfiguration.find(a=>a.id===i);if(n!==void 0){const a=new ft(i,this.getTileX(i),this.getTileY(),n.direction);t.push(a),this.tilePaths.push(a)}else{const a=new b(i,this.getTileX(i),this.getTileY());t.push(a),this.tileGras.push(a)}t.length===this.rowLength&&(this.tileRows.push(t),t=[])}});e(this,"buildTileImg",()=>{this.tileRows.forEach(i=>{i.forEach(t=>{t.updateBG()})})});e(this,"getTileRows",()=>this.tileRows);e(this,"getTilePaths",()=>this.tilePaths);e(this,"getPathConfiguration",()=>this.pathConfiguration);e(this,"getPathConfigurationCorners",()=>this.getPathConfiguration().filter(i=>i.direction==="corner").map(i=>i.id));e(this,"getPathEndPoint",()=>this.pathEndPoint);e(this,"getPathNodes",()=>[...this.getTilePaths().filter(i=>i.direction==="corner").sort((i,t)=>this.getPathConfigurationCorners().indexOf(i.id)-this.getPathConfigurationCorners().indexOf(t.id)).map(i=>({x:i.x+32,y:i.y+32})),this.getPathEndPoint()]);e(this,"updateTilesGras",()=>{this.tileGras.forEach(i=>i.update())});e(this,"update",()=>{this.updateTilesGras()});e(this,"drawGrid",()=>{this.debug?this.tileRows.forEach(i=>{i.forEach(t=>{t.updateBG()})}):this.tileRows.forEach(i=>{i.forEach(t=>{t.drawGrid()})}),this.debug=!this.debug})}}class Cs{constructor(){e(this,"loadingScreen");e(this,"removeLoadingScreen",()=>{this.loadingScreen.remove()});this.loadingScreen=document.createElement("div"),this.loadingScreen.id="loading-screen",this.loadingScreen.classList.add("box-shadow"),this.loadingScreen.innerHTML="Loading...",document.body.appendChild(this.loadingScreen)}}class Es{constructor(i){e(this,"startScreen");e(this,"startButton");e(this,"buttonCallback");e(this,"scaleInTransform",[{transform:"translate(-50%, -50%) scale(1)"},{transform:"translate(-50%, -50%) scale(0.9)"}]);e(this,"scaleInTiming",100);this.buttonCallback=i,this.startScreen=document.createElement("div"),this.startScreen.id="start-screen",this.startScreen.classList.add("box-shadow"),this.startButton=document.createElement("button"),this.startButton.id="start-button",this.startButton.classList.add("box-shadow","play-button"),this.startButton.innerHTML="START",this.startButton.addEventListener("click",()=>{this.removeStartScreen()}),this.startScreen.appendChild(this.startButton),document.body.appendChild(this.startScreen)}removeStartScreen(){this.startScreen.animate(this.scaleInTransform,this.scaleInTiming),setTimeout(()=>{this.startScreen.remove(),this.buttonCallback()},this.scaleInTiming)}}let h,G,A;class ys{constructor(){e(this,"loadingScreen");e(this,"imageController");e(this,"initiateGame",()=>{h=new jt,G=new Ts,A=new Yi});this.loadingScreen=new Cs,this.imageController=new Is,this.imageController.loadImages().then(()=>{this.loadingScreen.removeLoadingScreen(),new Es(this.initiateGame)})}}const P=new ys;

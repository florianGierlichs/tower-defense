var Gt=Object.defineProperty;var kt=(s,t,i)=>t in s?Gt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i;var e=(s,t,i)=>(kt(s,typeof t!="symbol"?t+"":t,i),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();class Lt{constructor(t){e(this,"width",1024);e(this,"height",512);e(this,"canvas");e(this,"ctx");e(this,"getCanvas",()=>this.canvas);e(this,"getCtx",()=>this.ctx);this.canvas=document.createElement("canvas"),this.canvas.id="canvas-background";const i=this.canvas.getContext("2d");if(i===null)throw new Error("Context not found");this.ctx=i,this.canvas.width=this.width,this.canvas.height=this.height,t.appendChild(this.canvas)}}class Ot{constructor(t){e(this,"canvasBorder");e(this,"canvasContainer");e(this,"getCanvasContainer",()=>this.canvasContainer);this.canvasBorder=document.createElement("div"),this.canvasBorder.id="canvas-border",this.canvasBorder.classList.add("box-shadow"),this.canvasContainer=document.createElement("div"),this.canvasContainer.id="canvas-container",this.canvasBorder.appendChild(this.canvasContainer),t.appendChild(this.canvasBorder)}}const pt=s=>({x:s.offsetX,y:s.offsetY}),dt=s=>{const t=G.getTileRows(),{x:i,y:a}=pt(s);let n=null;return t.forEach(r=>{r.forEach(o=>{i>=o.x&&i<=o.x+o.width&&a>=o.y&&a<=o.y+o.height&&(n=o)})}),n},wt=s=>{const t=G.getTileRows(),{x:i,y:a}=pt(s);let n=null;return t.forEach(r=>{r.forEach(o=>{i>=o.x&&i<=o.x+o.width&&a>=o.y&&a<=o.y+o.height&&(n=o)})}),n};class It{constructor(t,i,a){e(this,"id");e(this,"x");e(this,"y");e(this,"width",64);e(this,"height",64);e(this,"sWidth",64);e(this,"sHeight",this.sWidth);e(this,"dWidth",64);e(this,"dHeight",this.dWidth);e(this,"dX");e(this,"dY");e(this,"drawGrid",()=>{h.ctxBackground.lineWidth=.1,h.ctxBackground.strokeStyle="black",h.ctxBackground.font=" 10px sans-serif",h.ctxBackground.fillStyle="white",h.ctxBackground.beginPath(),h.ctxBackground.strokeRect(this.x,this.y,this.width,this.height),h.ctxBackground.fillText(`${this.id}`,this.x+5,this.y+10),h.ctxBackground.fillText(`X:${this.x}-${this.x+64}`,this.x+5,this.y+30),h.ctxBackground.fillText(`Y:${this.y} ${this.y+64}`,this.x+5,this.y+50)});this.id=t,this.x=i,this.y=a,this.dX=i,this.dY=a}}const st=s=>s[Math.floor(Math.random()*s.length)],We=({x:s,y:t})=>{const i=s+32,a=t+64/2;return{x:i,y:a}},W=({imageScale:s,sourceSize:t,translateCorrection:i})=>-((s*t-t)/2)+i;class k extends It{constructor(i,a,n){super(i,a,n);e(this,"hasTower",!1);e(this,"towerBp",null);e(this,"image");e(this,"sX");e(this,"sY");e(this,"towerBpImage",null);e(this,"tileGrasCoords",[{sx:0*this.sWidth,sy:0*this.sHeight},{sx:0*this.sWidth,sy:1*this.sHeight},{sx:1*this.sWidth,sy:0*this.sHeight},{sx:1*this.sWidth,sy:1*this.sHeight},{sx:2*this.sWidth,sy:0*this.sHeight},{sx:2*this.sWidth,sy:1*this.sHeight},{sx:3*this.sWidth,sy:0*this.sHeight},{sx:3*this.sWidth,sy:1*this.sHeight}]);e(this,"getImgConfig",()=>st(this.tileGrasCoords));e(this,"drawImg",()=>{this.image!==null&&h.ctxBackground.drawImage(this.image,this.sX,this.sY,this.sWidth,this.sHeight,this.dX,this.dY,this.dWidth,this.dHeight)});e(this,"setHasTower",()=>this.hasTower=!0);e(this,"setTowerBp",i=>{this.towerBp=i});e(this,"drawTowerBp",()=>{if(this.towerBp!==null){const{config:i}=this.towerBp,a=H.imageController.getImage(i.bluePrint.id);h.ctxGame.drawImage(a,this.dX+W({imageScale:i.imageScale,sourceSize:i.sWidth,translateCorrection:i.imageTranslateCorrection.x}),this.dY+W({imageScale:i.imageScale,sourceSize:i.sHeight,translateCorrection:i.imageTranslateCorrection.y}),i.imageScale*i.sWidth,i.imageScale*i.sHeight);const n=We({x:this.x,y:this.y});h.ctxGame.beginPath(),h.ctxGame.arc(n.x,n.y,i.range,0,Math.PI*2),h.ctxGame.fillStyle="rgba(225,225,225,0.1)",h.ctxGame.fill()}});e(this,"updateBG",()=>{this.drawImg()});e(this,"update",()=>{this.towerBp!==null&&this.drawTowerBp()});this.image=H.imageController.getImage("textures"),this.sX=this.getImgConfig().sx,this.sY=this.getImgConfig().sy}}class vt extends It{constructor(i,a,n,r){super(i,a,n);e(this,"sX");e(this,"sY");e(this,"horizontalTilePathsCoords",[{sx:2*this.sWidth,sy:2*this.sHeight},{sx:3*this.sWidth,sy:2*this.sHeight}]);e(this,"verticalTilePathsCoords",[{sx:1*this.sWidth,sy:2*this.sHeight},{sx:1*this.sWidth,sy:3*this.sHeight}]);e(this,"cornerTilePathCoords",{sx:0*this.sWidth,sy:2*this.sHeight});e(this,"direction");e(this,"getImgConfig",()=>{let i;switch(this.direction){case"horizontal":i=st(this.horizontalTilePathsCoords);break;case"vertical":i=st(this.verticalTilePathsCoords);break;default:i=this.cornerTilePathCoords}return i});e(this,"drawImg",()=>{const i=H.imageController.getImage("textures");h.ctxBackground.drawImage(i,this.sX,this.sY,this.sWidth,this.sHeight,this.dX,this.dY,this.dWidth,this.dHeight)});e(this,"updateBG",()=>{this.drawImg()});this.direction=r,this.sX=this.getImgConfig().sx,this.sY=this.getImgConfig().sy}}class Xt{constructor(t){e(this,"element");e(this,"scaleInTransformIn",[{transform:"translate(-50%, -50%) scale(0.5)"},{transform:"translate(-50%, -50%) scale(1)"}]);e(this,"scaleInTransformOut",[{transform:"translate(-50%, -50%) scale(1)"},{transform:"translate(-50%, -50%) scale(0.5)"}]);e(this,"scaleInTiming",100);e(this,"remove",()=>{this.element.animate(this.scaleInTransformOut,this.scaleInTiming),setTimeout(()=>{this.element.remove()},this.scaleInTiming)});this.element=document.createElement("h2"),this.element.id="info-message",this.element.innerHTML=t,de.appendChild(this.element),this.element.animate(this.scaleInTransformIn,this.scaleInTiming),setTimeout(()=>{this.remove()},1e3)}}class Nt{constructor(t){e(this,"width",1024);e(this,"height",512);e(this,"canvas");e(this,"ctx");e(this,"previousTileForHover",null);e(this,"getCanvas",()=>this.canvas);e(this,"getCtx",()=>this.ctx);e(this,"mouseMoveCallback",t=>{this.showTowerBpOnTile(t)});e(this,"mouseLeaveCallback",t=>{this.resetPreviousTileForHover()});e(this,"clickCallback",t=>{this.showTowerRange(t),this.placeTowerOnTile(t)});e(this,"showTowerBpOnTile",t=>{const i=d.menu.getSelectedTower();if(i===null)return;const a=wt(t);this.previousTileForHover!==a&&(this.previousTileForHover instanceof k&&this.previousTileForHover.setTowerBp(null),a instanceof k&&!a.hasTower&&(a.setTowerBp(i),h.body.removeAllClassesFromBody(),a.update()),(a instanceof k&&!a.towerBp||a instanceof vt)&&h.body.addTowerMouseCursor(i),this.previousTileForHover=a)});e(this,"resetPreviousTileForHover",()=>{this.previousTileForHover instanceof k&&(this.previousTileForHover.setTowerBp(null),this.previousTileForHover.updateBG()),this.previousTileForHover=null});e(this,"placeTowerOnTile",t=>{const i=d.menu.getSelectedTower();if(i===null)return;if(d.gold.getCurrentGold()<i.price){new Xt("Not enough Gold!");return}const n=dt(t);n instanceof k&&!n.hasTower&&(d.towers.createTower(n.x,n.y,i),d.gold.reduceGold(i.price),n.setHasTower(),n.setTowerBp(null),n.updateBG(),d.menu.setSelectedTower(null),h.body.removeAllClassesFromBody())});e(this,"showTowerRange",t=>{const i=dt(t);if(i instanceof k&&i.hasTower&&d.menu.getSelectedTower()===null){const a=d.towers.getTowerForTile(i.x,i.y);a==null||a.setShowRange(!0)}});this.canvas=document.createElement("canvas"),this.canvas.id="canvas-game";const i=this.canvas.getContext("2d");if(i===null)throw new Error("Context not found");this.ctx=i,this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.addEventListener("mousemove",this.mouseMoveCallback),this.canvas.addEventListener("mouseleave",this.mouseLeaveCallback),this.canvas.addEventListener("click",this.clickCallback),t.appendChild(this.canvas)}}class Rt{constructor(){e(this,"body");e(this,"contextmenuCallback",t=>{t.preventDefault(),d.resetEventListeners()});e(this,"clickCallback",t=>{d.towers.hideTowerRange()});e(this,"mouseMoveCallback",t=>{this.showTowerMouseCursor(t)});e(this,"showTowerMouseCursor",t=>{const i=d.menu.getSelectedTower(),a=wt(t);i!==null&&(a instanceof k&&a.towerBp===null||a===null)&&this.addTowerMouseCursor(i)});e(this,"addTowerMouseCursor",t=>{this.body.classList.add(t.id)});e(this,"removeAllClassesFromBody",()=>{this.body.className=""});const t=document.querySelector("body");if(t===null)throw new Error("Body not found");this.body=t,this.body.addEventListener("contextmenu",this.contextmenuCallback),this.body.addEventListener("click",this.clickCallback,!0),this.body.addEventListener("mousemove",this.mouseMoveCallback)}}class Wt{constructor(){e(this,"gameContainer");e(this,"guiContainer");e(this,"scaleInTransform",[{transform:"scale(0.9)"},{transform:"scale(1)"}]);e(this,"scaleInTiming",150);e(this,"getGuiContainer",()=>this.guiContainer);const t=document.getElementById("game-container");if(t===null)throw new Error("game-container not found");this.gameContainer=t,this.guiContainer=document.createElement("div"),this.guiContainer.id="gui-container",this.gameContainer.appendChild(this.guiContainer),this.guiContainer.animate(this.scaleInTransform,this.scaleInTiming)}}class Dt{constructor(t){e(this,"menuBorder");e(this,"menuContainer");e(this,"menuTowersContainer");e(this,"menuTowersContainerInner");e(this,"menuGameStatsContainer");e(this,"getMenuContainer",()=>this.menuContainer);e(this,"getMenuTowersContainer",()=>this.menuTowersContainer);e(this,"addChildToMenuTowersContainer",t=>{this.menuTowersContainerInner.appendChild(t)});e(this,"addMenuItemGold",t=>{this.menuGameStatsContainer.appendChild(t)});e(this,"addMenuItemPlayerHealth",t=>{this.menuGameStatsContainer.appendChild(t)});this.menuBorder=document.createElement("div"),this.menuBorder.id="menu-border",this.menuBorder.classList.add("box-shadow"),this.menuContainer=document.createElement("div"),this.menuContainer.id="menu-container",this.menuTowersContainer=document.createElement("div"),this.menuTowersContainer.id="menu-towers-container",this.menuTowersContainerInner=document.createElement("div"),this.menuTowersContainerInner.id="menu-towers-container-inner",this.menuGameStatsContainer=document.createElement("div"),this.menuGameStatsContainer.id="menu-game-stats-container",this.menuTowersContainer.appendChild(this.menuTowersContainerInner),this.menuBorder.appendChild(this.menuContainer),this.menuContainer.appendChild(this.menuGameStatsContainer),this.menuContainer.appendChild(this.menuTowersContainer),t.appendChild(this.menuBorder)}}class jt{constructor(){e(this,"toggleTilesInfoButton");e(this,"toggleGrid",()=>{G.drawGrid(),gtag("event","click",{event_category:"button",event_label:"toggle grid"})});const t=document.querySelector("#toggle-tiles-info");if(t===null)throw new Error("toggleTilesInfoButton not found");this.toggleTilesInfoButton=t,this.toggleTilesInfoButton.addEventListener("click",this.toggleGrid)}}class Yt{constructor(){e(this,"guiContainer");e(this,"canvasContainer");e(this,"canvasBackground");e(this,"canvasGame");e(this,"ctxBackground");e(this,"ctxGame");e(this,"menuContainer");e(this,"body");this.guiContainer=new Wt,this.canvasContainer=new Ot(this.guiContainer.getGuiContainer());const t=new Lt(this.canvasContainer.getCanvasContainer());this.canvasBackground=t.getCanvas(),this.ctxBackground=t.getCtx();const i=new Nt(this.canvasContainer.getCanvasContainer());this.canvasGame=i.getCanvas(),this.ctxGame=i.getCtx(),this.menuContainer=new Dt(this.guiContainer.getGuiContainer()),new jt,this.body=new Rt}}const E=(s,t)=>{const i=performance.now();return!s||i-s>=t};var at=(s=>(s.IDLE="idle",s.MOVE="move",s))(at||{}),B=(s=>(s.IDLE="idle",s.ATTACK="attack",s.STUNNED="stunned",s))(B||{}),f=(s=>(s.LEFT="left",s.RIGHT="right",s))(f||{}),P=(s=>(s.ARCANE_ARCHER="arcaneArcher",s.FIRE_MAGE="fireMage",s.Lightning_MAGE="lightningMage",s.DEMON_MAGE="demonMage",s.OBELISK="obelisk",s))(P||{}),j=(s=>(s.ARCANE_ARCHER="arcaneArcherProjectile",s.FIRE_MAGE="fireMageProjectile",s.LIGHTNING_MAGE="lightningMageProjectile",s.DEMON_MAGE="demonMageProjectile",s))(j||{}),xt=(s=>(s.ICICLE="icicle",s))(xt||{}),ce=(s=>(s.FREEZE_TOWER="freezeTower",s.FIRE_EXPLOSION="fireExplosion",s.ELECTRIFIED="electrified",s.ELECTRIFY="electrify",s))(ce||{}),Y=(s=>(s.ARCANE_ARCHER="arcaneArcherBp",s.FIRE_MAGE="fireMageBp",s.LIGHTNING_MAGE="lightningMageBp",s.DEMON_MAGE="demonMageBp",s.OBELISK="obeliskBp",s))(Y||{}),De=(s=>(s[s.WON=0]="WON",s[s.LOST=1]="LOST",s))(De||{}),ve=(s=>(s.OBELISK_BUFF="obeliskBuff",s))(ve||{});class Qt{constructor(){e(this,"currentEnemies",[]);e(this,"allEnemiesRemoved",!0);e(this,"updateEnemies",()=>{this.currentEnemies.forEach(t=>t.update())});e(this,"remove",t=>{this.currentEnemies=this.currentEnemies.filter(i=>i.id!==t)});e(this,"getEnemyById",t=>this.currentEnemies.find(i=>i.id===t));e(this,"getCurrentEnemies",()=>this.currentEnemies);e(this,"setCurrentEnemies",t=>{this.currentEnemies=t,this.allEnemiesRemoved=!1});e(this,"currentEnemiesPush",t=>{this.currentEnemies.push(t)});e(this,"update",()=>{this.updateEnemies(),this.currentEnemies.length===0&&(this.allEnemiesRemoved=!0)})}}const T=(s,t,i)=>{const a=document.createElement("p");a.classList.add("tower-stats-text");const n=document.createElement("span");if(n.innerHTML=t,a.appendChild(n),i!==void 0){const r=document.createElement("span");r.innerHTML=i,a.appendChild(r)}s.appendChild(a)};class Ut{constructor(t,i){e(this,"container");e(this,"getContainer",()=>this.container);this.container=document.createElement("div"),this.container.classList.add("tower-stats-container","box-shadow","gold-info"),T(this.container,"Gold increase per round"),T(this.container,`+ ${t}% of current gold`),T(this.container,`+ ${i} static gold`),T(this.container,""),T(this.container,"Bounty gold per kill"),T(this.container,"Each kill grants a bounty gold. The bounty amount gets decreased for every corner waypoint the enemy has passed.")}}class Ct{constructor(t,i){e(this,"menuItem");e(this,"textElement");e(this,"update",t=>{this.textElement.innerText=t});e(this,"getElement",()=>this.menuItem);this.menuItem=document.createElement("div"),this.menuItem.classList.add("menu-item-stats"),this.menuItem.id=`menu-item-${t}`,this.textElement=document.createElement("span"),this.textElement.classList.add("menu-item-stats-content"),this.textElement.innerText=i,this.menuItem.appendChild(this.textElement),h.menuContainer.addMenuItemPlayerHealth(this.menuItem)}}class Jt{constructor(){e(this,"menuItem");e(this,"startGold",100);e(this,"currentGold",this.startGold);e(this,"collectedBountyGoldPerRound",0);e(this,"percentageGoldIncreasePerRound",0);e(this,"infoScreen");e(this,"showInfoScreen",!1);e(this,"staticGoldIncrease",50);e(this,"percentageGoldIncrease",10);e(this,"reduceGold",t=>{this.currentGold-=t,this.update()});e(this,"increaseGoldAfterRound",()=>{this.percentageGoldIncreasePerRound=Math.round(this.percentageGoldIncrease/100*this.currentGold),this.currentGold=Math.round(this.currentGold+this.staticGoldIncrease+this.percentageGoldIncreasePerRound),this.update()});e(this,"increaseGoldAfterKillEnemy",t=>{this.collectedBountyGoldPerRound+=t,this.currentGold+=t,this.update()});e(this,"resetDynamicGoldIncreasePerRound",()=>{this.collectedBountyGoldPerRound=0,this.percentageGoldIncreasePerRound=0});e(this,"showInfo",()=>{this.showInfoScreen||(this.menuItem.getElement().appendChild(this.infoScreen.getContainer()),this.showInfoScreen=!0)});e(this,"removeInfo",()=>{this.menuItem.getElement().removeChild(this.infoScreen.getContainer()),this.showInfoScreen=!1});this.menuItem=new Ct("gold",this.currentGold.toString()),this.menuItem.getElement().addEventListener("mouseover",this.showInfo),this.menuItem.getElement().addEventListener("mouseleave",this.removeInfo),this.infoScreen=new Ut(this.percentageGoldIncrease,this.staticGoldIncrease)}getCurrentGold(){return this.currentGold}getCollectedBountyGoldPerRound(){return this.collectedBountyGoldPerRound}getPercentageGoldIncreasePerRound(){return this.percentageGoldIncreasePerRound}update(){this.menuItem.update(this.currentGold.toString())}}class Tt{constructor({children:t,onTimeout:i,onClose:a,lifeTime:n}){e(this,"container");e(this,"closeButton");e(this,"lifeTime");e(this,"timeOutId");e(this,"onTimeout");e(this,"onClose");e(this,"scaleInTransformIn",[{transform:"translate(-50%, -50%) scale(0.5)"},{transform:"translate(-50%, -50%) scale(1)"}]);e(this,"scaleInTransformOut",[{transform:"translate(-50%, -50%) scale(1)"},{transform:"translate(-50%, -50%) scale(0.5)"}]);e(this,"scaleInTiming",100);e(this,"remove",()=>{this.container.animate(this.scaleInTransformOut,this.scaleInTiming),setTimeout(()=>{this.container.remove()},this.scaleInTiming)});this.lifeTime=n,this.onTimeout=i,this.onClose=a,this.container=document.createElement("div"),this.container.id="modal-pop-in-container",this.container.classList.add("box-shadow"),this.closeButton=document.createElement("button"),this.closeButton.id="modal-pop-in-container__close-button",this.closeButton.addEventListener("click",()=>{clearTimeout(this.timeOutId),this.remove(),this.onClose?this.onClose():this.onTimeout()}),this.container.appendChild(this.closeButton),this.container.appendChild(t),de.appendChild(this.container),this.container.animate(this.scaleInTransformIn,this.scaleInTiming),n&&(this.timeOutId=setTimeout(()=>{this.remove(),this.onTimeout()},this.lifeTime))}}class Et{constructor(t){e(this,"endScreen");e(this,"headline");e(this,"resultElement");e(this,"result");e(this,"buttonContainer");e(this,"playButton");e(this,"wonText","You won!");e(this,"lostText","You lost all your lifes!");e(this,"scaleInTransform",[{transform:"translate(-50%, -50%) scale(0.5)"},{transform:"translate(-50%, -50%) scale(1)"}]);e(this,"scaleInTiming",100);this.result=t,this.endScreen=document.createElement("div"),this.headline=document.createElement("h2"),this.headline.id="end-screen-headline",this.headline.innerHTML="GAME OVER",this.resultElement=document.createElement("h2"),this.resultElement.id="end-screen-result",this.resultElement.innerHTML=this.result===De.WON?this.wonText:this.lostText,this.buttonContainer=document.createElement("div"),this.buttonContainer.id="end-screen-button-container",this.playButton=document.createElement("button"),this.playButton.id="play-again-button",this.playButton.classList.add("box-shadow","play-button"),this.playButton.innerText="Play again",this.playButton.addEventListener("click",()=>{gtag("event","click",{event_category:"button",event_label:"Play again"}),location.reload()}),this.buttonContainer.appendChild(this.playButton),this.endScreen.appendChild(this.headline),this.endScreen.appendChild(this.resultElement),this.endScreen.appendChild(this.buttonContainer),new Tt({children:this.endScreen,onTimeout:()=>location.reload()})}}class Kt{constructor(t){e(this,"tower");e(this,"container");e(this,"getContainer",()=>this.container);this.tower=t,this.container=document.createElement("div"),this.container.classList.add("tower-stats-container","box-shadow"),T(this.container,t.config.name);const i=document.createElement("p");i.classList.add("tower-stats-description"),i.innerText=t.config.description,this.container.appendChild(i),T(this.container,"DMG Buff:",t.config.damage.toString()+"%"),T(this.container,"Range:",t.config.range.toString()),T(this.container,"Buff speed:",t.config.attackSpeed.toString()),T(this.container,"Price:",t.price.toString())}}class Vt{constructor(t){e(this,"tower");e(this,"container");e(this,"getContainer",()=>this.container);this.tower=t,this.container=document.createElement("div"),this.container.classList.add("tower-stats-container","box-shadow"),T(this.container,t.config.name);const i=document.createElement("p");i.classList.add("tower-stats-description"),i.innerText=t.config.description,this.container.appendChild(i),T(this.container,"Damage:",t.config.damage.toString()),T(this.container,"Range:",t.config.range.toString()),T(this.container,"Attack speed:",t.config.attackSpeed.toString()),T(this.container,"Price:",t.price.toString())}}class zt{constructor(t,i){e(this,"tower");e(this,"container");e(this,"element");e(this,"innerElement");e(this,"selectTowerCallback");e(this,"showTowerStats",!1);e(this,"stats");e(this,"clickHandler",()=>{this.selectTowerCallback(this.tower)});e(this,"showStats",()=>{this.showTowerStats||(this.container.appendChild(this.stats.getContainer()),this.showTowerStats=!0)});e(this,"removeStats",()=>{this.container.removeChild(this.stats.getContainer()),this.showTowerStats=!1});this.tower=t,this.selectTowerCallback=i,this.container=document.createElement("div"),this.container.classList.add("menu-item-container"),this.element=document.createElement("div"),this.element.classList.add("menu-item-tower"),this.innerElement=document.createElement("div"),this.innerElement.classList.add("menu-item-tower__inner"),this.innerElement.id=t.id,this.element.addEventListener("click",this.clickHandler),this.container.addEventListener("mouseover",this.showStats),this.container.addEventListener("mouseleave",this.removeStats),this.element.appendChild(this.innerElement),this.container.appendChild(this.element),h.menuContainer.addChildToMenuTowersContainer(this.container),t.config.id===P.OBELISK?this.stats=new Kt(this.tower):this.stats=new Vt(this.tower)}}function Zt(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function qt(s){if(s.__esModule)return s;var t=s.default;if(typeof t=="function"){var i=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(s).forEach(function(a){var n=Object.getOwnPropertyDescriptor(s,a);Object.defineProperty(i,a,n.get?n:{enumerable:!0,get:function(){return s[a]}})}),i}var we,$t=new Uint8Array(16);function St(){if(!we&&(we=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!we))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return we($t)}const _t=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function je(s){return typeof s=="string"&&_t.test(s)}var p=[];for(var ze=0;ze<256;++ze)p.push((ze+256).toString(16).substr(1));function Ye(s){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=(p[s[t+0]]+p[s[t+1]]+p[s[t+2]]+p[s[t+3]]+"-"+p[s[t+4]]+p[s[t+5]]+"-"+p[s[t+6]]+p[s[t+7]]+"-"+p[s[t+8]]+p[s[t+9]]+"-"+p[s[t+10]]+p[s[t+11]]+p[s[t+12]]+p[s[t+13]]+p[s[t+14]]+p[s[t+15]]).toLowerCase();if(!je(i))throw TypeError("Stringified UUID is invalid");return i}var mt,Ze,qe=0,$e=0;function ei(s,t,i){var a=t&&i||0,n=t||new Array(16);s=s||{};var r=s.node||mt,o=s.clockseq!==void 0?s.clockseq:Ze;if(r==null||o==null){var l=s.random||(s.rng||St)();r==null&&(r=mt=[l[0]|1,l[1],l[2],l[3],l[4],l[5]]),o==null&&(o=Ze=(l[6]<<8|l[7])&16383)}var c=s.msecs!==void 0?s.msecs:Date.now(),m=s.nsecs!==void 0?s.nsecs:$e+1,u=c-qe+(m-$e)/1e4;if(u<0&&s.clockseq===void 0&&(o=o+1&16383),(u<0||c>qe)&&s.nsecs===void 0&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");qe=c,$e=m,Ze=o,c+=122192928e5;var w=((c&268435455)*1e4+m)%4294967296;n[a++]=w>>>24&255,n[a++]=w>>>16&255,n[a++]=w>>>8&255,n[a++]=w&255;var F=c/4294967296*1e4&268435455;n[a++]=F>>>8&255,n[a++]=F&255,n[a++]=F>>>24&15|16,n[a++]=F>>>16&255,n[a++]=o>>>8|128,n[a++]=o&255;for(var b=0;b<6;++b)n[a+b]=r[b];return t||Ye(n)}function yt(s){if(!je(s))throw TypeError("Invalid UUID");var t,i=new Uint8Array(16);return i[0]=(t=parseInt(s.slice(0,8),16))>>>24,i[1]=t>>>16&255,i[2]=t>>>8&255,i[3]=t&255,i[4]=(t=parseInt(s.slice(9,13),16))>>>8,i[5]=t&255,i[6]=(t=parseInt(s.slice(14,18),16))>>>8,i[7]=t&255,i[8]=(t=parseInt(s.slice(19,23),16))>>>8,i[9]=t&255,i[10]=(t=parseInt(s.slice(24,36),16))/1099511627776&255,i[11]=t/4294967296&255,i[12]=t>>>24&255,i[13]=t>>>16&255,i[14]=t>>>8&255,i[15]=t&255,i}function ti(s){s=unescape(encodeURIComponent(s));for(var t=[],i=0;i<s.length;++i)t.push(s.charCodeAt(i));return t}var ii="6ba7b810-9dad-11d1-80b4-00c04fd430c8",si="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Ht(s,t,i){function a(n,r,o,l){if(typeof n=="string"&&(n=ti(n)),typeof r=="string"&&(r=yt(r)),r.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+n.length);if(c.set(r),c.set(n,r.length),c=i(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,o){l=l||0;for(var m=0;m<16;++m)o[l+m]=c[m];return o}return Ye(c)}try{a.name=s}catch{}return a.DNS=ii,a.URL=si,a}function ai(s){if(typeof s=="string"){var t=unescape(encodeURIComponent(s));s=new Uint8Array(t.length);for(var i=0;i<t.length;++i)s[i]=t.charCodeAt(i)}return ni(ri(oi(s),s.length*8))}function ni(s){for(var t=[],i=s.length*32,a="0123456789abcdef",n=0;n<i;n+=8){var r=s[n>>5]>>>n%32&255,o=parseInt(a.charAt(r>>>4&15)+a.charAt(r&15),16);t.push(o)}return t}function Ft(s){return(s+64>>>9<<4)+14+1}function ri(s,t){s[t>>5]|=128<<t%32,s[Ft(t)-1]=t;for(var i=1732584193,a=-271733879,n=-1732584194,r=271733878,o=0;o<s.length;o+=16){var l=i,c=a,m=n,u=r;i=I(i,a,n,r,s[o],7,-680876936),r=I(r,i,a,n,s[o+1],12,-389564586),n=I(n,r,i,a,s[o+2],17,606105819),a=I(a,n,r,i,s[o+3],22,-1044525330),i=I(i,a,n,r,s[o+4],7,-176418897),r=I(r,i,a,n,s[o+5],12,1200080426),n=I(n,r,i,a,s[o+6],17,-1473231341),a=I(a,n,r,i,s[o+7],22,-45705983),i=I(i,a,n,r,s[o+8],7,1770035416),r=I(r,i,a,n,s[o+9],12,-1958414417),n=I(n,r,i,a,s[o+10],17,-42063),a=I(a,n,r,i,s[o+11],22,-1990404162),i=I(i,a,n,r,s[o+12],7,1804603682),r=I(r,i,a,n,s[o+13],12,-40341101),n=I(n,r,i,a,s[o+14],17,-1502002290),a=I(a,n,r,i,s[o+15],22,1236535329),i=v(i,a,n,r,s[o+1],5,-165796510),r=v(r,i,a,n,s[o+6],9,-1069501632),n=v(n,r,i,a,s[o+11],14,643717713),a=v(a,n,r,i,s[o],20,-373897302),i=v(i,a,n,r,s[o+5],5,-701558691),r=v(r,i,a,n,s[o+10],9,38016083),n=v(n,r,i,a,s[o+15],14,-660478335),a=v(a,n,r,i,s[o+4],20,-405537848),i=v(i,a,n,r,s[o+9],5,568446438),r=v(r,i,a,n,s[o+14],9,-1019803690),n=v(n,r,i,a,s[o+3],14,-187363961),a=v(a,n,r,i,s[o+8],20,1163531501),i=v(i,a,n,r,s[o+13],5,-1444681467),r=v(r,i,a,n,s[o+2],9,-51403784),n=v(n,r,i,a,s[o+7],14,1735328473),a=v(a,n,r,i,s[o+12],20,-1926607734),i=x(i,a,n,r,s[o+5],4,-378558),r=x(r,i,a,n,s[o+8],11,-2022574463),n=x(n,r,i,a,s[o+11],16,1839030562),a=x(a,n,r,i,s[o+14],23,-35309556),i=x(i,a,n,r,s[o+1],4,-1530992060),r=x(r,i,a,n,s[o+4],11,1272893353),n=x(n,r,i,a,s[o+7],16,-155497632),a=x(a,n,r,i,s[o+10],23,-1094730640),i=x(i,a,n,r,s[o+13],4,681279174),r=x(r,i,a,n,s[o],11,-358537222),n=x(n,r,i,a,s[o+3],16,-722521979),a=x(a,n,r,i,s[o+6],23,76029189),i=x(i,a,n,r,s[o+9],4,-640364487),r=x(r,i,a,n,s[o+12],11,-421815835),n=x(n,r,i,a,s[o+15],16,530742520),a=x(a,n,r,i,s[o+2],23,-995338651),i=C(i,a,n,r,s[o],6,-198630844),r=C(r,i,a,n,s[o+7],10,1126891415),n=C(n,r,i,a,s[o+14],15,-1416354905),a=C(a,n,r,i,s[o+5],21,-57434055),i=C(i,a,n,r,s[o+12],6,1700485571),r=C(r,i,a,n,s[o+3],10,-1894986606),n=C(n,r,i,a,s[o+10],15,-1051523),a=C(a,n,r,i,s[o+1],21,-2054922799),i=C(i,a,n,r,s[o+8],6,1873313359),r=C(r,i,a,n,s[o+15],10,-30611744),n=C(n,r,i,a,s[o+6],15,-1560198380),a=C(a,n,r,i,s[o+13],21,1309151649),i=C(i,a,n,r,s[o+4],6,-145523070),r=C(r,i,a,n,s[o+11],10,-1120210379),n=C(n,r,i,a,s[o+2],15,718787259),a=C(a,n,r,i,s[o+9],21,-343485551),i=O(i,l),a=O(a,c),n=O(n,m),r=O(r,u)}return[i,a,n,r]}function oi(s){if(s.length===0)return[];for(var t=s.length*8,i=new Uint32Array(Ft(t)),a=0;a<t;a+=8)i[a>>5]|=(s[a/8]&255)<<a%32;return i}function O(s,t){var i=(s&65535)+(t&65535),a=(s>>16)+(t>>16)+(i>>16);return a<<16|i&65535}function hi(s,t){return s<<t|s>>>32-t}function Qe(s,t,i,a,n,r){return O(hi(O(O(t,s),O(a,r)),n),i)}function I(s,t,i,a,n,r,o){return Qe(t&i|~t&a,s,t,n,r,o)}function v(s,t,i,a,n,r,o){return Qe(t&a|i&~a,s,t,n,r,o)}function x(s,t,i,a,n,r,o){return Qe(t^i^a,s,t,n,r,o)}function C(s,t,i,a,n,r,o){return Qe(i^(t|~a),s,t,n,r,o)}var li=Ht("v3",48,ai);const ci=li;function Ai(s,t,i){s=s||{};var a=s.random||(s.rng||St)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,t){i=i||0;for(var n=0;n<16;++n)t[i+n]=a[n];return t}return Ye(a)}function di(s,t,i,a){switch(s){case 0:return t&i^~t&a;case 1:return t^i^a;case 2:return t&i^t&a^i&a;case 3:return t^i^a}}function _e(s,t){return s<<t|s>>>32-t}function mi(s){var t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){var a=unescape(encodeURIComponent(s));s=[];for(var n=0;n<a.length;++n)s.push(a.charCodeAt(n))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);for(var r=s.length/4+2,o=Math.ceil(r/16),l=new Array(o),c=0;c<o;++c){for(var m=new Uint32Array(16),u=0;u<16;++u)m[u]=s[c*64+u*4]<<24|s[c*64+u*4+1]<<16|s[c*64+u*4+2]<<8|s[c*64+u*4+3];l[c]=m}l[o-1][14]=(s.length-1)*8/Math.pow(2,32),l[o-1][14]=Math.floor(l[o-1][14]),l[o-1][15]=(s.length-1)*8&4294967295;for(var w=0;w<o;++w){for(var F=new Uint32Array(80),b=0;b<16;++b)F[b]=l[w][b];for(var X=16;X<80;++X)F[X]=_e(F[X-3]^F[X-8]^F[X-14]^F[X-16],1);for(var me=i[0],ge=i[1],ue=i[2],fe=i[3],Ve=i[4],pe=0;pe<80;++pe){var At=Math.floor(pe/20),bt=_e(me,5)+di(At,ge,ue,fe)+Ve+t[At]+F[pe]>>>0;Ve=fe,fe=ue,ue=_e(ge,30)>>>0,ge=me,me=bt}i[0]=i[0]+me>>>0,i[1]=i[1]+ge>>>0,i[2]=i[2]+ue>>>0,i[3]=i[3]+fe>>>0,i[4]=i[4]+Ve>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,i[0]&255,i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,i[1]&255,i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,i[2]&255,i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,i[3]&255,i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,i[4]&255]}var gi=Ht("v5",80,mi);const ui=gi,fi="00000000-0000-0000-0000-000000000000";function pi(s){if(!je(s))throw TypeError("Invalid UUID");return parseInt(s.substr(14,1),16)}const wi=Object.freeze(Object.defineProperty({__proto__:null,NIL:fi,parse:yt,stringify:Ye,v1:ei,v3:ci,v4:Ai,v5:ui,validate:je,version:pi},Symbol.toStringTag,{value:"Module"})),Ii=qt(wi);function lt(s,t){if(!s||!t||!s.length||!t.length)throw new Error("Bad alphabet");this.srcAlphabet=s,this.dstAlphabet=t}lt.prototype.convert=function(s){var t,i,a,n={},r=this.srcAlphabet.length,o=this.dstAlphabet.length,l=s.length,c=typeof s=="string"?"":[];if(!this.isValid(s))throw new Error('Number "'+s+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return s;for(t=0;t<l;t++)n[t]=this.srcAlphabet.indexOf(s[t]);do{for(i=0,a=0,t=0;t<l;t++)i=i*r+n[t],i>=o?(n[a++]=parseInt(i/o,10),i=i%o):a>0&&(n[a++]=0);l=a,c=this.dstAlphabet.slice(i,i+1).concat(c)}while(a!==0);return c};lt.prototype.isValid=function(s){for(var t=0;t<s.length;++t)if(this.srcAlphabet.indexOf(s[t])===-1)return!1;return!0};var vi=lt,xi=vi;function Ae(s,t){var i=new xi(s,t);return function(a){return i.convert(a)}}Ae.BIN="01";Ae.OCT="01234567";Ae.DEC="0123456789";Ae.HEX="0123456789abcdef";var Ci=Ae;const{v4:et}=Ii,Ie=Ci,tt="123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",Ti="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!#$%&'()*+-./:<=>?@[]^_`{|}~",Ei={consistentLength:!0};let it;const gt=(s,t,i)=>{const a=t(s.toLowerCase().replace(/-/g,""));return!i||!i.consistentLength?a:a.padStart(i.shortIdLength,i.paddingChar)},Si=(s,t)=>{const a=t(s).padStart(32,"0").match(/(\w{8})(\w{4})(\w{4})(\w{4})(\w{12})/);return[a[1],a[2],a[3],a[4],a[5]].join("-")},yi=s=>Math.ceil(Math.log(2**128)/Math.log(s));var Hi=(()=>{const s=(t,i)=>{const a=t||tt,n={...Ei,...i};if([...new Set(Array.from(a))].length!==a.length)throw new Error("The provided Alphabet has duplicate characters resulting in unreliable results");const r=yi(a.length),o={shortIdLength:r,consistentLength:n.consistentLength,paddingChar:a[0]},l=Ie(Ie.HEX,a),c=Ie(a,Ie.HEX),m=()=>gt(et(),l,o),u={new:m,generate:m,uuid:et,fromUUID:w=>gt(w,l,o),toUUID:w=>Si(w,c),alphabet:a,maxLength:r};return Object.freeze(u),u};return s.constants={flickrBase58:tt,cookieBase90:Ti},s.uuid=et,s.generate=()=>(it||(it=s(tt).generate),it()),s})();const g=Zt(Hi),nt=(s,t)=>Math.hypot(s.x-t.x,s.y-t.y);class Ue{constructor(t,i,a,n){e(this,"id");e(this,"x");e(this,"y");e(this,"tileMiddle");e(this,"damage");e(this,"damageMultipliers",[]);e(this,"range");e(this,"attackSpeed");e(this,"attackSpeedThrottleTime");e(this,"image");e(this,"sWidth");e(this,"sHeight");e(this,"dWidth");e(this,"dHeight");e(this,"imageTranslateX");e(this,"imageTranslateY");e(this,"imgConfig");e(this,"frameIteration",0);e(this,"frameIterationThrottleTime",100);e(this,"cancelAttackAnimantionAllowed");e(this,"projectileImg");e(this,"projectileWidth");e(this,"projectileHeight");e(this,"projectiles",[]);e(this,"stunns",[]);e(this,"buffs",new Set([]));e(this,"state",B.IDLE);e(this,"animationDirection",f.LEFT);e(this,"showRange",!1);e(this,"updateImgConfig",!1);e(this,"newAnimationCycle",!0);e(this,"sX",null);e(this,"sY",null);e(this,"frames",null);e(this,"flipOffsetFrames",null);e(this,"lastFrameIteration",null);e(this,"drawImgBackground",null);e(this,"lastAttack",null);e(this,"currentTarget",null);e(this,"targetFallbackCoordinates",null);e(this,"getImgConfigForState",()=>{let t;switch(this.state){case B.IDLE:t=this.imgConfig.idle;break;default:t=this.imgConfig.attack}return t});e(this,"setImageConfig",()=>{const{animationStartRight:t,animationStartLeft:i,frames:a,animationIterationCircleTime:n,flipOffsetFrames:r}=this.getImgConfigForState();this.sX=this.animationDirection===f.RIGHT?t.sx:i.sx,this.sY=this.animationDirection===f.RIGHT?t.sy:i.sy,this.frames=a,this.flipOffsetFrames=r,this.frameIterationThrottleTime=n/this.frames});e(this,"setSxFrame",()=>{if(this.frames===null||this.flipOffsetFrames===null)throw new Error("Frames or flipOffsetFrames is null");this.animationDirection===f.RIGHT?this.sX=this.frameIteration*this.sWidth:this.sX=(this.frames+this.flipOffsetFrames)*this.sWidth-(this.frameIteration+1)*this.sWidth});e(this,"shoot",()=>{this.lastAttack=performance.now()});e(this,"setFrameIteration",()=>{if(this.frames===null)throw new Error("Frames is null");this.frameIteration<this.frames-1?this.frameIteration++:(this.frameIteration=0,this.newAnimationCycle=!0,this.state===B.ATTACK&&(this.state=B.IDLE,this.setImageConfig(),this.targetFallbackCoordinates=null))});e(this,"drawImg",()=>{this.drawImgBackground&&this.drawImgBackground(),this.sX!==null&&this.sY!==null&&h.ctxGame.drawImage(this.image,this.sX,this.sY,this.sWidth,this.sHeight,this.x+this.imageTranslateX,this.y+this.imageTranslateY,this.dWidth,this.dHeight)});e(this,"idleAnimation",()=>{this.drawImg()});e(this,"setStateAndCurrentTarget",t=>{this.currentTarget=t,!(t===null&&this.state===B.ATTACK&&!this.cancelAttackAnimantionAllowed)&&(this.newAnimationCycle=!0,this.frameIteration=0,t===null?(this.state=B.IDLE,this.setImageConfig()):(this.targetFallbackCoordinates={x:t.x,y:t.y},this.state=B.ATTACK,this.setAnimationDirection(),this.setImageConfig()))});e(this,"findNextTarget",()=>{let t=null,i=1/0;return d.enemies.getCurrentEnemies().forEach(a=>{const n=nt(this.tileMiddle,{x:a.x,y:a.y});n<=this.range&&n<=i&&(i=n,t=a)}),t});e(this,"checkAndSetClosestEnemyInRange",()=>{if(this.currentTargetIsInRage())this.setStateAndCurrentTarget(this.currentTarget);else{const t=this.findNextTarget();t!==null&&this.setStateAndCurrentTarget(t)}});e(this,"currentTargetIsInRage",()=>this.currentTarget?!(nt(this.tileMiddle,{x:this.currentTarget.x,y:this.currentTarget.y})>this.range):!1);e(this,"setAnimationDirection",()=>{if(this.currentTarget===null)throw new Error("No current target");this.currentTarget.x<=this.x?this.animationDirection===f.RIGHT&&(this.animationDirection=f.LEFT,this.updateImgConfig=!0):this.animationDirection===f.LEFT&&(this.animationDirection=f.RIGHT,this.updateImgConfig=!0)});e(this,"attackAnimation",()=>{this.drawImg()});e(this,"updateProjectiles",()=>{this.projectiles.forEach(t=>t.update())});e(this,"removeProjectile",t=>{this.projectiles=this.projectiles.filter(i=>i.id!==t)});e(this,"removeTarget",()=>{this.setStateAndCurrentTarget(null)});e(this,"drawRange",()=>{h.ctxGame.beginPath(),h.ctxGame.arc(this.tileMiddle.x,this.tileMiddle.y,this.range,0,Math.PI*2),h.ctxGame.fillStyle="rgba(225,225,225,0.1)",h.ctxGame.fill()});e(this,"setShowRange",t=>{this.showRange=t});e(this,"shootAtAttackAnimationFrame",(t,i)=>{E(this.lastAttack,this.attackSpeedThrottleTime)&&this.frameIteration===t&&(this.shoot(),this.projectiles.push(i()))});e(this,"updateFrames",()=>{this.newAnimationCycle===!0?(this.setSxFrame(),this.lastFrameIteration=performance.now(),this.newAnimationCycle=!1):E(this.lastFrameIteration,this.frameIterationThrottleTime)&&(this.setFrameIteration(),this.setSxFrame(),this.lastFrameIteration=performance.now())});e(this,"addStun",t=>{this.stunns.push(t),this.state=B.STUNNED});e(this,"resetAfterStun",()=>{this.setStateAndCurrentTarget(null)});e(this,"updateStunns",()=>{this.stunns.forEach(i=>i.update());const t=performance.now();this.stunns.forEach(i=>{t-i.freezeStart>=i.duration&&(this.stunns=this.stunns.filter(a=>a.id!==i.id))})});e(this,"addBuffId",t=>{this.buffs.add(t)});e(this,"removeBuffId",t=>{this.buffs.delete(t)});e(this,"addDamageBuffMultiplier",t=>{this.damageMultipliers.push(t)});e(this,"removeDamageBuffMultiplier",t=>{const i=this.damageMultipliers.indexOf(t);if(i>-1)this.damageMultipliers.splice(i,1);else throw new Error("Buff multiplier not found")});e(this,"getCurrentDamage",()=>{let t;return this.damageMultipliers.length===0?t=this.damage:t=this.damage*this.damageMultipliers.reduce((i,a)=>i+a,0),t});this.id=t,this.x=i,this.y=a,this.tileMiddle=We({x:i,y:a}),this.damage=n.damage,this.range=n.range,this.attackSpeed=n.attackSpeed,this.attackSpeedThrottleTime=60/this.attackSpeed*1e3,this.cancelAttackAnimantionAllowed=n.cancelAttackAnimantionAllowed,this.image=H.imageController.getImage(n.id),this.sWidth=n.sWidth,this.sHeight=n.sHeight,this.dWidth=n.imageScale*n.sWidth,this.dHeight=n.imageScale*n.sHeight,this.imageTranslateX=W({imageScale:n.imageScale,sourceSize:n.sWidth,translateCorrection:n.imageTranslateCorrection.x}),this.imageTranslateY=W({imageScale:n.imageScale,sourceSize:n.sHeight,translateCorrection:n.imageTranslateCorrection.y}),this.imgConfig=n.frameConfig,this.setImageConfig(),this.projectileImg=H.imageController.getImage(n.projectile.id),this.projectileWidth=n.projectile.width,this.projectileHeight=n.projectile.height}update({shootAtFrame:t,getProjectile:i,cancelProjectile:a}){this.state===B.STUNNED?(this.drawImg(),a?this.projectiles=[]:this.updateProjectiles()):(this.updateFrames(),this.state===B.ATTACK&&(this.attackAnimation(),this.shootAtAttackAnimationFrame(t,i),this.updateProjectiles()),this.state===B.IDLE&&(this.idleAnimation(),E(this.lastAttack,this.attackSpeedThrottleTime)&&this.checkAndSetClosestEnemyInRange(),this.updateProjectiles())),this.showRange&&this.drawRange(),this.updateStunns()}}const D=(s,t,i,a)=>{const n=a-t,r=i-s;let o=Math.atan2(n,r);return o*=180/Math.PI,o},rt=({center:s,radius:t,target:i})=>Math.sqrt(Math.pow(i.x-s.x,2)+Math.pow(i.y-s.y,2))<=t;class Fi{constructor(t,i,a,n,r,o,l){e(this,"id");e(this,"x");e(this,"y");e(this,"radius");e(this,"damage");e(this,"damageOverTimeThrottleTime");e(this,"towerSourceId");e(this,"affectedEnemies",[]);e(this,"isAffectedEnemy",t=>this.affectedEnemies.find(i=>i.enemy===t));e(this,"updateEnemiesInsideArea",()=>{d.enemies.getCurrentEnemies().forEach(t=>{if(rt({center:{x:this.x,y:this.y},radius:this.radius,target:{x:t.x,y:t.y}})&&!this.isAffectedEnemy(t))this.affectedEnemies.push({enemy:t,damageHitTime:null});else if(!rt({center:{x:this.x,y:this.y},radius:this.radius,target:{x:t.x,y:t.y}})&&this.isAffectedEnemy(t)){const i=this.affectedEnemies.map(a=>a.enemy).indexOf(t);this.affectedEnemies.splice(i,1)}}),this.affectedEnemies.forEach(t=>{if(!d.enemies.getCurrentEnemies().includes(t.enemy)){const i=this.affectedEnemies.indexOf(t);this.affectedEnemies.splice(i,1)}})});e(this,"damageEnemies",()=>{this.affectedEnemies.forEach(t=>{(t.damageHitTime===null||E(t.damageHitTime,this.damageOverTimeThrottleTime))&&(t.enemy.reduceHealth(this.damage,this.towerSourceId),t.damageHitTime=performance.now())})});e(this,"update",()=>{this.updateEnemiesInsideArea(),this.damageEnemies()});this.id=t,this.x=i,this.y=a,this.radius=n,this.damage=r,this.damageOverTimeThrottleTime=o,this.towerSourceId=l}}class Bi{constructor(t,i,a,n,r,o,l,c,m,u){e(this,"id");e(this,"x");e(this,"y");e(this,"damage");e(this,"duration");e(this,"image");e(this,"sWidth",74);e(this,"sHeight",44);e(this,"dWidth",74);e(this,"dHeight",44);e(this,"sY",0);e(this,"target");e(this,"animationDirection");e(this,"angle");e(this,"removeProjectile");e(this,"towerSourceId");e(this,"damageOverTimeArea");e(this,"damageOverTimeThrottleTime",400);e(this,"damageOverTimeRadius",20);e(this,"frameIteration",0);e(this,"frames",8);e(this,"sX",null);e(this,"frameIterationThrottleTime");e(this,"lastFrameIteration",null);e(this,"setFrameIteration",()=>{this.frameIteration++});e(this,"setSxFrame",()=>{this.animationDirection===f.RIGHT?this.sX=this.frameIteration*this.sWidth:this.sX=this.frames*this.sWidth-(this.frameIteration+1)*this.sWidth});e(this,"getHandPosition",()=>this.animationDirection===f.RIGHT?[this.x+20,this.y-5]:[this.x-20,this.y-5]);e(this,"draw",()=>{if(this.sX===null||this.sY===null)throw new Error("sX or sY is null");if(this.frameIteration===this.frames)throw new Error("frameIteration is equal to frames");h.ctxGame.save(),h.ctxGame.translate(...this.getHandPosition()),h.ctxGame.rotate(this.angle*(Math.PI/180)),h.ctxGame.drawImage(this.image,this.sX,this.sY,this.sWidth,this.sHeight,0,-25,this.dWidth,this.dHeight),h.ctxGame.restore()});e(this,"updatedamageOverTimeArea",()=>{this.damageOverTimeArea.update()});e(this,"updateFrames",()=>{if(this.lastFrameIteration===null)this.setSxFrame(),this.lastFrameIteration=performance.now();else if(E(this.lastFrameIteration,this.frameIterationThrottleTime)){if(this.setFrameIteration(),this.frameIteration===this.frames)return this.removeProjectile(this.id),!1;this.setSxFrame(),this.lastFrameIteration=performance.now()}return!0});e(this,"update",()=>{this.updateFrames()!==!1&&(this.draw(),this.updatedamageOverTimeArea())});this.id=t,this.x=i,this.y=a,this.damage=n,this.duration=r,this.frameIterationThrottleTime=this.duration/this.frames,this.image=o,this.target=l,this.animationDirection=c,this.angle=D(this.x,this.y,this.target.x,this.target.y),this.removeProjectile=m,this.towerSourceId=u,this.damageOverTimeArea=new Fi(g.generate(),this.target.x,this.target.y,this.damageOverTimeRadius,this.damage,this.damageOverTimeThrottleTime,this.towerSourceId)}}const ut=800,ne=class ne extends Ue{constructor(i,a,n){super(i,a,n,ne.config);e(this,"id");e(this,"getProjectile",()=>{if(this.targetFallbackCoordinates===null)throw new Error("No current target");return new Bi(g.generate(),this.tileMiddle.x,this.tileMiddle.y,this.getCurrentDamage(),ne.config.frameConfig.attack.animationIterationCircleTime,this.projectileImg,this.currentTarget||this.targetFallbackCoordinates,this.animationDirection,this.removeProjectile,this.id)});e(this,"update",()=>{super.update({shootAtFrame:0,getProjectile:this.getProjectile,cancelProjectile:!0})});this.id=i}};e(ne,"config",{id:P.FIRE_MAGE,name:"Fire Mage",description:`Burns a small area for ${ut/1e3}sec. Slow enemies can get multiple damage ticks.`,range:100,attackSpeed:40,damage:35,sWidth:64,sHeight:64,imageScale:1,imageTranslateCorrection:{x:0,y:0},frameConfig:{idle:{frames:4,animationIterationCircleTime:500,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:448,sy:128}},attack:{frames:4,animationIterationCircleTime:ut,flipOffsetFrames:0,animationStartRight:{sx:0,sy:64},animationStartLeft:{sx:448,sy:192}}},cancelAttackAnimantionAllowed:!1,projectile:{id:j.FIRE_MAGE,width:40,height:5},bluePrint:{id:Y.FIRE_MAGE}});let re=ne;const Je=({distance:s,angle:t})=>s*Math.cos(t*Math.PI/180),Ke=({distance:s,angle:t})=>s*Math.sin(t*Math.PI/180),ct=({x:s,y:t},{x:i,y:a})=>(s-i-1)*(s-i+1)<=0&&(t-a-1)*(t-a+1)<=0;class Bt{constructor(t,i,a,n,r,{img:o,width:l,height:c},m,u,w){e(this,"id");e(this,"x");e(this,"y");e(this,"damage");e(this,"targetEnemy");e(this,"removeProjectile");e(this,"towerSourceId");e(this,"speed");e(this,"image");e(this,"width");e(this,"height");e(this,"draw",()=>{const t=D(this.x,this.y,this.targetEnemy.x,this.targetEnemy.y);h.ctxGame.save(),h.ctxGame.translate(this.x,this.y),h.ctxGame.rotate(t*(Math.PI/180)),h.ctxGame.drawImage(this.image,-this.width,-this.height),h.ctxGame.restore()});e(this,"move",()=>{const t=D(this.x,this.y,this.targetEnemy.x,this.targetEnemy.y),i=Math.abs(this.targetEnemy.x-this.x);this.x+=Je({distance:i-this.speed<0?i:this.speed,angle:t});const a=Math.abs(this.targetEnemy.y-this.y);this.y+=Ke({distance:a-this.speed<0?a:this.speed,angle:t}),ct({x:this.x,y:this.y},{x:this.targetEnemy.x,y:this.targetEnemy.y})&&this.collide()});e(this,"collide",()=>{this.removeProjectile(this.id),this.targetEnemy.reduceHealth(this.damage,this.towerSourceId)});e(this,"update",()=>{this.move(),this.draw()});this.id=t,this.x=i,this.y=a,this.damage=n,this.speed=r,this.image=o,this.width=l,this.height=c,this.targetEnemy=m,this.removeProjectile=u,this.towerSourceId=w}}const Ce=class Ce extends Ue{constructor(i,a,n){super(i,a,n,Ce.config);e(this,"id");e(this,"projectileSpeed",20);e(this,"getProjectile",()=>{if(this.currentTarget===null)throw new Error("No current target");return new Bt(g.generate(),this.tileMiddle.x,this.tileMiddle.y,this.getCurrentDamage(),this.projectileSpeed,{img:this.projectileImg,width:this.projectileWidth,height:this.projectileHeight},this.currentTarget,this.removeProjectile,this.id)});e(this,"update",()=>{super.update({shootAtFrame:6,getProjectile:this.getProjectile})});this.id=i}};e(Ce,"config",{id:P.ARCANE_ARCHER,name:"Arcane Archer",description:"Shoots a magic arrow that deals damage to a single enemy.",range:250,attackSpeed:100,damage:5,sWidth:64,sHeight:64,imageScale:1.1,imageTranslateCorrection:{x:0,y:5},frameConfig:{idle:{frames:4,animationIterationCircleTime:600,flipOffsetFrames:4,animationStartRight:{sx:0,sy:320},animationStartLeft:{sx:448,sy:832}},attack:{frames:7,animationIterationCircleTime:400,flipOffsetFrames:1,animationStartRight:{sx:0,sy:192},animationStartLeft:{sx:448,sy:704}}},cancelAttackAnimantionAllowed:!0,projectile:{id:j.ARCANE_ARCHER,width:40,height:5},bluePrint:{id:Y.ARCANE_ARCHER}});let oe=Ce;class Pt{constructor(t,i,a,n,r,o){e(this,"id");e(this,"x");e(this,"y");e(this,"radius");e(this,"damage");e(this,"towerSourceId");e(this,"enemiesInsideArea",[]);e(this,"setEnemiesInsideArea",()=>{this.enemiesInsideArea=d.enemies.getCurrentEnemies().filter(t=>rt({center:{x:this.x,y:this.y},radius:this.radius,target:{x:t.x,y:t.y}}))});e(this,"damageEnemiesInsideArea",()=>{this.enemiesInsideArea.forEach(t=>{t.reduceHealth(this.damage,this.towerSourceId)})});e(this,"getEnemiesInsideArea",()=>this.enemiesInsideArea);this.id=t,this.x=i,this.y=a,this.radius=n,this.damage=r,this.towerSourceId=o,this.setEnemiesInsideArea(),this.damageEnemiesInsideArea()}}class Pi{constructor(t,i){e(this,"id");e(this,"slowStart");e(this,"slowPercentage");e(this,"slowDuration");this.id=g.generate(),this.slowStart=performance.now(),this.slowPercentage=t,this.slowDuration=i}}class Mi extends Pt{constructor(i,a,n,r,o,l){super(i,a,n,r,o,l);e(this,"slowEnemiesInsideArea",()=>{this.getEnemiesInsideArea().forEach(i=>{i.addSlow(new Pi(30,2e3))})});this.slowEnemiesInsideArea()}}class bi{constructor(t,i,a,n,r,o,l,c){e(this,"id");e(this,"x");e(this,"y");e(this,"damage");e(this,"image");e(this,"sWidth",150);e(this,"sHeight",192);e(this,"dWidth",150);e(this,"dHeight",192);e(this,"sY",0);e(this,"dX");e(this,"dY");e(this,"removeProjectile");e(this,"towerSourceId");e(this,"radius",70);e(this,"frameIteration",0);e(this,"frames",7);e(this,"animationIterationCircleTime",600);e(this,"sX",null);e(this,"frameIterationThrottleTime",this.animationIterationCircleTime/this.frames);e(this,"lastFrameIteration",null);e(this,"setFrameIteration",()=>{this.frameIteration++});e(this,"setSxFrame",()=>{this.sX=this.frameIteration*this.sWidth});e(this,"draw",()=>{if(this.sX===null||this.sY===null)throw new Error("sX or sY is null");if(this.frameIteration===this.frames)throw new Error("frameIteration is equal to frames");h.ctxGame.drawImage(this.image,this.sX,this.sY,this.sWidth,this.sHeight,this.dX-this.dWidth/2,this.dY-this.dHeight/1.35,this.dWidth,this.dHeight)});e(this,"updateFrames",()=>{if(this.lastFrameIteration===null)this.setSxFrame(),this.lastFrameIteration=performance.now();else if(E(this.lastFrameIteration,this.frameIterationThrottleTime)){if(this.setFrameIteration(),this.frameIteration===this.frames)return this.removeProjectile(this.id),!1;this.setSxFrame(),this.lastFrameIteration=performance.now()}return!0});e(this,"update",()=>{this.updateFrames()!==!1&&this.draw()});this.id=t,this.x=i,this.y=a,this.damage=n,this.image=r,this.dX=o.x,this.dY=o.y,this.removeProjectile=l,this.towerSourceId=c,new Mi(g.generate(),this.dX,this.dY,this.radius,this.damage,this.towerSourceId)}}const Te=class Te extends Ue{constructor(i,a,n){super(i,a,n,Te.config);e(this,"id");e(this,"getProjectile",()=>{if(this.targetFallbackCoordinates===null)throw new Error("No current target");return new bi(g.generate(),this.tileMiddle.x,this.tileMiddle.y,this.getCurrentDamage(),this.projectileImg,this.currentTarget||this.targetFallbackCoordinates,this.removeProjectile,this.id)});e(this,"update",()=>{super.update({shootAtFrame:10,getProjectile:this.getProjectile})});this.id=i}};e(Te,"config",{id:P.Lightning_MAGE,name:"Lightning Mage",description:"Summons a lightning bolt to damage and slow enemies for 30% in an area.",range:200,attackSpeed:30,damage:10,sWidth:64,sHeight:64,imageScale:1.2,imageTranslateCorrection:{x:0,y:-5},frameConfig:{idle:{frames:8,animationIterationCircleTime:800,flipOffsetFrames:8,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:960,sy:128}},attack:{frames:16,animationIterationCircleTime:1e3,flipOffsetFrames:0,animationStartRight:{sx:0,sy:64},animationStartLeft:{sx:960,sy:192}}},cancelAttackAnimantionAllowed:!1,projectile:{id:j.LIGHTNING_MAGE,width:40,height:5},bluePrint:{id:Y.LIGHTNING_MAGE}});let he=Te;class Gi{constructor({id:t,targetEnemy:i,remove:a,damage:n,towerSourceId:r}){e(this,"id");e(this,"x");e(this,"y");e(this,"remove");e(this,"radius",70);e(this,"damage");e(this,"towerSourceId");e(this,"image");e(this,"sWidth",192);e(this,"sHeight",128);e(this,"imageScale",1);e(this,"imageTranslateCorrection",{x:-(this.sWidth*this.imageScale)/2,y:-((this.sHeight+40)*this.imageScale)/2});e(this,"frameIteration",0);e(this,"frames",10);e(this,"sX",null);e(this,"duration",800);e(this,"frameIterationThrottleTime",this.duration/this.frames);e(this,"lastFrameIteration",null);e(this,"setFrameIteration",()=>{this.frameIteration++});e(this,"setSxFrame",()=>{this.sX=this.frameIteration*this.sWidth});e(this,"draw",()=>{if(this.sX===null)throw new Error("sX or sY is null");if(this.frameIteration===this.frames)throw new Error("frameIteration is equal to frames");h.ctxGame.drawImage(this.image,this.sX,0,this.sWidth,this.sHeight,this.x+this.imageTranslateCorrection.x,this.y+this.imageTranslateCorrection.y,this.sWidth*this.imageScale,this.sHeight*this.imageScale)});e(this,"updateFrames",()=>{if(this.lastFrameIteration===null)this.setSxFrame(),this.lastFrameIteration=performance.now();else if(E(this.lastFrameIteration,this.frameIterationThrottleTime)){if(this.setFrameIteration(),this.frameIteration===this.frames)return this.remove(this.id),!1;this.setSxFrame(),this.lastFrameIteration=performance.now()}return!0});e(this,"update",()=>{this.updateFrames()!==!1&&this.draw()});this.id=t,this.x=i.x,this.y=i.y,this.remove=a,this.damage=n,this.towerSourceId=r,this.image=H.imageController.getImage(ce.FIRE_EXPLOSION),new Pt(g.generate(),this.x,this.y,this.radius,this.damage,this.towerSourceId)}}class ki extends Bt{constructor({id:i,x:a,y:n,damage:r,speed:o,imgConfig:l,targetEnemy:c,removeProjectile:m,towerSourceId:u,explosion:w}){super(i,a,n,r,o,l,c,m,u);e(this,"explosion");e(this,"collide",()=>{this.removeProjectile(this.id),this.explosion.add(new Gi({id:g.generate(),targetEnemy:this.targetEnemy,remove:this.explosion.remove,damage:this.damage,towerSourceId:this.towerSourceId}))});e(this,"update",()=>{this.move(),this.draw()});this.explosion=w}}const Ee=class Ee extends Ue{constructor(i,a,n){super(i,a,n,Ee.config);e(this,"id");e(this,"projectileSpeed",15);e(this,"fireExplosions",[]);e(this,"getProjectile",()=>{if(this.currentTarget===null)throw new Error("No current target");return new ki({id:g.generate(),x:this.tileMiddle.x+this.getProjectileStartPositionX(),y:this.tileMiddle.y,damage:this.getCurrentDamage(),speed:this.projectileSpeed,imgConfig:{img:this.projectileImg,width:this.projectileWidth,height:this.projectileHeight},targetEnemy:this.currentTarget,removeProjectile:this.removeProjectile,towerSourceId:this.id,explosion:{add:this.addFireExplosion,remove:this.removeFireExplosion}})});e(this,"getProjectileStartPositionX",()=>this.animationDirection===f.RIGHT?40:-40);e(this,"addFireExplosion",i=>{this.fireExplosions.push(i)});e(this,"removeFireExplosion",i=>{this.fireExplosions=this.fireExplosions.filter(a=>a.id!==i)});e(this,"updateFireExplosions",()=>{this.fireExplosions.forEach(i=>{i.update()})});e(this,"update",()=>{super.update({shootAtFrame:6,getProjectile:this.getProjectile}),this.updateFireExplosions()});this.id=i}};e(Ee,"config",{id:P.DEMON_MAGE,name:"Demon Mage",description:"Shoots a magic missile that explodes on impact, dealing damage in an area.",range:200,attackSpeed:40,damage:45,sWidth:160,sHeight:128,imageScale:.9,imageTranslateCorrection:{x:-50,y:-50},frameConfig:{idle:{frames:8,animationIterationCircleTime:800,flipOffsetFrames:4,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:1760,sy:256}},attack:{frames:12,animationIterationCircleTime:1e3,flipOffsetFrames:0,animationStartRight:{sx:0,sy:128},animationStartLeft:{sx:1760,sy:384}}},cancelAttackAnimantionAllowed:!0,projectile:{id:j.DEMON_MAGE,width:74,height:13},bluePrint:{id:Y.DEMON_MAGE}});let le=Ee;class Li{constructor({image:t,frames:i,animationIterationCircleTime:a,sWidth:n,sHeight:r,imageScale:o,imageTranslateCorrection:l,target:c}){e(this,"image");e(this,"frames");e(this,"animationIterationCircleTime");e(this,"sWidth");e(this,"sHeight");e(this,"imageScale");e(this,"imageTranslateCorrection");e(this,"target");e(this,"frameIteration",0);e(this,"sX",null);e(this,"frameIterationThrottleTime");e(this,"lastFrameIteration",null);e(this,"setFrameIteration",()=>{this.frameIteration<this.frames-1?this.frameIteration++:this.frameIteration=0});e(this,"setSxFrame",()=>{this.sX=this.frameIteration*this.sWidth});e(this,"draw",()=>{if(this.sX===null)throw new Error("sX is null");h.ctxGame.drawImage(this.image,this.sX,0,this.sWidth,this.sHeight,this.target.x+this.imageTranslateCorrection.x,this.target.y+this.imageTranslateCorrection.y,this.sWidth*this.imageScale,this.sHeight*this.imageScale)});e(this,"updateFrames",()=>{this.lastFrameIteration===null?(this.setSxFrame(),this.lastFrameIteration=performance.now()):E(this.lastFrameIteration,this.frameIterationThrottleTime)&&(this.setFrameIteration(),this.setSxFrame(),this.lastFrameIteration=performance.now())});e(this,"update",()=>{this.updateFrames(),this.draw()});this.image=t,this.frames=i,this.animationIterationCircleTime=a,this.sWidth=n,this.sHeight=r,this.imageScale=o,this.imageTranslateCorrection=l,this.frameIterationThrottleTime=this.animationIterationCircleTime/this.frames,this.target=c}}class Oi{constructor({id:t,target:i}){e(this,"id");e(this,"target");e(this,"imageFrameLoop");e(this,"update",()=>{this.imageFrameLoop.update()});this.id=t,this.target=i,this.imageFrameLoop=new Li({image:H.imageController.getImage(ce.ELECTRIFIED),frames:5,animationIterationCircleTime:500,sWidth:144,sHeight:144,imageScale:.4,imageTranslateCorrection:{x:4,y:5},target:this.target})}}class Xi{constructor({image:t,frames:i,animationIterationCircleTime:a,sWidth:n,sHeight:r,imageScale:o,imageTranslateCorrection:l,target:c}){e(this,"image");e(this,"frames");e(this,"animationIterationCircleTime");e(this,"sWidth");e(this,"sHeight");e(this,"imageScale");e(this,"imageTranslateCorrection");e(this,"target");e(this,"frameIteration",0);e(this,"sX",null);e(this,"frameIterationThrottleTime");e(this,"lastFrameIteration",null);e(this,"setFrameIteration",()=>{this.frameIteration++});e(this,"setSxFrame",()=>{this.sX=this.frameIteration*this.sWidth});e(this,"draw",()=>{if(this.sX===null)throw new Error("sX is null");h.ctxGame.drawImage(this.image,this.sX,0,this.sWidth,this.sHeight,this.target.x+this.imageTranslateCorrection.x,this.target.y+this.imageTranslateCorrection.y,this.sWidth*this.imageScale,this.sHeight*this.imageScale)});e(this,"updateFrames",()=>{if(this.lastFrameIteration===null)this.setSxFrame(),this.lastFrameIteration=performance.now();else if(E(this.lastFrameIteration,this.frameIterationThrottleTime)){if(this.setFrameIteration(),this.frameIteration===this.frames)return!1;this.setSxFrame(),this.lastFrameIteration=performance.now()}return!0});e(this,"update",()=>{this.updateFrames()!==!1&&this.draw()});this.image=t,this.frames=i,this.animationIterationCircleTime=a,this.sWidth=n,this.sHeight=r,this.imageScale=o,this.imageTranslateCorrection=l,this.frameIterationThrottleTime=this.animationIterationCircleTime/this.frames,this.target=c}}class Ni{constructor({id:t,target:i}){e(this,"id");e(this,"target");e(this,"imageFrameLoop");e(this,"update",()=>{this.imageFrameLoop.update()});this.id=t,this.target=i,this.imageFrameLoop=new Xi({image:H.imageController.getImage(ce.ELECTRIFY),frames:8,animationIterationCircleTime:800,sWidth:230,sHeight:230,imageScale:.25,imageTranslateCorrection:{x:3,y:3},target:this.target})}}class Ri{constructor({id:t,target:i,source:a}){e(this,"id");e(this,"target");e(this,"duration",1e4);e(this,"start");e(this,"damageMultiplier",1.2);e(this,"buffAnmiation");e(this,"electrifiedAnmiation",null);e(this,"add",()=>{this.target instanceof M||(this.target.addBuffId(ve.OBELISK_BUFF),this.target.addDamageBuffMultiplier(this.damageMultiplier),this.electrifiedAnmiation=new Oi({id:g.generate(),target:this.target}),this.target.drawImgBackground=this.electrifiedAnmiation.update)});e(this,"remove",()=>{this.target instanceof M||(this.target.removeBuffId(ve.OBELISK_BUFF),this.target.removeDamageBuffMultiplier(this.damageMultiplier),this.target.drawImgBackground=null)});e(this,"update",()=>{this.buffAnmiation.update()});this.id=t,this.target=i,this.start=performance.now(),this.buffAnmiation=new Ni({id:g.generate(),target:a}),this.add()}}const Wi=s=>{if(s.length===0)return;const t=Math.floor(Math.random()*s.length);return s[t]},Di=s=>s.filter(i=>i instanceof M?!1:!i.buffs.has(ve.OBELISK_BUFF)),ji=({towers:s,center:t,range:i})=>s.filter(n=>nt(t,n.tileMiddle)<i),y=class y{constructor({id:t,x:i,y:a}){e(this,"id");e(this,"x");e(this,"y");e(this,"tileMiddle");e(this,"range",y.config.range);e(this,"buffSpeed",y.config.attackSpeed);e(this,"buffSpeedThrottleTime",60/this.buffSpeed*1e3);e(this,"lastBuff",null);e(this,"maxBuffs",3);e(this,"image",H.imageController.getImage(y.config.id));e(this,"imageScale",y.config.imageScale);e(this,"sWidth",y.config.sWidth);e(this,"sHeight",y.config.sHeight);e(this,"dWidth",this.sWidth*this.imageScale);e(this,"dHeight",this.sHeight*this.imageScale);e(this,"imageTranslateX",W({imageScale:this.imageScale,sourceSize:this.sWidth,translateCorrection:y.config.imageTranslateCorrection.x}));e(this,"imageTranslateY",W({imageScale:this.imageScale,sourceSize:this.sHeight,translateCorrection:y.config.imageTranslateCorrection.y}));e(this,"frameIteration",0);e(this,"frames",y.config.frameConfig.idle.frames);e(this,"animationIterationCircleTime",y.config.frameConfig.idle.animationIterationCircleTime);e(this,"frameIterationThrottleTime",this.animationIterationCircleTime/this.frames);e(this,"sX",0);e(this,"sY",0);e(this,"lastFrameIteration",null);e(this,"showRange",!1);e(this,"newAnimationCycle",!0);e(this,"currentBuffs",[]);e(this,"setFrameIteration",()=>{this.frameIteration<this.frames-1?this.frameIteration++:(this.frameIteration=0,this.newAnimationCycle=!0)});e(this,"setSxFrame",()=>{this.sX=this.frameIteration*this.sWidth});e(this,"updateFrames",()=>{this.newAnimationCycle===!0?(this.setSxFrame(),this.lastFrameIteration=performance.now(),this.newAnimationCycle=!1):E(this.lastFrameIteration,this.frameIterationThrottleTime)&&(this.setFrameIteration(),this.setSxFrame(),this.lastFrameIteration=performance.now())});e(this,"drawImg",()=>{h.ctxGame.drawImage(this.image,this.sX,this.sY,this.sWidth,this.sHeight,this.x+this.imageTranslateX,this.y+this.imageTranslateY,this.dWidth,this.dHeight)});e(this,"drawRange",()=>{h.ctxGame.beginPath(),h.ctxGame.arc(this.tileMiddle.x,this.tileMiddle.y,this.range,0,Math.PI*2),h.ctxGame.fillStyle="rgba(225,225,225,0.1)",h.ctxGame.fill()});e(this,"setShowRange",t=>{this.showRange=t});e(this,"addBuff",t=>{this.currentBuffs.push(new Ri({id:g.generate(),target:t,source:this})),this.lastBuff=performance.now()});e(this,"removeBuff",t=>{const i=this.currentBuffs.find(a=>a.target.id===t.id);if(!i)throw new Error("No buff found");i.remove(),this.currentBuffs=this.currentBuffs.filter(a=>a.target.id!==i.target.id)});e(this,"updateBuffs",()=>{const t=performance.now();this.currentBuffs.forEach(i=>{t-i.start>=i.duration&&this.removeBuff(i.target),i.update()})});e(this,"findRandomUnbuffedTowerInRange",()=>{const t=ji({towers:d.towers.getAllTowers(),center:this.tileMiddle,range:this.range});return Wi(Di(t))});this.id=t,this.x=i,this.y=a,this.tileMiddle=We({x:i,y:a})}update(){if(this.updateFrames(),this.drawImg(),this.currentBuffs.length<this.maxBuffs&&E(this.lastBuff,this.buffSpeedThrottleTime)){const t=this.findRandomUnbuffedTowerInRange();t&&this.addBuff(t)}this.showRange&&this.drawRange(),this.updateBuffs()}};e(y,"config",{id:P.OBELISK,name:"Obelisk",description:"Amplifies the damage of up to three towers by 20% for 10 seconds.",range:130,attackSpeed:20,damage:20,sWidth:200,sHeight:400,imageScale:.17,imageTranslateCorrection:{x:-70,y:-170},frameConfig:{idle:{frames:13,animationIterationCircleTime:800,flipOffsetFrames:8,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:960,sy:128}},attack:{frames:16,animationIterationCircleTime:1e3,flipOffsetFrames:0,animationStartRight:{sx:0,sy:64},animationStartLeft:{sx:960,sy:192}}},cancelAttackAnimantionAllowed:!1,projectile:{id:j.LIGHTNING_MAGE,width:40,height:5},bluePrint:{id:Y.OBELISK}});let M=y;const Se=class Se{constructor(){e(this,"selectedTower",null);e(this,"getSelectedTower",()=>this.selectedTower);e(this,"setSelectedTower",t=>{this.selectedTower=t});e(this,"selectTower",t=>{this.setSelectedTower(t),h.body.removeAllClassesFromBody(),t!==null&&h.body.addTowerMouseCursor(t)});Se.towers.forEach(t=>{new zt(t,this.selectTower)})}};e(Se,"towers",[{id:oe.config.id,config:oe.config,price:40},{id:M.config.id,config:M.config,price:100},{id:he.config.id,config:he.config,price:120},{id:re.config.id,config:re.config,price:150},{id:le.config.id,config:le.config,price:300}]);let ot=Se;class Yi{constructor(){e(this,"startHealth",100);e(this,"currentHealth",this.startHealth);e(this,"menuItem");e(this,"getCurrentHealth",()=>this.currentHealth);e(this,"reduceHealth",(t=5)=>{this.currentHealth-=t,this.update()});e(this,"update",()=>{this.menuItem.update(this.currentHealth.toString())});this.menuItem=new Ct("health",this.currentHealth.toString())}}class Qi{constructor({name:t,health:i,bountyGold:a,speed:n,maxSlowPercentage:r,special:o}){e(this,"container");e(this,"getContainer",()=>this.container);e(this,"createInfo",t=>{const i=document.createElement("p");i.innerText=t,this.container.appendChild(i)});e(this,"createStats",(t,i)=>{const a=document.createElement("p");a.classList.add("enemy-stats-text");const n=document.createElement("span");n.classList.add("enemy-stats-key"),n.innerText=t,a.appendChild(n);const r=document.createElement("span");r.innerText=i,a.appendChild(r),this.container.appendChild(a)});this.container=document.createElement("div"),this.container.id="spawn-enemies-container";const l=document.createElement("h2");l.id="spawn-enemies-headline",l.innerText="Next Wave",this.container.appendChild(l),this.createInfo(t),o&&this.createInfo(`Special: ${o.description}`),this.createStats("Health:",i.toString()),this.createStats("Bounty Gold:",a.toString()),this.createStats("Speed:",n.toString()),this.createStats("Max slow:",`${r.toString()}%`)}}class Ui{constructor(t){e(this,"countdownElement");e(this,"countdownTime");e(this,"getContainer",()=>this.countdownElement);e(this,"getCountdownTime",()=>this.countdownTime);e(this,"startCountdown",()=>{const t=setInterval(()=>{this.countdownTime--,this.countdownElement.innerText=this.countdownTime.toString(),this.countdownTime===0&&clearInterval(t)},1e3)});this.countdownTime=t,this.countdownElement=document.createElement("p"),this.countdownElement.id="countdown",this.countdownElement.innerText=this.countdownTime.toString(),this.startCountdown()}}class Ji{constructor({children:t}){e(this,"container");e(this,"scaleInTransformOut",[{transform:"translateX(0)"},{transform:"translateX(-100%)"}]);e(this,"scaleInTimingOut",300);e(this,"scaleInTransformIn",[{transform:"translateX(-100%)"},{transform:"translateX(0)"}]);e(this,"scaleInTimingIn",300);e(this,"close",()=>{this.container.animate(this.scaleInTransformOut,this.scaleInTimingOut),setTimeout(()=>{this.container.remove()},this.scaleInTimingOut)});this.container=document.createElement("div"),this.container.id="toast",this.container.classList.add("box-shadow"),this.container.appendChild(t),de.appendChild(this.container),this.container.animate(this.scaleInTransformIn,this.scaleInTimingIn)}}class Ki{constructor(t){e(this,"game");e(this,"waveIsScheduled",!1);e(this,"modalLifeTime",1e4);e(this,"spawnEnemies",()=>{const{currentEnemies:t,config:i}=this.game.waves.createEnemyWave(),a=()=>{this.game.enemies.setCurrentEnemies(t),this.waveIsScheduled=!1,this.game.gold.resetDynamicGoldIncreasePerRound()},n=new Qi(i).getContainer(),r=new Ui(this.modalLifeTime/1e3);n.appendChild(r.getContainer());const o=()=>{const l=new Ji({children:r.getContainer()}),c=setInterval(()=>{r.getCountdownTime()===0&&(l.close(),a(),clearInterval(c))},100)};new Tt({children:n,onTimeout:a,onClose:o,lifeTime:this.modalLifeTime})});e(this,"update",()=>{if(!this.waveIsScheduled&&this.game.enemies.allEnemiesRemoved){if(this.game.waves.wasLastWave){this.game.stopGame(),new Et(De.WON);return}this.game.waves.waveIndex>0&&this.game.gold.increaseGoldAfterRound(),setTimeout(()=>{this.spawnEnemies()},300),this.waveIsScheduled=!0}});this.game=t}}const Vi=(s,t,i)=>{switch(s){case P.ARCANE_ARCHER:return new oe(g.generate(),t,i);case P.FIRE_MAGE:return new re(g.generate(),t,i);case P.Lightning_MAGE:return new he(g.generate(),t,i);case P.DEMON_MAGE:return new le(g.generate(),t,i);case P.OBELISK:return new M({id:g.generate(),x:t,y:i});default:throw new Error("Tower not found")}};class zi{constructor(){e(this,"towers",[]);e(this,"updateTowers",()=>{this.towers.forEach(t=>t.update())});e(this,"resetTowerTarget",t=>{this.towers.forEach(i=>{var a;i instanceof M||((a=i.currentTarget)==null?void 0:a.id)===t&&i.removeTarget()})});e(this,"createTower",(t,i,a)=>{this.towers.push(Vi(a.id,t,i))});e(this,"getTowerForTile",(t,i)=>this.towers.find(a=>a.x===t&&a.y===i));e(this,"getTowerById",t=>this.towers.find(i=>i.id===t));e(this,"getAllTowers",()=>this.towers);e(this,"hideTowerRange",()=>{this.towers.forEach(t=>t.setShowRange(!1))});e(this,"update",()=>{this.updateTowers()})}}const Zi=s=>Math.floor(Math.random()*s);class S{constructor(t,i,a,n){e(this,"id");e(this,"x");e(this,"y");e(this,"image");e(this,"frameConfig");e(this,"sWidth");e(this,"sHeight");e(this,"imageTranslateX");e(this,"imageTranslateY");e(this,"dWidth");e(this,"dHeight");e(this,"health");e(this,"currentHealth");e(this,"speed");e(this,"maxSlowPercentage");e(this,"bountyGold");e(this,"state",at.MOVE);e(this,"animationDirection",f.RIGHT);e(this,"frameIteration",null);e(this,"frames",null);e(this,"flipOffsetFrames",null);e(this,"sX",null);e(this,"sY",null);e(this,"frameIterationThrottleTime",null);e(this,"lastFrameIteration",null);e(this,"nodeTarget");e(this,"pathNodes");e(this,"angle");e(this,"nodesIndex",0);e(this,"slows",[]);e(this,"getImgConfigForState",()=>{switch(this.state){case at.MOVE:return this.frameConfig.move;default:return this.frameConfig.move}});e(this,"setImageConfig",()=>{const{animationStartRight:t,animationStartLeft:i,frames:a,animationIterationCircleTime:n,flipOffsetFrames:r}=this.getImgConfigForState();this.sY=this.animationDirection===f.RIGHT?t.sy:i.sy,this.frames=a,this.flipOffsetFrames=r,this.frameIterationThrottleTime=n/this.frames,this.frameIteration=Zi(this.frames)});e(this,"setFrameIteration",()=>{if(this.frames===null||this.frameIteration===null)throw new Error("frames or frameIteration is null");this.frameIteration<this.frames-1?this.frameIteration++:this.frameIteration=0});e(this,"setSxFrame",()=>{if(this.frames===null||this.flipOffsetFrames===null||this.frameIteration===null)throw new Error("frames or flipOffsetFrames or frameIteration is null");this.animationDirection===f.RIGHT?this.sX=this.frameIteration*this.sWidth:this.sX=(this.frames+this.flipOffsetFrames)*this.sWidth-(this.frameIteration+1)*this.sWidth});e(this,"draw",()=>{if(this.sX===null||this.sY===null)throw new Error("sX or sY is null");if(this.frameIteration===this.frames)throw new Error("frameIteration is equal to frames");h.ctxGame.drawImage(this.image,this.sX,this.sY,this.sWidth,this.sHeight,this.x-this.imageTranslateX,this.y-this.imageTranslateY,this.dWidth,this.dHeight);const t=.6,i=3,a=5,n=(this.dWidth-this.dWidth*t)/2;h.ctxGame.fillStyle="#7d0e0e",h.ctxGame.fillRect(this.x-this.imageTranslateX+n,this.y-this.imageTranslateY-a,this.dWidth*t,i),h.ctxGame.fillStyle="#0a5a0a",h.ctxGame.fillRect(this.x-this.imageTranslateX+n,this.y-this.imageTranslateY-a,this.dWidth*(this.currentHealth/this.health)*t,i)});e(this,"addSlow",t=>{this.slows.push(t)});e(this,"updateSlows",()=>{const t=performance.now();this.slows.forEach(i=>{t-i.slowStart>=i.slowDuration&&(this.slows=this.slows.filter(a=>a.id!==i.id))})});e(this,"getCurrentSpeed",()=>{if(this.slows.length===0)return this.speed;const t=this.slows.reduce((a,n)=>a+n.slowPercentage,0),i=t>this.maxSlowPercentage?this.maxSlowPercentage:t;return this.speed*((100-i)/100)});e(this,"move",()=>{const t=this.getCurrentSpeed(),i=Math.abs(this.nodeTarget.x-this.x);this.x+=Je({distance:i-t<0?i:t,angle:this.angle});const a=Math.abs(this.nodeTarget.y-this.y);this.y+=Ke({distance:a-t<0?a:t,angle:this.angle}),ct({x:this.x,y:this.y},{x:this.nodeTarget.x,y:this.nodeTarget.y})&&(this.updateNodeTarget(),this.updateAnimationDirection(),this.setImageConfig(),this.reduceBountyGold())});e(this,"updateNodeTarget",()=>{if(this.nodesIndex++,this.pathNodes.length===this.nodesIndex){d.playerHealth.reduceHealth(),d.enemies.remove(this.id),d.towers.resetTowerTarget(this.id);return}this.nodeTarget=this.pathNodes[this.nodesIndex],this.angle=D(this.x,this.y,this.nodeTarget.x,this.nodeTarget.y)});e(this,"updateAnimationDirection",()=>{if((this.x-this.nodeTarget.x-1)*(this.x-this.nodeTarget.x+1)<=0){this.animationDirection=Math.random()<.5?f.RIGHT:f.LEFT;return}this.x<this.nodeTarget.x&&(this.animationDirection=f.RIGHT),this.x>this.nodeTarget.x&&(this.animationDirection=f.LEFT)});e(this,"updateFrames",()=>{if(this.lastFrameIteration===null)this.setSxFrame(),this.lastFrameIteration=performance.now();else{if(this.frameIterationThrottleTime===null)throw new Error("frameIterationThrottleTime is null");E(this.lastFrameIteration,this.frameIterationThrottleTime)&&(this.setFrameIteration(),this.setSxFrame(),this.lastFrameIteration=performance.now())}});e(this,"reduceBountyGold",()=>{this.bountyGold=Math.round(this.bountyGold*.9)});e(this,"reduceHealth",(t,i)=>{this.currentHealth-=t,this.currentHealth<=0&&d.enemies.getEnemyById(this.id)!==void 0&&(d.gold.increaseGoldAfterKillEnemy(this.bountyGold),d.enemies.remove(this.id),d.towers.resetTowerTarget(this.id))});e(this,"setNodeIndex",t=>{this.nodesIndex=t});e(this,"update",()=>{this.updateFrames(),this.updateSlows(),this.move(),this.draw()});this.id=t,this.x=i,this.y=a,this.image=H.imageController.getEnemyImage(n.id),this.sWidth=n.sWidth,this.sHeight=n.sHeight,this.dWidth=n.imageScale*n.sWidth,this.dHeight=n.imageScale*n.sHeight,this.imageTranslateX=n.sWidth/2-n.imageTranslateCorrection.x,this.imageTranslateY=n.sHeight/2-n.imageTranslateCorrection.y,this.frameConfig=n.frameConfig,this.health=n.health,this.currentHealth=this.health,this.speed=n.speed,this.maxSlowPercentage=n.maxSlowPercentage,this.bountyGold=n.bountyGold,this.setImageConfig(),this.pathNodes=G.getPathNodes(),this.nodeTarget=this.pathNodes[this.nodesIndex],this.angle=D(this.x,this.y,this.nodeTarget.x,this.nodeTarget.y)}}const ye=class ye extends S{constructor(t,i,a){super(t,i,a,ye.config)}};e(ye,"config",{id:"skeletonShield",name:"Shielded Skeleton",health:10,speed:2,maxSlowPercentage:60,sWidth:64,sHeight:64,imageScale:.8,imageTranslateCorrection:{x:5,y:-10},frameConfig:{move:{frames:4,animationIterationCircleTime:500,flipOffsetFrames:0,animationStartRight:{sx:0,sy:64},animationStartLeft:{sx:192,sy:384}}},bountyGold:5});let Q=ye;const He=class He extends S{constructor(t,i,a){super(t,i,a,He.config)}};e(He,"config",{id:"mushroom",name:"Mad Mushroom",health:25,speed:2,maxSlowPercentage:60,sWidth:64,sHeight:64,imageScale:1,imageTranslateCorrection:{x:0,y:-20},frameConfig:{move:{frames:8,animationIterationCircleTime:500,flipOffsetFrames:0,animationStartRight:{sx:0,sy:64},animationStartLeft:{sx:192,sy:320}}},bountyGold:5});let U=He;const Fe=class Fe extends S{constructor(t,i,a){super(t,i,a,Fe.config)}};e(Fe,"config",{id:"goblin",name:"Greedy Goblin",health:35,speed:3,maxSlowPercentage:60,sWidth:64,sHeight:64,imageScale:1.1,imageTranslateCorrection:{x:-5,y:-25},frameConfig:{move:{frames:8,animationIterationCircleTime:500,flipOffsetFrames:0,animationStartRight:{sx:0,sy:64},animationStartLeft:{sx:192,sy:320}}},bountyGold:5});let J=Fe;const Be=class Be extends S{constructor(t,i,a){super(t,i,a,Be.config)}};e(Be,"config",{id:"fireWorm",name:"Fire Worm",health:50,speed:2,maxSlowPercentage:60,sWidth:64,sHeight:64,imageScale:1,imageTranslateCorrection:{x:0,y:-10},frameConfig:{move:{frames:9,animationIterationCircleTime:500,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:512,sy:192}}},bountyGold:5});let K=Be;const Mt=s=>Math.random()<=s/100,Pe=class Pe extends S{constructor(t,i,a){super(t,i,a,Pe.config)}};e(Pe,"config",{id:"skeletonGuard",name:"Skeleton Guard",health:120,speed:2,maxSlowPercentage:50,sWidth:22,sHeight:33,imageScale:1.6,imageTranslateCorrection:{x:-5,y:-30},frameConfig:{move:{frames:13,animationIterationCircleTime:500,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:264,sy:33}}},bountyGold:5});let ht=Pe;class ft{constructor({id:t,x:i,y:a,index:n,removeSpawn:r}){e(this,"id");e(this,"x");e(this,"y");e(this,"index");e(this,"removeSpawn");e(this,"image",H.imageController.getEnemyImage("skeletonGuardSpawn"));e(this,"sWidth",33);e(this,"sHeight",32);e(this,"imageScale",1.6);e(this,"dWidth",this.imageScale*this.sWidth);e(this,"dHeight",this.imageScale*this.sHeight);e(this,"imageTranslateCorrection",{x:-30,y:-45});e(this,"frames",10);e(this,"frameIteration",0);e(this,"animationIterationCircleTime",1e3);e(this,"sX",null);e(this,"sY",0);e(this,"frameIterationThrottleTime",this.animationIterationCircleTime/this.frames);e(this,"lastFrameIteration",null);e(this,"setFrameIteration",()=>{this.frameIteration++});e(this,"setSxFrame",()=>{this.sX=this.frameIteration*this.sWidth});e(this,"updateFrames",()=>{if(this.lastFrameIteration===null)this.setSxFrame(),this.lastFrameIteration=performance.now();else if(E(this.lastFrameIteration,this.frameIterationThrottleTime)){if(this.setFrameIteration(),this.frameIteration===this.frames){const t=new ht(g.generate(),this.x,this.y);return t.setNodeIndex(this.index-1),t.updateNodeTarget(),t.updateAnimationDirection(),t.setImageConfig(),d.enemies.currentEnemiesPush(t),this.removeSpawn(this.id),!1}this.setSxFrame(),this.lastFrameIteration=performance.now()}return!0});e(this,"draw",()=>{if(this.sX===null)throw new Error("sX  is null");if(this.frameIteration===this.frames)throw new Error("frameIteration is equal to frames");h.ctxGame.drawImage(this.image,this.sX,this.sY,this.sWidth,this.sHeight,this.x+this.imageTranslateCorrection.x,this.y+this.imageTranslateCorrection.y,this.dWidth,this.dHeight)});e(this,"update",()=>{this.updateFrames()!==!1&&this.draw()});this.id=t,this.x=i,this.y=a,this.index=n,this.removeSpawn=r}}const N=class N extends S{constructor(i,a,n){super(i,a,n,N.config);e(this,"spawnMinionDistance",80);e(this,"spawnInFront",!0);e(this,"lastPosition",{x:this.x,y:this.y,nodeTarget:this.nodeTarget,nodeIndex:this.nodesIndex});e(this,"spawnedMinions",[]);e(this,"reduceHealth",(i,a)=>{this.handleSpawnMinion(),this.currentHealth-=i,this.currentHealth<=0&&(d.enemies.remove(this.id),d.gold.increaseGoldAfterKillEnemy(this.bountyGold),d.towers.resetTowerTarget(this.id))});e(this,"handleSpawnMinion",()=>{var i;if(((i=N.config.special)==null?void 0:i.value)===void 0)throw new Error("Demon.config.special.value is undefined");if(Mt(N.config.special.value)){if(this.nodesIndex===0){this.spawnMinionInFront();return}if(this.nodesIndex===this.pathNodes.length-1){this.spawnMinionBehind();return}this.spawnInFront?this.spawnMinionInFront():this.spawnMinionBehind(),this.spawnInFront=!this.spawnInFront}});e(this,"spawnMinionBehind",()=>{const i=new ft({id:g.generate(),x:this.lastPosition.x,y:this.lastPosition.y,index:this.lastPosition.nodeIndex,removeSpawn:this.removeSpawnedMinion});this.spawnedMinionsPush(i)});e(this,"spawnMinionInFront",()=>{const i=Math.abs(this.nodeTarget.x-this.x),a=Math.abs(this.nodeTarget.y-this.y),n=this.x+Je({distance:i-this.spawnMinionDistance<0?i:this.spawnMinionDistance,angle:this.angle}),r=this.y+Ke({distance:a-this.spawnMinionDistance<0?a:this.spawnMinionDistance,angle:this.angle}),o=new ft({id:g.generate(),x:n,y:r,index:this.nodesIndex,removeSpawn:this.removeSpawnedMinion});this.spawnedMinionsPush(o)});e(this,"calculateLastPosition",()=>{(Math.abs(this.x-this.lastPosition.x)>this.spawnMinionDistance||Math.abs(this.y-this.lastPosition.y)>this.spawnMinionDistance)&&(this.lastPosition={x:this.x,y:this.y,nodeTarget:this.nodeTarget,nodeIndex:this.nodesIndex})});e(this,"spawnedMinionsPush",i=>{this.spawnedMinions.push(i)});e(this,"updateSpawnedMinions",()=>{this.spawnedMinions.forEach(i=>{i.update()})});e(this,"removeSpawnedMinion",i=>{this.spawnedMinions=this.spawnedMinions.filter(a=>a.id!==i)});e(this,"update",()=>{this.updateFrames(),this.updateSlows(),this.move(),this.calculateLastPosition(),this.draw(),this.updateSpawnedMinions()})}};e(N,"config",{id:"demon",name:"Demon",health:2500,speed:1.5,maxSlowPercentage:60,special:{description:"Chance to spawn minions",value:40},sWidth:110,sHeight:110,imageScale:.8,imageTranslateCorrection:{x:15,y:-25},frameConfig:{move:{frames:12,animationIterationCircleTime:1e3,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:1210,sy:110}}},bountyGold:300});let V=N;const Me=class Me extends S{constructor(t,i,a){super(t,i,a,Me.config)}};e(Me,"config",{id:"chainedGolem",name:"Chained Golem",health:180,speed:1.3,maxSlowPercentage:60,sWidth:64,sHeight:64,imageScale:1.1,imageTranslateCorrection:{x:-2,y:-12},frameConfig:{move:{frames:7,animationIterationCircleTime:800,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:384,sy:64}}},bountyGold:10});let z=Me;const be=class be extends S{constructor(t,i,a){super(t,i,a,be.config)}};e(be,"config",{id:"terrorWolf",name:"Terror Wolf",health:170,speed:2.5,maxSlowPercentage:60,sWidth:64,sHeight:64,imageScale:1,imageTranslateCorrection:{x:0,y:-5},frameConfig:{move:{frames:8,animationIterationCircleTime:500,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:448,sy:64}}},bountyGold:10});let Z=be;const Ge=class Ge extends S{constructor(t,i,a){super(t,i,a,Ge.config)}};e(Ge,"config",{id:"bloodyBat",name:"Bloody Bat",health:200,speed:2,maxSlowPercentage:60,sWidth:64,sHeight:64,imageScale:1.2,imageTranslateCorrection:{x:-5,y:-10},frameConfig:{move:{frames:8,animationIterationCircleTime:500,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:448,sy:64}}},bountyGold:10});let q=Ge;const ke=class ke extends S{constructor(t,i,a){super(t,i,a,ke.config)}};e(ke,"config",{id:"evilWitch",name:"Evil Witch",health:240,speed:2,maxSlowPercentage:60,sWidth:64,sHeight:64,imageScale:1.3,imageTranslateCorrection:{x:-8,y:-20},frameConfig:{move:{frames:8,animationIterationCircleTime:500,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:448,sy:64}}},bountyGold:15});let $=ke;const Le=class Le extends S{constructor(t,i,a){super(t,i,a,Le.config)}};e(Le,"config",{id:"skeletonArcher",name:"Skeleton Archer",health:100,speed:2,maxSlowPercentage:60,sWidth:64,sHeight:64,imageScale:1,imageTranslateCorrection:{x:0,y:-10},frameConfig:{move:{frames:8,animationIterationCircleTime:500,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:448,sy:64}}},bountyGold:10});let _=Le;class qi{constructor({id:t,target:i}){e(this,"id");e(this,"target");e(this,"duration",2500);e(this,"freezeStart");e(this,"image");e(this,"sWidth",32);e(this,"sHeight",32);e(this,"imageScale",1.5);e(this,"imageTranslateCorrection",{x:(64-this.sWidth*this.imageScale)/2,y:0});e(this,"frameIteration",0);e(this,"frames",15);e(this,"sX",null);e(this,"frameIterationThrottleTime",this.duration/this.frames);e(this,"lastFrameIteration",null);e(this,"setFrameIteration",()=>{this.frameIteration++});e(this,"setSxFrame",()=>{this.sX=this.frameIteration*this.sWidth});e(this,"draw",()=>{if(this.sX===null)throw new Error("sX or sY is null");if(this.frameIteration===this.frames)throw new Error("frameIteration is equal to frames");h.ctxGame.drawImage(this.image,this.sX,0,this.sWidth,this.sHeight,this.target.x+this.imageTranslateCorrection.x,this.target.y,this.sWidth*this.imageScale,this.sHeight*this.imageScale)});e(this,"updateFrames",()=>{if(this.lastFrameIteration===null)this.setSxFrame(),this.lastFrameIteration=performance.now();else if(E(this.lastFrameIteration,this.frameIterationThrottleTime)){if(this.setFrameIteration(),this.frameIteration===this.frames)return!1;this.setSxFrame(),this.lastFrameIteration=performance.now()}return!0});e(this,"update",()=>{this.updateFrames()!==!1&&this.draw()});this.id=t,this.target=i,this.freezeStart=performance.now(),this.image=H.imageController.getImage(ce.FREEZE_TOWER),setTimeout(()=>{this.target instanceof M||this.target.resetAfterStun()},this.duration)}}class $i{constructor({id:t,x:i,y:a,target:n,speed:r,removeProjectile:o}){e(this,"id");e(this,"x");e(this,"y");e(this,"target");e(this,"targetMiddleX");e(this,"targetMiddleY");e(this,"speed");e(this,"removeProjectile");e(this,"angle");e(this,"image");e(this,"sWidth");e(this,"sHeight");e(this,"frameIteration",0);e(this,"frames",10);e(this,"animationIterationCircleTime",800);e(this,"sX",null);e(this,"sY",0);e(this,"frameIterationThrottleTime",this.animationIterationCircleTime/this.frames);e(this,"lastFrameIteration",null);e(this,"setFrameIteration",()=>{this.frameIteration<this.frames-1?this.frameIteration++:this.frameIteration=0});e(this,"setSxFrame",()=>{this.sX=this.frameIteration*this.sWidth});e(this,"updateFrames",()=>{this.lastFrameIteration===null?(this.setSxFrame(),this.lastFrameIteration=performance.now()):E(this.lastFrameIteration,this.frameIterationThrottleTime)&&(this.setFrameIteration(),this.setSxFrame(),this.lastFrameIteration=performance.now())});e(this,"draw",()=>{if(this.sX===null)throw new Error("sX is null");h.ctxGame.save(),h.ctxGame.translate(this.x,this.y),h.ctxGame.rotate(this.angle*(Math.PI/180)),h.ctxGame.drawImage(this.image,this.sX,this.sY,this.sWidth,this.sHeight,0-20,0-this.sHeight/2,this.sWidth,this.sHeight),h.ctxGame.restore()});e(this,"move",()=>{const t=Math.abs(this.targetMiddleX-this.x);this.x+=Je({distance:t-this.speed<0?t:this.speed,angle:this.angle});const i=Math.abs(this.targetMiddleY-this.y);this.y+=Ke({distance:i-this.speed<0?i:this.speed,angle:this.angle}),ct({x:this.x,y:this.y},{x:this.targetMiddleX,y:this.targetMiddleY})&&this.collide()});e(this,"collide",()=>{this.removeProjectile(this.id),!(this.target instanceof M)&&this.target.addStun(new qi({id:g.generate(),target:this.target}))});e(this,"update",()=>{this.move(),this.updateFrames(),this.draw()});this.id=t,this.x=i,this.y=a,this.target=n,this.speed=r,this.removeProjectile=o;const{x:l,y:c}=We({x:this.target.x,y:this.target.y});this.targetMiddleX=l,this.targetMiddleY=c,this.angle=D(this.x,this.y,this.targetMiddleX,this.targetMiddleY),this.image=H.imageController.getImage(xt.ICICLE),this.sWidth=48,this.sHeight=32}}const R=class R extends S{constructor(i,a,n){super(i,a,n,R.config);e(this,"projectiles",[]);e(this,"reduceHealth",(i,a)=>{var n;if(((n=R.config.special)==null?void 0:n.value)===void 0)throw new Error("FrostGuardian.config.special.value is undefined");Mt(R.config.special.value)&&this.shootProjectile(a),this.currentHealth-=i,this.currentHealth<=0&&(d.enemies.remove(this.id),d.gold.increaseGoldAfterKillEnemy(this.bountyGold),d.towers.resetTowerTarget(this.id))});e(this,"removeProjectile",i=>{this.projectiles=this.projectiles.filter(a=>a.id!==i)});e(this,"shootProjectile",i=>{const a=d.towers.getTowerById(i);if(!a)throw new Error(`Tower with id ${i} not found`);this.projectiles.push(new $i({id:g.generate(),x:this.x,y:this.y,target:a,speed:5,removeProjectile:this.removeProjectile}))});e(this,"updateProjectiles",()=>{this.projectiles.forEach(i=>i.update())});e(this,"update",()=>{this.updateFrames(),this.updateSlows(),this.move(),this.draw(),this.updateProjectiles()})}};e(R,"config",{id:"frostGuardian",name:"Frost Guardian",health:1500,speed:1.5,maxSlowPercentage:60,special:{description:"Chance to freeze tower",value:40},sWidth:128,sHeight:128,imageScale:.8,imageTranslateCorrection:{x:12,y:-15},frameConfig:{move:{frames:10,animationIterationCircleTime:1e3,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:1152,sy:128}}},bountyGold:300});let ee=R;const Oe=class Oe extends S{constructor(t,i,a){super(t,i,a,Oe.config)}};e(Oe,"config",{id:"skeletonCat",name:"Skeleton Cat",health:260,speed:2,maxSlowPercentage:60,sWidth:64,sHeight:64,imageScale:1.2,imageTranslateCorrection:{x:-7,y:-20},frameConfig:{move:{frames:8,animationIterationCircleTime:600,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:448,sy:64}}},bountyGold:15});let te=Oe;const Xe=class Xe extends S{constructor(t,i,a){super(t,i,a,Xe.config)}};e(Xe,"config",{id:"skeletonWarrior",name:"Skeleton Warrior",health:310,speed:1.5,maxSlowPercentage:60,sWidth:64,sHeight:64,imageScale:1.1,imageTranslateCorrection:{x:-4,y:-15},frameConfig:{move:{frames:11,animationIterationCircleTime:500,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:640,sy:64}}},bountyGold:15});let ie=Xe;const Ne=class Ne extends S{constructor(t,i,a){super(t,i,a,Ne.config)}};e(Ne,"config",{id:"necromancer",name:"Necromancer",health:360,speed:2,maxSlowPercentage:60,sWidth:64,sHeight:64,imageScale:1,imageTranslateCorrection:{x:0,y:-15},frameConfig:{move:{frames:10,animationIterationCircleTime:500,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:576,sy:64}}},bountyGold:15});let se=Ne;const Re=class Re extends S{constructor(t,i,a){super(t,i,a,Re.config)}};e(Re,"config",{id:"deathWorm",name:"Death Worm",health:750,speed:1.2,maxSlowPercentage:0,special:{description:"Immune to slow effects"},sWidth:224,sHeight:128,imageScale:.6,imageTranslateCorrection:{x:45,y:0},frameConfig:{move:{frames:11,animationIterationCircleTime:2e3,flipOffsetFrames:0,animationStartRight:{sx:0,sy:0},animationStartLeft:{sx:1280,sy:128}}},bountyGold:100});let ae=Re;const L=class L{constructor(){e(this,"waveIndex",0);e(this,"wasLastWave",!1);e(this,"createEnemyWave",()=>{if(this.waveIndex>=L.waves.length)throw new Error("No more waves available");const{className:t,unitCount:i,config:a}=L.waves[this.waveIndex],n=[],r=60;for(let o=0;o<i;o++){const{x:l,y:c}=L.startingPosition,m=l-o*r;n.push(new t(g.generate(),m,c))}return this.waveIndex++,this.waveIndex>=L.waves.length&&(this.wasLastWave=!0),{currentEnemies:n,config:a}})}};e(L,"waves",[{id:Q.config.id,className:Q,config:Q.config,unitCount:20},{id:U.config.id,className:U,config:U.config,unitCount:20},{id:J.config.id,className:J,config:J.config,unitCount:20},{id:K.config.id,className:K,config:K.config,unitCount:20},{id:ae.config.id,className:ae,config:ae.config,unitCount:1},{id:_.config.id,className:_,config:_.config,unitCount:20},{id:z.config.id,className:z,config:z.config,unitCount:20},{id:Z.config.id,className:Z,config:Z.config,unitCount:20},{id:q.config.id,className:q,config:q.config,unitCount:20},{id:ee.config.id,className:ee,config:ee.config,unitCount:1},{id:$.config.id,className:$,config:$.config,unitCount:20},{id:te.config.id,className:te,config:te.config,unitCount:20},{id:ie.config.id,className:ie,config:ie.config,unitCount:20},{id:se.config.id,className:se,config:se.config,unitCount:20},{id:V.config.id,className:V,config:V.config,unitCount:1}]),e(L,"startingPosition",{x:-30,y:160});let xe=L;xe.waves.map(s=>s.config.name);class _i{constructor(){e(this,"stop",!1);e(this,"lastAnimationTimestamp",null);e(this,"fps",60);e(this,"intervalInMiliseconds",1e3/this.fps);e(this,"menu");e(this,"towers");e(this,"enemies");e(this,"waves");e(this,"gold");e(this,"playerHealth");e(this,"round");e(this,"resetEventListeners",()=>{G.tileGras.forEach(t=>{t.setTowerBp(null),t.updateBG()}),this.towers.hideTowerRange(),this.menu.setSelectedTower(null),h.body.removeAllClassesFromBody()});e(this,"runGame",t=>{if(this.stop){console.log("end");return}t?E(this.lastAnimationTimestamp,this.intervalInMiliseconds)&&(this.lastAnimationTimestamp=t,this.update()):this.update(),requestAnimationFrame(this.runGame)});e(this,"stopGame",()=>{this.stop=!0});e(this,"update",()=>{if(this.playerHealth.getCurrentHealth()<=0){this.stopGame(),new Et(De.LOST);return}h.ctxGame.clearRect(0,0,h.canvasGame.width,h.canvasGame.height),this.enemies.update(),this.towers.update(),G.update(),this.round.update()});this.menu=new ot,this.towers=new zi,this.enemies=new Qt,this.waves=new xe,this.gold=new Jt,this.playerHealth=new Yi,this.round=new Ki(this),G.createTileGrid(),G.buildTileImg(),this.runGame()}}const A=async s=>{const t=new Image(64,64);return t.src=s,await t.decode(),t},es="/tower-defense/assets/arcaneArcher-93169575.png",ts="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAFCAYAAAA3zK6FAAAAAXNSR0IArs4c6QAAAFpJREFUKJFjYBjkgBFd4FnCr/8MDAwM4nosEAUG3xgYGBgYmJx4MNRSA/zt+/ef0eAbTvNxWgpzKAMDwrEYmqGOJwT+X+DCEHt56Q+cLa7HwoDLkYM+BAc9AADKMh8EGHHFLAAAAABJRU5ErkJggg==",is="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9bpVIqHdpBRCFDdbIIKuKoVShChVArtOpgcukXNGlIUlwcBdeCgx+LVQcXZ10dXAVB8APE1cVJ0UVK/F9SaBHjwXE/3t173L0D/M0qU82eWUDVLCOTSgq5/KoQfEUIUUQwjHGJmfqcKKbhOb7u4ePrXYJneZ/7c/QrBZMBPoF4lumGRbxBPL1p6Zz3iWOsLCnE58RjBl2Q+JHrsstvnEsO+3lmzMhm5oljxEKpi+UuZmVDJZ4ijiuqRvn+nMsK5y3OarXO2vfkLwwXtJVlrtMcQgqLWIIIATLqqKAKCwlaNVJMZGg/6eEfdPwiuWRyVcDIsYAaVEiOH/wPfndrFicn3KRwEuh9se2PESC4C7Qatv19bNutEyDwDFxpHX+tCcx8kt7oaPEjILINXFx3NHkPuNwBBp50yZAcKUDTXywC72f0TXkgeguE1tze2vs4fQCy1FX6Bjg4BEZLlL3u8e6+7t7+PdPu7wfG9HLIP4lGJwAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+cKEw8hF8uZtlMAAASPSURBVHja7VlfSBt3HP/cmaVpJjotMzmn0qUPUYuZTxbj5rooHdvDWCpbOxHxIQz6MFiDo6t2G/vzKDK2gRuETooPZcUGZB0MNIg0Kd3D0BZi7sUOF0x1K2oRp6HJbw/ud7tLY5MzuTRHfp+XwO9+ubvP5/f9fwADAwMDAwNDvpEMbBE9vCdf6gfFa3X6ZN5cugLohbwmAlDfX73zqPQEoKavF/J5FUBOvnbcyJVcykuMJsnKQJyg1KB38oan7fNDbcOk0VSlWOufG+R0FwMO4vfpyAPAlc4RojsBDkI+tBnG5dUgPt24BgCI7KzvKwJ1taIVQE0MoOSXtu9j9xiBUCcoRJALoXV6zSkG8K5yLhnYIhaYJRHUukJwcAKUnPP3V9Br6gYAjJXfVFSWWqXXnC2Ad5VzXOt2Vnuv3piSrGRp+z4AoGOkDy9Pn0bP2ruKvbFoDEcdJ8jKQJyUeXnO4jBo4gY5CZAMbJHUxudJruCfCaL9zbcV1292X8dkzU8AAKFOAADQwPjFc+/gu/DnSIwmSZmX57RwA4NawryrnKOnQOZpzf8oYza4emOK+GeCiEVjgOk4vnqxB5fuTaI3ehGoBhqq7ViOiBL55DqPiGkdoc0wun7owVDbMCnz8nl3AU4tefqbLgCmI0/N3j8TxHJERCwag1An4LW/j6PRVIXLq0HFfmdlMyZiAfQJLoQ2wwjXJxTX16anuKITgFpEb/QiliMi/jn9OgBgd0HEg8UlAMAxIy+Rb2i049a1OfQJLgAAzQh9ggsTsQAAwGa2IlyfQO3ZNxTvsbsgYvHbrzlNBSiWcdZ7P3+J29OzOPxqu7RGBc2XJeTVArLx0ZN2t0Jcmg2qP+uXLOab8x7JZWhG2K6xaOIGhnzcRE1knhX93Em7mzgrm6W1jY9OSeRN4l/43vsjZkU/d9RxggDAH3dua9YbqLpxahaQbiKrA1KtI1MPMNr/rIK8zWzFrOgvWDOU04P2y/mZKjZa5z9t8jkXQrXjRq523MhZ++OwOAxZkR9qG96XvNwtdDEPOEij8sv7dfAviMDC/xF9x/48Ns6e2lv/rbACcPkkn+n0a7rfesxljjTZNElvBc0C2Q5ERuKduHRvUrHmftiC0GYYFpRJKVGXAmTClc4REtlZh81sVZS9jaYq+CoS8Dxs2VusbyfLf97S30gs00AksrPX2FDilPygcQ4A4Ku4C2dlM2xmKxrq24kuLEA+EMkmCNIoLycujwG+irvwoAXOymaEzFZSiJSYlwdk81Gk6YMPCQ10qSVtq2+MyBunQgbDvLgAnQpZHAbJFeQNVatvjBx6yY4jTTbpxOUE5z3nOHq90MhbDEgVYb8vxA8Wl9KebqoI6VJmUQuQOh+kMaHVN0bks4Enmfa85xynWwuQi0DLYgD4WHgBh6//mpE8heOZQzCvreorBjwWWf+zAjoHVBPU6AxA91gZiJMz3guE9vTZQO3+orUA+WlqOcwoWgHOeC+Q89Wf7I3AVQoGAIW0Ak0EcHd1wN3Vofp/csEK7QoMDAwMDAwMDAwMDAwMDAylg38BwpOl42pBq6AAAAAASUVORK5CYII=",ss="/tower-defense/assets/textures-3afee45f.png",as="/tower-defense/assets/fireMage-0977364e.png",ns="/tower-defense/assets/fireMageProjectile-1200d795.png",rs="/tower-defense/assets/fireMageBp-4c064c7f.png",os="/tower-defense/assets/lightningMage-e144c4dc.png",hs="/tower-defense/assets/lightningMageProjectile-8810b3c2.png",ls="/tower-defense/assets/lightningMageBp-138d9d4b.png",cs="/tower-defense/assets/demonMage-b9db26b8.png",As="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEoAAAANCAYAAAAOjfilAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TpaIVQTOIOGSoLtpFpTjWKhShQqgVWnUwH/2CJg1Jiouj4Fpw8GOx6uDirKuDqyAIfoC4ujgpukiJ/0sKLWI8OO7Hu3uPu3cA16gomtUVBzTdNtPJhJDNrQqhV/SBxyBimJAUy5gTxRR8x9c9Amy9i7Is/3N/jn41bylAQCCOK4ZpE28QxzZtg/E+Ma+UJJX4nHjSpAsSPzJd9viNcdFljmXyZiY9T8wTC8UOljtYKZka8QxxRNV0yueyHquMtxhrlZrSuid7YTivrywzneYokljEEkQIkFFDGRXYiNKqk2IhTfsJH/+I6xfJJZOrDIUcC6hCg+T6wf7gd7dWYXrKSwongO4Xx/kYA0K7QLPuON/HjtM8AYLPwJXe9lcbwOwn6fW2FjkCBraBi+u2Ju8BlzvA8JMhmZIrBWlyhQLwfkbflAOGboHeNa+31j5OH4AMdZW6AQ4OgfEiZa/7vLuns7d/z7T6+wEIAXLiNWll+QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+cLFQ4OIpb/VkYAAADGSURBVEjHY2AYBUQBxpHgyf+tlv8xPF59nHHYBtRTZ1MMD0s5sRDWmPGVoJK//OfgbBYWFsZBFVDYPI4PYA0UIgKBUMDgAsgBxjjoPE5sIMzgJjmwiAkcXIHFSG3Pk5Ut8HkaWY6C7EQJYGFhYWSkJDAoShH4ALbAoWPA4AyoAU1NxGYjmBoc8rQKJKICitZlFFmFNBFZ8S//OQbmj0ZUCUSiy6iBrvHIzd7USGE0q/XoEaDSe08zEmpMDrt21FBqmY8CIgEA0IFTDNKxetAAAAAASUVORK5CYII=",ds="data:image/png;base64,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",ms="/tower-defense/assets/obelisk-200d7ce2.png",gs="data:image/png;base64,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",us="/tower-defense/assets/skeletonShield-d1002680.png",fs="/tower-defense/assets/mushroom-14731a48.png",ps="/tower-defense/assets/goblin-5ef62492.png",ws="data:image/png;base64,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",Is="data:image/png;base64,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",vs="/tower-defense/assets/chainedGolem-2ff6cf62.png",xs="data:image/png;base64,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",Cs="data:image/png;base64,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",Ts="/tower-defense/assets/evilWitch-8c3bc86a.png",Es="/tower-defense/assets/fireWorm-a9e32668.png",Ss="/tower-defense/assets/skeletonArcher-698be829.png",ys="/tower-defense/assets/skeletonWarrior-a6477903.png",Hs="/tower-defense/assets/necromancer-9be49f10.png",Fs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAACACAYAAAB9V9ELAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kTtIw1AUhv+mSkUrDi34wCFDdbKLijjWKhShQqgVWnUwuekLmjQkKS6OgmvBwcdi1cHFWVcHV0EQfIC4ujgpukiJ5zaFFjEeuNyP/57/595zAaFeZprVFQM03TZTibiYya6KgVf0wYcQBjEsM8uYk6QkPOvrnnqp7qI8y7vvz+pXcxYDfCJxjBmmTbxBPLNpG5z3icOsKKvE58QTJl2Q+JHristvnAtNFnhm2Eyn5onDxGKhg5UOZkVTI54mjqiaTvlCxmWV8xZnrVxlrXvyFwZz+soy12mNIoFFLEGCCAVVlFCGjSjtOikWUnQe9/CPNP0SuRRylcDIsYAKNMhNP/gf/J6tlZ+adJOCcaD7xXE+xoDALtCoOc73seM0TgD/M3Clt/2VOjD7SXqtrUWOgIFt4OK6rSl7wOUOMPRkyKbclPy0hHweeD+jb8oCoVugd82dW+scpw9AmmaVvAEODoHxAmWve7y7p3Nu//a05vcDYI9yn0h7yR0AAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfnCwETIDZMp3v8AAALSUlEQVR42u3dvW4dNxYAYApQb2CLVFsJ27nIK9iVWz+DOheu0qdInyqFOj1DWqeR4TdI4W6haisXC6Q3cLfwMmAYzlzODEci534fEPhHV9dzzpCHZzh3lBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGCrKymAv/vy+HgKIYTPHz+El6/e/O3r393cmDuABoDLWvzi10II4fXtu0ONoYf7u9PLV2/OLvAP93enEMKf+dEQABqAAy6EUwtgzUIxYry1MaWL4BHy8OXx8bQmjqPlAeBiF/2H+7vT3OKfFv7a145w5bvle4+Sh6053JLHXsZ9/E81AC5m4V9b9EZfAFsdt0bgWw6OEn/eEGgKnnduXmL+xT9o/C0Pdu8ktLpqyxfASxywcjD2TkBto7xkp6xVE5L+vsc6tXdDeYnNtfj3jf9q6+SJHwYL4ds90PTPIXz7kNjae6tpEuL91doPaS2JoeV921Lhb5GD9PtbH/NTNFRpDpYe/0ixl8ZsHveSGOL7hPDXD2X2koNWn3+Yy9FUM9XqA6ita8pIsffSVB4p/ql41tSBdH7FtbXlWF1UhNM/pwt9PBnnrnrWLgJ7J+EpdxTWNAN7NkDPkYO58TBVBC49/t6LYE0jMBXjVHxvb9+HEEL49f6XEEII3//4cwghhN9/+iF8/+PP4R//+XfT+NOnX1rnttfY92qoaxe/Xs59i3jzi99ac3Vg7/l/lR58+shX/ueli3WL4EcugrGI1DYDNbGn79drBzwXb2mHaE5eBEa7CspzsTX+3otgqRE4V+iXxJ8/krpnE5hf8Kz5t0aJvVVTvWUR7Onc79Hst8jBHvP/qnUi0sWvlKCjFsFzkyjNzZEXwFIe8qaltlCMuADOFYat8fdcBPcoiDH+mIPnjD9tCOYeAd6yCKb14TliT2Nceouu1cIfc/CU8a/dBUnjjhdn+fo3tfbVrAVPMf+vWw+i0kGlyYjJWTtovn767VsyQghfP70J4eami4JXsxhvjT1fAEdY/NPBH1+T38+vvVLu8dwv2eWqib8U+9vb95NNYK/xTu2ATG0Dp7d44ve/CNentADm3/uUMeVjOv2gZ/oZjal5PRX71IXTc8SeN+3ndoBjHct/KNhc41ubgzT+0ve3jjuNd25hTWt3aaHPvzdf+/J8lpqPPH97zv+mDcDUT43Li1upCJ67cui5CJ6Le2vsIy2AUw1gLJilRiDfLUqvAP4IX69e374Lo3+qPsY6FX9pEexpAWxZaNNf8/zEXJQa6vR7nnv3Y2qHc2oRnIs9jWfuYuIpY8+PoTTepj4rUbpVmcd+LgfpDkDMyZ7xp3GUbomnDV4p5nO3UPLPMOXjeSp/aQ3cswlqun1U89rSo1Lp38098tDTI2axSG+NPX2/+PUX4foU33+EZ7LncpHHPHX8Mc6p9xrt8cJzY7i0iOTnvpS/3uXx5Odt7jzG783HwEg5KNWxUsylGPOvjfhYaV6/z533fKyPGHvNcdY+0h7XiTDihF8zQEoTp/fnPteepFJc6XvNxd7rAliTi5om4Gg/TGiugM2NgRZzrKd6cG7M18Y4wtiYW9TXxj7afKiZx2ktS2vfqLHXHmdNDRyqCVh6FXwuaTXFY9TGZy6m0mIx0sSvyUVtvo70g3TWFIY95lovO0EtYupxfMwV7NLfr7loOkrzuzS2EWKvPcba8R53gw91oms75laFoofCXhP33HuNUPSX5OJcPFNbwKNaEkdNbnovCueOsdXWfo/jozbutbVjlDkxd5tjTe0YJe6a46wd7+mt4CFO9pYFMU3KufuDR7o6XDoYxH3cWGteP8JnIGqOsXa+jzQ+lvwPxJ7zgmvEi8SjNL9LxnvpFslhrUmKuMV9pFiPeq73jHHUD4VuOd4Rx8elxL3HMV7y/1cFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYExXUgCM7svj4yn/u88fP4SXr96EEEL47uZGrYPMtRQAoy74nz9+qFrgvzw+nj5//BBe3747VCPwcH93CiH82ehogrADABx24Y+L/prF/Mvj4+kIC+GaPMSm6UiNQMzDVAOk8QEuftGM/z3c351K2+WjXO3GK95LPpdb83CEHC7Jw+jjfrgTU/q9+MXP0y72sfAdaeGz8LfJwahzc2se4rxQKXaepJc4YcU/VvwtC0F+hf0U8ef/3lEL26Ve+cfz2Xrxl4N9dkH2uvjZc15ftTzIeE/q5as3ofb+VLwnV/trz0Wq9Pcx/tHiOXL8rT8Q9tSxb70PvmehTu/HLsnx3Lwf5cN76Xldeo7zuEtjquccbIl96r32zkHLGpSO0xZjdioH6doa/7wlhmctgGu7sK1B7+G///zX6feffgjf//hzCCGE33/6IYQQwtvb9yGEEH69/yVM5ei5mp+W77tH/K0blL0+Df1Usfe48G+Z/0vqQO8NwNwCcOnxb130e8/B2ovfJc1fKQ/p6/IPQdbWuGct/lv1NCDybZo4CFrnoEXzs8dV1R7xpwvk1uPZs2HcO/ZeF/495n9+hTPC4jdVsFvFP0IuYg5e3767Sn+/tQGK77dmYT1K87vm/Kc1KX9KIv75u5ubq6seCmB6cvMJkHY78WvpIFu7ILa+yizlIMYfc3Bucu/ZCKTHt9duwrn4awrcmphLjwI95Q5RbexHanhbN0Dpuc2LYu8NQIsGqBR/GnfPt0L2aICm4uwtD3s2v2mM+frX6vh3awBKBTA/8HQRrp30+eTIt0HmCn96n7L1ACpt4T7c351iHv4IX69KJ3FuC3gqJzUx5x3g3hNmqrNN458ayFP3fecmSrrQPPcisST2fIu0JvYRtn/XNH/5Dk+anzSPI8afLwJTOxtT8ZfmbK9NQMsGqPacx1wdqfmtib113M1+EmDp/uWLcH2aK2Ix6Ne3767SRWHuU4/51/MuKb3XW9ry2GsgxPeeWrzTE5d+LeYg//X17bur0nZaKeZSvp76MxJ5/OcGb00Oppqf3rYC09inrobS2NPX1cQ+grwB+vX+lz+LYBzHpQ/15TXgOcbuHmJ8L8L16e3t+8mLoDz+OL7n6mVvsX799Ft4GUL4+un/dbdihy9v/tOaMPdDffKLgB6lzW/r2HuOe7Lozy3oSx+dGKU4po+svAjXf3l8JW2M0rjzX+PvR1sQ8tinzl36tVIO4utHPOd5jKUYps57fs5HOv95Dl6E61M+/vN4pub9KI81luZtPgbm5nH6fecedctrRy/xl372RHruH+7vTlPHHr++9Hz3kItz5z6vY6ULw6WxD/O4bxrYXAFcUuRGKwql5iXNy7nmaMTnf+diKk2AuVz1XPimJvqW2EvvM1oDsORiYGqsHOm597l5vGTxr7mg6m0RzGOvHfMtLi57O+9T539p7MPMi7mub203N0LwSxeCJVeUo8de8/q5bfQeJ/yac1Qa76Nd+a05xqM1+i3HR83rRqoH+Tks1bMtO5y95qK2id8yxruvB+nWT6uFboQiWHuc505+aXv8CHGfy8Xce/Q44dfEPHerYNRGsOYYl+RqlLleG0fL3IxQD+biqZ3vI+ZiqrFvuaPZfT2o3eJOv37udUcpgke96n+quHuZ8Gtjzsf7ufepnR89XOm12s4/wvZ/64sfcY8Z99L5vnWudV8MDhl0o2McIU5xtzveEc/33jEeISetL37ELW4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4On8Dyxa/84Bbl8UAAAAAElFTkSuQmCC",Bs="/tower-defense/assets/demon-e8dd8c44.png",Ps="/tower-defense/assets/frostGuardian-b8fd95ac.png",Ms="/tower-defense/assets/deathWorm-3b814359.png";class bs{constructor(){e(this,"getAssets",async()=>({skeletonShield:await A(us),mushroom:await A(fs),goblin:await A(ps),skeletonGuard:await A(ws),skeletonGuardSpawn:await A(Is),chainedGolem:await A(vs),terrorWolf:await A(xs),bloodyBat:await A(Cs),evilWitch:await A(Ts),fireWorm:await A(Es),skeletonArcher:await A(Ss),skeletonWarrior:await A(ys),necromancer:await A(Hs),skeletonCat:await A(Fs),demon:await A(Bs),frostGuardian:await A(Ps),deathWorm:await A(Ms)}))}}const Gs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAAgCAYAAADKS6uVAAAAAXNSR0IArs4c6QAABXVJREFUeJztnD1vHUUUhg8otgVGCklk4soCCvoUiC4SSCAhUVuRKCiQAgb/Bf8LywEkCgqkCFFQIKVwEYkOUVDQUUBkUWAsAy7cJJFCYR1zMndmdmZ3Z2c2eZ7qeufe63f3zjvvfO2KAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA+Hn48MGj2hqGMHf9AADwlEKAwRyZe72du34AAHhKIcAAgIYAAAB682ys8Oj4cOvo+HDL/l1e0nBU91z0WuaqW2Q+9WMIc/p9Yv5tufOIf+swV905tPb7PBMq6BK5c7Ky5zv+2asvBr9zClIv7i/PveDV/9bzq1H9sYbrwoWlQefual+7cvVW6Hxyrr/VHNPonlvO+Vida1eu3oqVi4i8892JV7/y84evnf9v1ZWqJ/f9VqNPuy3X1yH9VrfVk6ulz2csXT64dPHy3vbB6cLxufj30sXLC9f/h/v3O/1bkr7+3d1YPT8+tA3pS0n/TkUp/5Yk+s9ilefHu395P/PGmy899ncNQ7uVyT2PUPj6iBl6aCPpQ7XaiuTq3zlZ2dtcX5Jv/nwgIiKb60vnZXpMmfL6pxrg2o1vz6//2o23z8pu70vo2B/7n1YNBZE084ao0RiJLNYbX2gpr3/1u4i05V+r95+Tvz/R17HzEDkLYmXqQLb+1Y6g1S6y6F8bwC5TBrLrX7d9S/HvvTs35eV3v3isrFb9t7Tq3+wAjoWvjxYMrRwdH25pz1NDyw2sruO1etj6W6h5lVgIW5Mrta+/Na+SEsL2WE1DX/vy18FTt1PpD/lX5KzR19C1qF/V4635NxS+djTfSofUEvLv9eXlrO+pNUIWyfNvrKxmh7o1/2ZNQeeGr49Sho5NodjKb4/3DWF7fGz9KSNfl64QdjUruxuroxi6z8jXJTeEpzS06s/tOadSIpBj/rUe9PnZDWFfmTKlf2MjX3c6PRbCltr+zQ1g9zzH0F/Kv7Gye3dunr8u3alo2b/eD5YK3xBq6r6VyafXnXoOrZmOEcJDR8cpa0eh8FVyQjjUCPQxQkrDqfpzvzuVMa5/qAGynbfvP/ra+3ltYET8nQXfcfv3e5+/LyJlwkxx/TskhEPvLenfWPjqlHPIq74y3/tq+DcngO3Uuu875uZfd+q9bxD39W/In265r8wyxL9ZI+DY9INI/5MYYwQTqkihSpTaGKU0RGOMYHw9aLfcN30eC+VUhk6rhwyQs/YeayCV0LmWXBZw68+QEP7pg1cWRjAiZaZFU/2rdOk/ur2/sL435hp9in9DIexbv/b5O+Thqf0bW/ONEQrgGv51ByB9/Duk45BKl39z80vD1jLEv9lrwGOEcI01AN80dN8QrrXDT+R//aHefddoV6TuOrY1se3928ZFj7sNzvXl5eo7XT/+7d9HOSFsDbu7sSrbB6eTrUOWCGGRuv71hbBdy04J4Rb82yeEtw9OZXN9qRn/+todS6gNas2/sfwaO3Bdet1mkhvCtRbdQ7uhc0O49i5W7Z32DeGpN564PepYTzolhGsa1pIyHV3asH3p8q/i83Fr/rUhHNtIJlIvcEW6/ZsawlNvvMrxb0oIt1D/RdKmo909DiJl/Zv0xX1GwrW3nnfdTxhrhETq3/qSeh92KIRr7/YUiW9I6QphX+iWuO3LR1cDJNK9JtZKoyOSPxIWab/+awjrlLhL6/p3Tlb2Wrn9yNLHv2PuhxmDJ82/IiKzfDqNT/Mc9bvHaulJJaZxiP4Wnt40h+vvA/9OD/5tj9b0Zz8pSCS80QBgbEo+eawUUzx5rA+p/p3qyWOlqPHkMQCAJ5oWRsAAAAAAAAAA0AUjeAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmC//AceoSZ76eCiRAAAAAElFTkSuQmCC",ks="data:image/png;base64,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",Ls="/tower-defense/assets/fireExplosion-753bfe6e.png",Os="/tower-defense/assets/electrified-d56626fc.png",Xs="/tower-defense/assets/electrify-d3dce14a.png";class Ns{constructor(){e(this,"textures",null);e(this,"arcaneArcher",null);e(this,"arcaneArcherProjectile",null);e(this,"arcaneArcherBp",null);e(this,"fireMage",null);e(this,"fireMageProjectile",null);e(this,"fireMageBp",null);e(this,"lightningMage",null);e(this,"lightningMageProjectile",null);e(this,"lightningMageBp",null);e(this,"demonMage",null);e(this,"demonMageProjectile",null);e(this,"demonMageBp",null);e(this,"obelisk",null);e(this,"obeliskBp",null);e(this,"enemyAssets",null);e(this,"icicle",null);e(this,"freezeTower",null);e(this,"fireExplosion",null);e(this,"electrified",null);e(this,"electrify",null);e(this,"loadImages",async()=>{this.textures=await A(ss),this.arcaneArcher=await A(es),this.arcaneArcherProjectile=await A(ts),this.arcaneArcherBp=await A(is),this.fireMage=await A(as),this.fireMageProjectile=await A(ns),this.fireMageBp=await A(rs),this.lightningMage=await A(os),this.lightningMageProjectile=await A(hs),this.lightningMageBp=await A(ls),this.demonMage=await A(cs),this.demonMageProjectile=await A(As),this.demonMageBp=await A(ds),this.obelisk=await A(ms),this.obeliskBp=await A(gs),this.enemyAssets=await new bs().getAssets(),this.icicle=await A(Gs),this.freezeTower=await A(ks),this.fireExplosion=await A(Ls),this.electrified=await A(Os),this.electrify=await A(Xs)});e(this,"getImage",t=>{const i=this[t];if(i===null)throw new Error("Images not loaded yet");return i});e(this,"getEnemyImage",t=>{if(this.enemyAssets===null)throw new Error("Enemy assets not loaded yet");return this.enemyAssets[t]})}}class Rs{constructor(){e(this,"columLength",8);e(this,"rowLength",16);e(this,"tileWdith",64);e(this,"tileHeight",this.tileWdith);e(this,"tilesTotal",this.columLength*this.rowLength);e(this,"pathConfiguration",[{id:32,direction:"horizontal"},{id:33,direction:"horizontal"},{id:34,direction:"corner"},{id:50,direction:"vertical"},{id:66,direction:"vertical"},{id:82,direction:"vertical"},{id:98,direction:"corner"},{id:99,direction:"horizontal"},{id:100,direction:"horizontal"},{id:101,direction:"corner"},{id:85,direction:"vertical"},{id:69,direction:"vertical"},{id:53,direction:"vertical"},{id:37,direction:"vertical"},{id:21,direction:"corner"},{id:22,direction:"horizontal"},{id:23,direction:"horizontal"},{id:24,direction:"horizontal"},{id:25,direction:"horizontal"},{id:26,direction:"corner"},{id:42,direction:"vertical"},{id:58,direction:"vertical"},{id:74,direction:"corner"},{id:73,direction:"horizontal"},{id:72,direction:"corner"},{id:88,direction:"vertical"},{id:104,direction:"corner"},{id:105,direction:"horizontal"},{id:106,direction:"horizontal"},{id:107,direction:"horizontal"},{id:108,direction:"horizontal"},{id:109,direction:"corner"},{id:93,direction:"vertical"},{id:77,direction:"vertical"},{id:61,direction:"vertical"},{id:45,direction:"vertical"},{id:29,direction:"vertical"},{id:13,direction:"vertical"}]);e(this,"pathEndPoint",{x:864,y:-32});e(this,"tileRows",[]);e(this,"tilePaths",[]);e(this,"tileGras",[]);e(this,"debug",!1);e(this,"getTileX",t=>t%this.rowLength*this.tileWdith);e(this,"getTileY",()=>this.tileRows.length*this.tileWdith);e(this,"createTileGrid",()=>{for(let t=0,i=[];t<this.tilesTotal;t++){const a=this.pathConfiguration.find(n=>n.id===t);if(a!==void 0){const n=new vt(t,this.getTileX(t),this.getTileY(),a.direction);i.push(n),this.tilePaths.push(n)}else{const n=new k(t,this.getTileX(t),this.getTileY());i.push(n),this.tileGras.push(n)}i.length===this.rowLength&&(this.tileRows.push(i),i=[])}});e(this,"buildTileImg",()=>{this.tileRows.forEach(t=>{t.forEach(i=>{i.updateBG()})})});e(this,"getTileRows",()=>this.tileRows);e(this,"getTilePaths",()=>this.tilePaths);e(this,"getPathConfiguration",()=>this.pathConfiguration);e(this,"getPathConfigurationCorners",()=>this.getPathConfiguration().filter(t=>t.direction==="corner").map(t=>t.id));e(this,"getPathEndPoint",()=>this.pathEndPoint);e(this,"getPathNodes",()=>[...this.getTilePaths().filter(t=>t.direction==="corner").sort((t,i)=>this.getPathConfigurationCorners().indexOf(t.id)-this.getPathConfigurationCorners().indexOf(i.id)).map(t=>({x:t.x+32,y:t.y+32})),this.getPathEndPoint()]);e(this,"updateTilesGras",()=>{this.tileGras.forEach(t=>t.update())});e(this,"update",()=>{this.updateTilesGras()});e(this,"drawGrid",()=>{this.debug?this.tileRows.forEach(t=>{t.forEach(i=>{i.updateBG()})}):this.tileRows.forEach(t=>{t.forEach(i=>{i.drawGrid()})}),this.debug=!this.debug})}}class Ws{constructor(){e(this,"loadingScreen");e(this,"removeLoadingScreen",()=>{this.loadingScreen.remove()});this.loadingScreen=document.createElement("div"),this.loadingScreen.id="loading-screen",this.loadingScreen.classList.add("box-shadow"),this.loadingScreen.innerHTML="Loading...",de.appendChild(this.loadingScreen)}}class Ds{constructor(t){e(this,"startScreen");e(this,"startButton");e(this,"buttonCallback");e(this,"githubLink");e(this,"scaleInTransform",[{transform:"translate(-50%, -50%) scale(1)"},{transform:"translate(-50%, -50%) scale(0.9)"}]);e(this,"scaleInTiming",100);this.buttonCallback=t,this.startScreen=document.createElement("div"),this.startScreen.id="start-screen",this.startScreen.classList.add("box-shadow"),this.startButton=document.createElement("button"),this.startButton.id="start-button",this.startButton.classList.add("box-shadow","play-button"),this.startButton.innerText="START",this.startButton.addEventListener("click",()=>{this.removeStartScreen()}),this.startScreen.appendChild(this.startButton),this.githubLink=document.createElement("a"),this.githubLink.id="github-link-start-screen",this.githubLink.href="https://github.com/florianGierlichs/tower-defense",this.githubLink.target="_blank",this.startScreen.appendChild(this.githubLink),de.appendChild(this.startScreen)}removeStartScreen(){this.startScreen.animate(this.scaleInTransform,this.scaleInTiming),setTimeout(()=>{this.startScreen.remove(),this.buttonCallback();const t=document.getElementById("github-link");t&&(t.style.display="block")},this.scaleInTiming)}}let h,G,d;const de=document.getElementById("wrapper");class js{constructor(){e(this,"loadingScreen");e(this,"imageController");e(this,"initiateGame",()=>{h=new Yt,G=new Rs,d=new _i});this.loadingScreen=new Ws,this.imageController=new Ns,this.imageController.loadImages().then(()=>{this.loadingScreen.removeLoadingScreen(),new Ds(this.initiateGame)})}}const H=new js;
